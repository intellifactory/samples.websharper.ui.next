function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},ScriptBasePath:"./",ScriptPath:function(n,t){return this.ScriptBasePath+(this.ScriptSkipAssemblyDir?"":n+"/")+t},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){self.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});Object.setPrototypeOf||(Object.setPrototypeOf=function(n,t){return n.__proto__=t,n});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH;a=self;b=a.WebSharper=a.WebSharper||{};c=b.UI=b.UI||{};d=c.Client=c.Client||{};e=c.Site=c.Site||{};f=b.List=b.List||{};g=c.SimpleTextBox=c.SimpleTextBox||{};h=c.InputTransform=c.InputTransform||{};i=c.InputTransformHtml=c.InputTransformHtml||{};j=c.TodoList=c.TodoList||{};k=c.PhoneExample=c.PhoneExample||{};l=c.EditablePersonList=c.EditablePersonList||{};m=c.CheckBoxTest=c.CheckBoxTest||{};n=c.Calculator=c.Calculator||{};o=c.ContactFlow=c.ContactFlow||{};p=c.AnimatedContactFlow=c.AnimatedContactFlow||{};q=c.MessageBoard=c.MessageBoard||{};r=c.BobsleighSite=c.BobsleighSite||{};s=c.RoutedBobsleighSite=c.RoutedBobsleighSite||{};t=c.AnimatedBobsleighSite=c.AnimatedBobsleighSite||{};u=c.ObjectConstancy=c.ObjectConstancy||{};v=c.MouseInfo=c.MouseInfo||{};w=c.KeyboardInfo=c.KeyboardInfo||{};x=c.Router=c.Router||{};y=c.Samples=c.Samples||{};z=y.PageTy=y.PageTy||{};A=b.Obj=b.Obj||{};B=c.Var$1=c.Var$1||{};C=b.Operators=b.Operators||{};D=c.Var=c.Var||{};E=y.BobsleighSitePage=y.BobsleighSitePage||{};F=y.SampleTy=y.SampleTy||{};G=a.WebSharper$UI$Samples_Router=a.WebSharper$UI$Samples_Router||{};H=a.WebSharper$UI$Samples_Templates=a.WebSharper$UI$Samples_Templates||{};I=f.T=f.T||{};J=b.Arrays=b.Arrays||{};K=a.StartupCode$WebSharper_UI_Samples$SimpleTextBox=a.StartupCode$WebSharper_UI_Samples$SimpleTextBox||{};L=a.StartupCode$WebSharper_UI_Samples$InputTransform=a.StartupCode$WebSharper_UI_Samples$InputTransform||{};M=a.StartupCode$WebSharper_UI_Samples$InputTransformHtml=a.StartupCode$WebSharper_UI_Samples$InputTransformHtml||{};N=a.StartupCode$WebSharper_UI_Samples$TodoList=a.StartupCode$WebSharper_UI_Samples$TodoList||{};O=a.StartupCode$WebSharper_UI_Samples$PhoneExample=a.StartupCode$WebSharper_UI_Samples$PhoneExample||{};P=a.StartupCode$WebSharper_UI_Samples$EditablePersonList=a.StartupCode$WebSharper_UI_Samples$EditablePersonList||{};Q=a.StartupCode$WebSharper_UI_Samples$CheckBoxTest=a.StartupCode$WebSharper_UI_Samples$CheckBoxTest||{};R=a.StartupCode$WebSharper_UI_Samples$Calculator=a.StartupCode$WebSharper_UI_Samples$Calculator||{};S=a.StartupCode$WebSharper_UI_Samples$ContactFlow=a.StartupCode$WebSharper_UI_Samples$ContactFlow||{};T=a.StartupCode$WebSharper_UI_Samples$AnimatedContactFlow=a.StartupCode$WebSharper_UI_Samples$AnimatedContactFlow||{};U=a.StartupCode$WebSharper_UI_Samples$MessageBoard=a.StartupCode$WebSharper_UI_Samples$MessageBoard||{};V=a.StartupCode$WebSharper_UI_Samples$BobsleighSite=a.StartupCode$WebSharper_UI_Samples$BobsleighSite||{};W=a.StartupCode$WebSharper_UI_Samples$RoutedBobsleighSite=a.StartupCode$WebSharper_UI_Samples$RoutedBobsleighSite||{};X=a.StartupCode$WebSharper_UI_Samples$AnimatedBobsleighSite=a.StartupCode$WebSharper_UI_Samples$AnimatedBobsleighSite||{};Y=a.StartupCode$WebSharper_UI_Samples$ObjectConstancy=a.StartupCode$WebSharper_UI_Samples$ObjectConstancy||{};Z=a.StartupCode$WebSharper_UI_Samples$MouseInfo=a.StartupCode$WebSharper_UI_Samples$MouseInfo||{};_0=a.StartupCode$WebSharper_UI_Samples$KeyboardInfo=a.StartupCode$WebSharper_UI_Samples$KeyboardInfo||{};_1=b.Sitelets=b.Sitelets||{};_2=_1.RouterModule=_1.RouterModule||{};_3=_1.Route=_1.Route||{};_4=c.Doc=c.Doc||{};_5=e.AboutEntry=e.AboutEntry||{};_6=c.Utilities=c.Utilities||{};_7=c.HtmlModule=c.HtmlModule||{};_8=_7.attr=_7.attr||{};_9=y.Sample=y.Sample||{};_=c.SortableBarChart=c.SortableBarChart||{};$=d.Templates=d.Templates||{};ba=b.JavaScript=b.JavaScript||{};bb=ba.Pervasives=ba.Pervasives||{};bc=c.View=c.View||{};bd=b.Unchecked=b.Unchecked||{};be=c.AttrProxy=c.AttrProxy||{};bf=_1.RouterOperators=_1.RouterOperators||{};bg=y.Builder=y.Builder||{};bh=l.Person=l.Person||{};bi=m.Person=m.Person||{};bj=n.Calculator=n.Calculator||{};bk=n.Op=n.Op||{};bl=c.Flow=c.Flow||{};bm=o.Person=o.Person||{};bn=o.ContactType=o.ContactType||{};bo=c.An=c.An||{};bp=c.Easing=c.Easing||{};bq=c.Interpolation=c.Interpolation||{};br=c.Trans=c.Trans||{};bs=p.Person=p.Person||{};bt=p.ContactType=p.ContactType||{};bu=b.Collections=b.Collections||{};bv=bu.Map=bu.Map||{};bw=t.Page=t.Page||{};bx=c.Input=c.Input||{};by=bx.Keyboard=bx.Keyboard||{};bz=c.ConcreteVar=c.ConcreteVar||{};bA=c.Snap=c.Snap||{};bB=ba.JS=ba.JS||{};bC=b.Option=b.Option||{};bD=a.EventTarget;bE=a.Node;bF=a.WindowOrWorkerGlobalScope;bG=b.Utils=b.Utils||{};bH=_1.Router=_1.Router||{};bI=b.Seq=b.Seq||{};bJ=c.Array=c.Array||{};bK=c.AttrModule=c.AttrModule||{};bL=a.StartupCode$WebSharper_UI_Samples$Samples=a.StartupCode$WebSharper_UI_Samples$Samples||{};bM=a.StartupCode$WebSharper_UI_Samples$Site=a.StartupCode$WebSharper_UI_Samples$Site||{};bN=c.SiteCommon=c.SiteCommon||{};bO=bN.Meta=bN.Meta||{};bP=a.StartupCode$WebSharper_UI_Samples$SortableBarChart=a.StartupCode$WebSharper_UI_Samples$SortableBarChart||{};bQ=bu.Dictionary=bu.Dictionary||{};bR=c.DomUtility=c.DomUtility||{};bS=c.Attrs=c.Attrs||{};bT=_1.List=_1.List||{};bU=c.Templating=c.Templating||{};bV=bU.Runtime=bU.Runtime||{};bW=bV.Server=bV.Server||{};bX=bW.TemplateInstance=bW.TemplateInstance||{};bY=bW.ProviderBuilder=bW.ProviderBuilder||{};bZ=bW.Handler=bW.Handler||{};b0=k.Phone=k.Phone||{};b1=m.Restaurant=m.Restaurant||{};b2=c.FlowBuilder=c.FlowBuilder||{};b3=c.Easings=c.Easings||{};b4=c.DoubleInterpolation=c.DoubleInterpolation||{};b5=bu.FSharpMap=bu.FSharpMap||{};b6=q.Action=q.Action||{};b7=q.Auth=q.Auth||{};b8=q.State=q.State||{};b9=b7.Component=b7.Component||{};b_=r.Context=r.Context||{};b$=t.Context=t.Context||{};ca=b.Slice=b.Slice||{};cb=u.DataSet=u.DataSet||{};cc=u.StateView=u.StateView||{};cd=bx.Mouse=bx.Mouse||{};ce=bx.KeyListenerSt=bx.KeyListenerSt||{};cf=c.Abbrev=c.Abbrev||{};cg=cf.Fresh=cf.Fresh||{};ch=b.Strings=b.Strings||{};ci=cf.Async=cf.Async||{};cj=b.Enumerator=b.Enumerator||{};ck=b.Lazy=b.Lazy||{};cl=a.Object;cm=a.StartupCode$WebSharper_UI$Templates=a.StartupCode$WebSharper_UI$Templates||{};cn=bu.HashSet=bu.HashSet||{};co=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};cp=c.Docs=c.Docs||{};cq=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};cr=cj.T=cj.T||{};cs=bu.List=bu.List||{};ct=a.System=a.System||{};cu=ct.Guid=ct.Guid||{};cv=bV.Client=bV.Client||{};cw=k.Order=k.Order||{};cx=b.Numeric=b.Numeric||{};cy=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};cz=bu.MapUtil=bu.MapUtil||{};cA=c.Common=c.Common||{};cB=c.Server=c.Server||{};cC=cA.User=cA.User||{};cD=cA.Thread=cA.Thread||{};cE=cA.Post=cA.Post||{};cF=bx.MouseBtnSt=bx.MouseBtnSt||{};cG=bx.MousePosSt=bx.MousePosSt||{};cH=a.Event;cI=a.UIEvent;cJ=a.StartupCode$WebSharper_UI$Input=a.StartupCode$WebSharper_UI$Input||{};cK=bu.BalancedTree=bu.BalancedTree||{};cL=cK.Tree=cK.Tree||{};cM=bu.Pair=bu.Pair||{};cN=b.LazyExtensionsProxy=b.LazyExtensionsProxy||{};cO=cN.LazyRecord=cN.LazyRecord||{};cP=c.DocElemNode=c.DocElemNode||{};cQ=a.CharacterData;cR=c.Elt=c.Elt||{};cS=_.Ordering=_.Ordering||{};cT=bu.DictionaryUtil=bu.DictionaryUtil||{};cU=$.Prepare=$.Prepare||{};cV=bu.KeyCollection=bu.KeyCollection||{};cW=d.Settings=d.Settings||{};cX=cf.Mailbox=cf.Mailbox||{};cY=c.CheckedInput=c.CheckedInput||{};cZ=j.Model=j.Model||{};c0=c.ListModel=c.ListModel||{};c1=j.TodoItem=j.TodoItem||{};c2=j.Util=j.Util||{};c3=c.Anims=c.Anims||{};c4=c.AnimatedAttrNode=c.AnimatedAttrNode||{};c5=cA.Fresh=cA.Fresh||{};c6=b.Concurrency=b.Concurrency||{};c7=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};c8=_1.PathUtil=_1.PathUtil||{};c9=d.Attrs=d.Attrs||{};c_=c9.Dyn=c9.Dyn||{};c$=c.Updates=c.Updates||{};da=_.DataView=_.DataView||{};db=_.DataEntry=_.DataEntry||{};dc=d.Docs=d.Docs||{};dd=dc.RunState=dc.RunState||{};de=dc.NodeSet=dc.NodeSet||{};df=a.StartupCode$WebSharper_UI$Doc_Proxy=a.StartupCode$WebSharper_UI$Doc_Proxy||{};dg=c.Storage=c.Storage||{};dh=c.Key=c.Key||{};di=c6.AsyncBody=c6.AsyncBody||{};dj=c6.CT=c6.CT||{};dk=c.DynamicAttrNode=c.DynamicAttrNode||{};dl=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};dm=a.Error;dn=b.FormatException=b.FormatException||{};_do=c.AppendList=c.AppendList||{};dp=b.Queue=b.Queue||{};dq=dg.ArrayStorage=dg.ArrayStorage||{};dr=c.ListModels=c.ListModels||{};ds=c6.Scheduler=c6.Scheduler||{};dt=b.CancellationTokenSource=b.CancellationTokenSource||{};du=bu.HashSetUtil=bu.HashSetUtil||{};dv=cf.HashSet=cf.HashSet||{};dw=b.OperationCanceledException=b.OperationCanceledException||{};dx=dc.DomNodes=dc.DomNodes||{};dy=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};dz=c.String=c.String||{};dA=b.Char=b.Char||{};dB=a.Math;dC=a.String;dD=a.console;dE=a.IntelliFactory;dF=dE&&dE.Runtime;dG=a.jQuery;dH=a.Date;d.Main=function(){e.Main(f.ofArray([g.Sample(),h.Sample(),i.Sample(),j.Sample(),k.Sample(),l.Sample(),m.Sample(),n.Sample(),o.Sample(),p.Sample(),q.Sample(),r.Sample(),s.Sample(),t.Sample(),u.Sample(),v.Sample(),w.Sample()]));};e.Main=function(dI){var dJ,dK,dL;function dM(dN){B.Set(dJ,dN);}dJ=x.InstallHash(z.Home,G.r$2());dK=_4.BindView(function(dN){return dN.$==1?e.AboutPage(dM):dN.$==2?((e.RenderSample(dN.$0))(dJ))(dI):e.HomePage(dM);},dJ.get_View());$.LoadLocalTemplates("");_4.RunById("main",dK);dL=e.NavBar(dJ);$.LoadLocalTemplates("");_4.RunById("navigation",dL);};e.AboutPage=function(dI){function dJ(dN){return _4.Concat([_4.Element("h1",[],[_4.TextNode(dN.Name)]),_4.Element("p",[_6.cls("lead")],[_4.TextNode(dN.Description)]),_4.Element("p",[],[_4.Element("ul",[_6.cls("list-unstyled")],f.map(function(dO){return _4.Element("li",[],[dO]);},dN.URLs))])]);}function dK(dN){return _4.Element("section",[_6.cls("block-large")],[_6.divc("container",[_6.divc("row",[_6.divc("col-lg-3",[_4.Element("img",[be.Create("src",dN.ImgURL),_6.sty("width","100%")],[])]),_6.divc("col-lg-1",[]),_6.divc("col-lg-8",[dJ(dN)])])])]);}function dL(dN){return _4.Element("section",[_6.cls("block-large"),_6.cls("bg-alt")],[_6.divc("container",[_6.divc("row",[_6.divc("col-lg-8",[dJ(dN)]),_6.divc("col-lg-1",[]),_6.divc("col-lg-3",[_4.Element("img",[be.Create("src",dN.ImgURL),_6.sty("width","100%")],[])])])])]);}function dM(dN){return _4.Element("span",[_6.cls("fa"),_6.cls(dN),_6.cls("fa-3x"),_6.sty("font-size","400%"),_6.sty("color","#aaa")],[]);}return _6.divc("extensions",[_6.divc("container",[_4.Element("section",[_6.cls("block-huge")],[_4.Element("h1",[],[_4.TextNode("WebSharper UI: "),_4.Element("span",[_6.cls("text-muted")],[_4.TextNode("Everything you need to know.")])]),_4.Element("p",[_6.cls("lead")],[_4.TextNode("A selection of resources about UI.")])])]),_6.divc("block-large bg-alt",[_6.divc("container",[_6.divc("row text-center",[_6.divc("col-lg-4",[dM("fa-graduation-cap"),_4.Element("h3",[],[_4.TextNode("Get Started")]),_4.Element("p",[],[_4.TextNode("Take the tutorial, and you'll be writing reactive applications in no time!")]),e.linkBtn("Tutorial","https://github.com/intellifactory/websharper.ui.next/blob/master/docs/Tutorial.md")]),_6.divc("col-lg-4",[dM("fa-book"),_4.Element("h3",[],[_4.TextNode("Dive Right In")]),_4.Element("p",[],[_4.TextNode("Comprehensive documentation on the UI API.")]),e.linkBtn("API Reference","https://github.com/intellifactory/websharper.ui.next/blob/master/docs/API.md")]),_6.divc("col-lg-4",[dM("fa-send"),_4.Element("h3",[],[_4.TextNode("See it in Action")]),_4.Element("p",[],[_4.TextNode("A variety of samples using UI, and their associated source code!")]),_4.Button("Samples",[_6.cls("btn"),_6.cls("btn-default")],function(){dI(y.SamplesDefault());})])])])]),_4.Concat(f.mapi(function(dN,dO){return(function(dP){return dP%2===0?dK:dL;}(dN))(dO);},e.Entries()))]);};e.RenderSample=function(dI){return dI.$==1?h.Sample().Page:dI.$==2?i.Sample().Page:dI.$==3?j.Sample().Page:dI.$==4?k.Sample().Page:dI.$==5?l.Sample().Page:dI.$==6?m.Sample().Page:dI.$==7?n.Sample().Page:dI.$==8?o.Sample().Page:dI.$==9?p.Sample().Page:dI.$==10?q.Sample().Page:dI.$==11?r.Sample().Page:dI.$==12?s.Sample().Page:dI.$==13?t.Sample().Page:dI.$==14?u.Sample().Page:dI.$==15?v.Sample().Page:dI.$==16?w.Sample().Page:dI.$==17?_.Sample().Page:g.Sample().Page;};e.HomePage=function(dI){return _6.divc("container",[_4.Element("section",[_6.cls("block-huge"),_6.cls("teaser-home"),_6.sty("height","700px"),_6.sty("padding-top","40px"),_6.sty("padding-bottom","30px"),_6.sty("margin-bottom","40px")],[_6.divc("container",[_6.divc("row",[_6.divc("col-12",[_4.Element("br",[],[]),_4.Element("h1",[],[_4.TextNode("WebSharper UI: "),_4.Element("span",[_6.cls("text-muted")],[_4.TextNode("A new generation of reactive web applications.")])]),_4.Element("h3",[],[_4.TextNode("Write powerful, data-backed applications"),_4.Element("br",[],[]),_4.TextNode(" using F# and WebSharper.")]),_4.Element("p",[_6.cls("lead")],[_4.TextNode("Get it free on NuGet today!")])])])])])]);};e.NavBar=function(dI){function dJ(dK,dL){return _4.Element("li",[_6.cls("nav-item")],[_6.href(dK,dL)]);}return _4.Element("nav",[_6.cls("container")],[_4.Element("div",[_6.sty("float","left")],[_4.Element("a",[be.Create("href","http://www.websharper.com/home"),_6.sty("text-decoration","none"),_6.cls("first")],[_4.Element("img",[be.Create("src","files/logo-websharper-icon.png"),be.Create("alt","[logo]"),_6.sty("margin-top","0"),_6.sty("border-right","1px"),_6.sty("solid","#eee")],[]),_4.Element("img",[be.Create("src","files/logo-websharper-text-dark.png"),be.Create("alt","WebSharper"),_6.sty("height","32px")],[])])]),_4.Element("nav",[_6.cls("nav"),_6.cls("nav-collapsible"),_6.cls("right"),_6.sty("float","right")],[_4.Element("ul",[_6.cls("nav-list")],[_4.Concat(f.map(function(dK){return _4.EmbedView(bc.Map(function(dL){var dM;dM=bd.Equals(dL,dK)?_6.cls("active"):bS.EmptyAttr();return _4.Element("li",[_6.cls("nav-item"),dM],[_4.Link(e.showPgTy(dK),[],function(){B.Set(dI,dK);})]);},dI.get_View()));},e.NavPages())),_4.Concat(f.map(function(dK){return dJ(dK[0],dK[1]);},e.NavExternalLinks()))])])]);};e.linkBtn=function(dI,dJ){return _4.Element("a",[_6.cls("btn"),_6.cls("btn-default"),be.Create("href",dJ)],[_4.TextNode(dI)]);};e.Entries=function(){bM.$cctor();return bM.Entries;};e.NavPages=function(){bM.$cctor();return bM.NavPages;};e.NavExternalLinks=function(){bM.$cctor();return bM.NavExternalLinks;};e.showPgTy=function(dI){return dI.$==1?"About":dI.$==2?"Samples":"Home";};e.mkEntry=function(dI,dJ,dK,dL){return _5.New(dI,dK,dJ,dL);};e.fadeTime=function(){bM.$cctor();return bM.fadeTime;};e.Fade=function(){bM.$cctor();return bM.Fade;};f.ofArray=function(dI){var dJ,dK,dL;dJ=I.Empty;for(dK=J.length(dI)-1,dL=0;dK>=dL;dK--)dJ=new I({$:1,$0:J.get(dI,dK),$1:dJ});return dJ;};f.map=function(dI,dJ){var dK,dL,dM,dN,dO;if(dJ.$==0)return dJ;else{dN=new I({$:1});dK=dN;dL=dJ;dM=true;while(dM){dK.$0=dI(dL.$0);dL=dL.$1;dL.$==0?dM=false:dK=(dO=new I({$:1}),dK.$1=dO,dO);}dK.$1=I.Empty;return dN;}};f.mapi=function(dI,dJ){var dK,dL,dM,dN,dO,dP;if(dJ.$==0)return dJ;else{dO=new I({$:1});dK=dO;dL=dJ;dM=0;dN=true;while(dN){dK.$0=dI(dM,dL.$0);dL=dL.$1;dL.$==0?dN=false:(dK=(dP=new I({$:1}),dK.$1=dP,dP),dM=dM+1);}dK.$1=I.Empty;return dO;}};f.rev=function(dI){var dJ,dK;dJ=I.Empty;dK=dI;while(dK.$==1){dJ=new I({$:1,$0:dK.$0,$1:dJ});dK=dK.$1;}return dJ;};f.filter=function(dI,dJ){return f.ofSeq(bI.filter(dI,dJ));};f.sortWith=function(dI,dJ){var dK;dK=J.ofList(dJ);J.sortInPlaceWith(dI,dK);return f.ofArray(dK);};f.exists=function(dI,dJ){var dK,dL;dK=false;dL=dJ;while(!dK&&dL.$==1){dK=dI(dL.$0);dL=dL.$1;}return dK;};f.ofSeq=function(dI){var dJ,dK,dL,dM,dN,dO;if(dI instanceof I)return dI;else if(dI instanceof a.Array)return f.ofArray(dI);else{dJ=cj.Get(dI);try{dL=dJ.MoveNext();if(!dL)dK=I.Empty;else{dN=new I({$:1});dM=dN;while(dL){dM.$0=dJ.Current();dJ.MoveNext()?dM=(dO=new I({$:1}),dM.$1=dO,dO):dL=false;}dM.$1=I.Empty;dK=dN;}return dK;}finally{if(typeof dJ=="object"&&"Dispose"in dJ)dJ.Dispose();}}};f.head=function(dI){return dI.$==1?dI.$0:f.listEmpty();};f.tail=function(dI){return dI.$==1?dI.$1:f.listEmpty();};f.length=function(dI){var dJ,dK;dJ=dI;dK=0;while(dJ.$==1){dJ=f.tail(dJ);dK=dK+1;}return dK;};f.listEmpty=function(){return C.FailWith("The input list was empty.");};f.append=function(dI,dJ){var dK,dL,dM,dN,dO;if(dI.$==0)return dJ;else if(dJ.$==0)return dI;else{dN=new I({$:1});dK=dN;dL=dI;dM=true;while(dM){dK.$0=dL.$0;dL=dL.$1;dL.$==0?dM=false:dK=(dO=new I({$:1}),dK.$1=dO,dO);}dK.$1=dJ;return dN;}};f.iter=function(dI,dJ){var dK;dK=dJ;while(dK.$==1){dI(f.head(dK));dK=f.tail(dK);}};g.Sample=function(){K.$cctor();return K.Sample;};g.Main=function(dI){var dJ,dK,dL;dJ=B.Create$1("");dK=_4.Input([be.Create("class","form-control")],dJ);dL=_4.TextView(dJ.get_View());return _6.divc("panel-default",[_6.divc("panel-body",[_4.Element("div",[],[dK]),_4.Element("div",[],[dL])])]);};g.Description=function(dI){return _4.Element("div",[],[_4.TextNode("A label which copies the contents of a text box.")]);};h.Sample=function(){L.$cctor();return L.Sample;};h.Main=function(dI){var dJ,dK,dL,dM,dN,dO,dP;function dQ(dR,dS){return _4.Element("tr",[],[_4.Element("td",[],[_4.TextNode(dR)]),_4.Element("td",[_6.sty("width","70%")],[_4.TextView(dS)])]);}dJ=B.Create$1("");dK=_4.Element("div",[_6.cls("panel"),_6.cls("panel-default")],[_4.Element("div",[_6.cls("panel-heading")],[_4.Element("h3",[_6.cls("panel-title")],[_4.TextNode("Input")])]),_4.Element("div",[_6.cls("panel-body")],[_4.Element("form",[_6.cls("form-horizontal"),be.Create("role","form")],[_4.Element("div",[_6.cls("form-group")],[_4.Element("label",[_6.cls("col-sm-2"),_6.cls("control-label"),be.Create("for","inputBox")],[_4.TextNode("Write something: ")]),_4.Element("div",[_6.cls("col-sm-10")],[_4.Input([be.Create("class","form-control"),be.Create("id","inputBox")],dJ)])])])])]);dL=dJ.get_View();dM=bc.Map(function(dR){return dR.toUpperCase();},dL);dN=bc.Map(function(dR){return ch.ToCharArray(dR).slice().reverse().join("");},dL);dO=bc.Map(function(dR){return J.length(ch.SplitChars(dR,[" "],0));},dL);dP=f.ofArray([["Entered Text",dL],["Capitalised",dM],["Reversed",dN],["Word Count",bc.Map(a.String,dO)],["Is the word count odd or even?",bc.Map(function(dR){return dR%2===0?"Even":"Odd";},dO)]]);return _4.Element("div",[],[dK,_6.divc("panel panel-default",[_6.divc("panel-heading",[_4.Element("h3",[_6.cls("panel-title")],[_4.TextNode("Output")])]),_6.divc("panel-body",[_4.Element("table",[_6.cls("table")],[_4.Element("tbody",[],[_4.Concat(f.map(function(dR){return dQ(dR[0],dR[1]);},dP))])])])])]);};h.Description=function(dI){return _4.Element("div",[],[_4.TextNode("Transforming the data provided by a single data source.")]);};i.Sample=function(){M.$cctor();return M.Sample;};i.Main=function(dI){var dJ,dK,dL,dM,dN,dO,dP,dQ,dR;function dS(dT,dU){var dV,dW,dX;return(dV=bY.Make().WithHole({$:1,$0:"lbl",$1:dT}).WithHole({$:2,$0:"view",$1:dU}),(dW=bZ.CompleteHoles(dV.k,dV.h,[]),(dX=new bX.New(dW[1],H.tablerow(dW[0])),(dV.i=dX,dX)))).get_Doc();}dJ=B.Create$1("");dK=dJ.get_View();dL=bc.Map(function(dT){return dT.toUpperCase();},dK);dM=bc.Map(function(dT){return ch.ToCharArray(dT).slice().reverse().join("");},dK);dN=bc.Map(function(dT){return J.length(ch.SplitChars(dT,[" "],0));},dK);return(dO=(dP=f.map(function(dT){return dS(dT[0],dT[1]);},f.ofArray([["Entered Text",dK],["Capitalised",dL],["Reversed",dM],["Word Count",bc.Map(a.String,dN)],["Is the word count odd or even?",bc.Map(function(dT){return dT%2===0?"Even":"Odd";},dN)]])),bY.Make().WithHole({$:8,$0:"inputtext",$1:dJ}).WithHole({$:0,$0:"tablebody",$1:_4.Concat(dP)})),(dQ=bZ.CompleteHoles(dO.k,dO.h,[["inputtext",0]]),(dR=new bX.New(dQ[1],H.t(dQ[0])),(dO.i=dR,dR)))).get_Doc();};i.Description=function(dI){return _4.Element("div",[],[_4.TextNode("Similar to InputTransform, but using a html file and the Template type provider.")]);};j.Sample=function(){N.$cctor();return N.Sample;};j.Main=function(dI){return j.TodoExample();};j.Description=function(dI){return _4.Element("div",[],[_4.TextNode("A to-do list application.")]);};j.TodoExample=function(){var dI;dI=j.CreateModel();return _4.Element("table",[be.Create("class","table table-hover")],[_4.Element("tbody",[],[j.TodoList(dI),j.TodoForm(dI)])]);};j.CreateModel=function(){return cZ.New(c0.Create(function(dI){return dI.Key;},I.Empty));};j.TodoList=function(dI){return _4.ConvertBy(function(dJ){return dJ.Key;},function(dJ){return j.RenderItem(dI,dJ);},dI.Items.v);};j.TodoForm=function(dI){var dJ;dJ=B.Create$1("");return _4.Element("form",[],[_6.divc("form-group",[_4.Element("label",[],[_4.TextNode("New entry: ")]),c2.input(dJ)]),c2.button("Submit",function(){dI.Items.Append(c1.Create(dJ.Get()));})]);};j.RenderItem=function(dI,dJ){return _4.Element("tr",[],[_4.Element("td",[],[_4.EmbedView(bc.Map(function(dK){return dK?_4.Element("del",[],[_4.TextNode(dJ.TodoText)]):_4.TextNode(dJ.TodoText);},dJ.Done.get_View()))]),_4.Element("td",[],[c2.button("Done",function(){B.Set(dJ.Done,true);})]),_4.Element("td",[],[c2.button("Remove",function(){dI.Items.Remove(dJ);})])]);};k.Sample=function(){O.$cctor();return O.Sample;};k.Main=function(dI){return k.PhonesWidget(f.ofArray([b0.New("Nexus S","Fast just got faster with Nexus S.",1),b0.New("Motorola XOOM","The Next, Next generation tablet",2),b0.New("Motorola XOOM with Wi-Fi","The Next, Next generation tablet",3),b0.New("Samsung Galaxy","The Ultimate Phone",4)]));};k.Description=function(dI){return _4.Element("div",[],[_4.TextNode("Taken from the "),_6.href("AngularJS Tutorial","https://docs.angularjs.org/tutorial/"),_4.TextNode(", a list filtering and sorting application for phones.")]);};k.PhonesWidget=function(dI){var dJ,dK,dL;function dM(dN){return _4.Element("li",[],[_4.Element("span",[],[_4.TextNode(dN.Name)]),_4.Element("p",[],[_4.TextNode(dN.Snippet)])]);}B.Create$1(dI);dJ=B.Create$1("");dK=B.Create$1(cw.Newest);dL=bc.Map2(function(dN,dO){return f.sortWith(function(dP,dQ){return b0.Compare(dO,dP,dQ);},f.filter(function(dP){return b0.MatchesQuery(dN,dP);},dI));},dJ.get_View(),dK.get_View());return _6.divc("row",[_6.divc("col-sm-6",[_4.TextNode("Search: "),_4.Input([be.Create("class","form-control")],dJ),_4.TextNode("Sort by: "),_4.Select([be.Create("class","form-control")],cw.Show,f.ofArray([cw.Newest,cw.Alphabetical]),dK)]),_6.divc("col-sm-6",[_4.Element("ul",[],[_4.EmbedView(bc.Map(function(dN){return _4.Concat(f.map(dM,dN));},dL))])])]);};l.Sample=function(){P.$cctor();return P.Sample;};l.createPerson=function(dI,dJ){return bh.New(B.Create$1(dI),B.Create$1(dJ));};l.peopleList=function(){P.$cctor();return P.peopleList;};l.Main=function(dI){return _4.Element("div",[],[_4.Element("div",[],[_4.Element("h1",[],[_4.TextNode("Member List")]),l.memberList()]),_4.Element("div",[],[_4.Element("h1",[],[_4.TextNode("Change Member Details")]),l.peopleBoxes()])]);};l.Description=function(dI){return _4.Element("div",[],[_4.TextNode("An example inspired by a "),_6.href("SAP OpenUI sample","http://jsbin.com/openui5-HTML-templates/1/edit"),_4.TextNode(".")]);};l.memberList=function(){P.$cctor();return P.memberList;};l.peopleBoxes=function(){P.$cctor();return P.peopleBoxes;};m.Sample=function(){Q.$cctor();return Q.Sample;};m.Main=function(dI){var dJ,dK,dL;dJ=B.Create$1(I.Empty);dK=_4.Element("div",[],[_4.Element("div",[],f.map(function(dM){return _4.Element("div",[],[_4.CheckBoxGroup([],dM,dJ),_4.TextNode(dM.Name)]);},m.People())),_4.TextView(bc.Map(function(dM){return bI.fold(function(dN,dO){return dN+dO.Name+", ";},"",dM);},dJ.get_View()))]);dL=B.Create$1(b1.Jelen);return _4.Element("div",[],[dK,_4.Element("div",[],[_4.Concat(f.map(function(dM){return _4.Element("div",[],[_4.Radio([],dM,dL),_4.TextNode(m.showRestaurant(dM))]);},f.ofArray([b1.Csiga,b1.Suszterinas,b1.Jelen,b1.Stex]))),_4.TextView(bc.Map(m.showRestaurant,dL.get_View()))])]);};m.Description=function(dI){return _4.Element("div",[],[_4.TextNode("An application which shows the selected values.")]);};m.showRestaurant=function(dI){return dI.$==1?"Suszterinas":dI.$==2?"Csiga":dI.$==3?"Stex":"Jelen";};m.People=function(){Q.$cctor();return Q.People;};n.Sample=function(){R.$cctor();return R.Sample;};n.Main=function(dI){return n.calcView(B.Create$1(n.initCalc()));};n.Description=function(dI){return _4.Element("div",[],[_4.TextNode("A calculator application")]);};n.initCalc=function(){R.$cctor();return R.initCalc;};n.calcView=function(dI){var dJ,dK;function dL(dN){return n.calcBtn(dN,dI);}function dM(dN){return n.opBtn(dN,dI);}dI.get_View();dJ=n.cBtn(dI);dK=n.eqBtn(dI);return _4.Element("div",[],[_4.Element("div",[_6.sty("border","solid 1px #aaa"),_6.sty("width","100px"),_6.sty("text-align","right"),_6.sty("padding","0 5px")],[_4.TextView(n.displayCalc(dI))]),_4.Element("div",[],[dL(1),dL(2),dL(3),dM(bk.Add)]),_4.Element("div",[],[dL(4),dL(5),dL(6),dM(bk.Sub)]),_4.Element("div",[],[dL(7),dL(8),dL(9),dM(bk.Mul)]),_4.Element("div",[],[dL(0),dJ,dK,dM(bk.Div)])]);};n.calcBtn=function(dI,dJ){return n.button(a.String(dI),function(){n.pushInt(dI,dJ);});};n.opBtn=function(dI,dJ){return n.button(n.showOp(dI),function(){n.shiftToMem(dI,dJ);});};n.displayCalc=function(dI){return bc.Map(function(dJ){return a.String(dJ.Operand);},dI.get_View());};n.eqBtn=function(dI){return n.button("=",function(){n.calculate(dI);});};n.cBtn=function(dI){return n.button("C",function(){B.Set(dI,n.initCalc());});};n.button=function(dI,dJ){return _4.Button(dI,[_6.sty("width","25px")],dJ);};n.pushInt=function(dI,dJ){B.Update(dJ,function(dK){return bj.New(dK.Memory,dK.Operand*10+dI,dK.Operation);});};n.showOp=function(dI){return dI.$==1?"-":dI.$==2?"*":dI.$==3?"/":"+";};n.shiftToMem=function(dI,dJ){B.Update(dJ,function(dK){return bj.New(dK.Operand,0,dI);});};n.calculate=function(dI){B.Update(dI,function(dJ){return bj.New(0,((n.opFn(dJ.Operation))(dJ.Memory))(dJ.Operand),bk.Add);});};n.opFn=function(dI){return dI.$==1?function(dJ){return function(dK){return dJ-dK;};}:dI.$==2?function(dJ){return function(dK){return dJ*dK;};}:dI.$==3?function(dJ){return function(dK){return dJ/dK>>0;};}:function(dJ){return function(dK){return dJ+dK;};};};o.Sample=function(){S.$cctor();return S.Sample;};o.inputRow=function(dI,dJ,dK,dL){return _6.divc("row",[_6.divc("form-group",[_4.Element("label",[_6.cls("col-sm-2 control-label"),be.Create("for",dJ)],[_4.TextNode(dK)]),_6.divc("col-sm-6",[((dL?function(dM){return function(dN){return _4.InputArea(dM,dN);};}:function(dM){return function(dN){return _4.Input(dM,dN);};})(f.ofArray([be.Create("type","text"),_6.cls("form-control"),be.Create("id",dJ),be.Create("placeholder",dK)])))(dI)]),_6.divc("col-sm-4",[])])]);};o.ExampleFlow=function(dI){var dJ;return bl.Embed((dJ=bl.get_Do(),dJ.Bind(o.personFlowlet(),function(dK){return dJ.Bind(o.contactTypeFlowlet(),function(dL){return dJ.Bind(o.contactFlowlet(dL),function(dM){return dJ.ReturnFrom(bl.Static(o.finalPage(dK,dM)));});});})));};o.Description=function(dI){return _4.Element("div",[],[_4.TextNode("A WebSharper.UI flowlet implementation.")]);};o.personFlowlet=function(){S.$cctor();return S.personFlowlet;};o.contactTypeFlowlet=function(){S.$cctor();return S.contactTypeFlowlet;};o.contactFlowlet=function(dI){var dJ,dK,dL;dJ=dI.$==1?["Phone Number",function(dM){return{$:1,$0:dM};}]:["E-Mail Address",function(dM){return{$:0,$0:dM};}];dK=dJ[0];dL=dJ[1];return bl.Define(function(dM){var dN;dN=B.Create$1("");return _4.Element("form",[_6.cls("form-horizontal"),be.Create("role","form")],[o.inputRow(dN,"contact",dK,false),_6.divc("form-group",[_6.divc("col-sm-offset-2 col-sm-10",[_4.Button("Finish",[_6.cls("btn btn-default")],function(){dM(dL(dN.Get()));})])])]);});};o.finalPage=function(dI,dJ){return _4.Element("div",[],[_4.TextNode("You said your name was "+dI.Name+", your address was "+dI.Address+", "),_4.TextNode(" and you provided "+(dJ.$==1?"the phone number "+dJ.$0:"the e-mail address "+dJ.$0)+".")]);};p.Sample=function(){T.$cctor();return T.Sample;};p.fadeTime=function(){T.$cctor();return T.fadeTime;};p.Fade=function(){T.$cctor();return T.Fade;};p.swipeTime=function(){T.$cctor();return T.swipeTime;};p.Swipe=function(){T.$cctor();return T.Swipe;};p.inputRow=function(dI,dJ,dK){return _6.divc("form-group",[_4.Element("label",[be.Create("for",dJ),_6.cls("col-sm-2 control-label")],[_4.TextNode(dK)]),_6.divc("col-sm-10",[_4.Input([be.Create("type","text"),_6.cls("form-control"),be.Create("id",dJ),be.Create("placeholder",dK)],dI)])]);};p.AnimateFlow=function(dI){return _4.Element("div",[bK.Style("position","relative"),bK.AnimatedStyle("opacity",p.FadeTransition(),bc.Const(1),a.String),bK.AnimatedStyle("left",p.SwipeTransition(),bc.Const(0),function(dJ){return a.String(dJ)+"px";})],[dI]);};p.ExampleFlow=function(dI){var dJ;return bl.Embed((dJ=bl.get_Do(),dJ.Bind(p.personFlowlet(),function(dK){return dJ.Bind(p.contactTypeFlowlet(),function(dL){return dJ.Bind(p.contactFlowlet(dL),function(dM){return dJ.ReturnFrom(bl.Static(p.finalPage(dK,dM)));});});})));};p.Description=function(dI){return _4.Element("div",[],[_4.TextNode("A WebSharper.UI flowlet implementation.")]);};p.FadeTransition=function(){T.$cctor();return T.FadeTransition;};p.SwipeTransition=function(){T.$cctor();return T.SwipeTransition;};p.personFlowlet=function(){T.$cctor();return T.personFlowlet;};p.contactTypeFlowlet=function(){T.$cctor();return T.contactTypeFlowlet;};p.contactFlowlet=function(dI){var dJ,dK,dL;dJ=dI.$==1?["Phone Number",function(dM){return{$:1,$0:dM};}]:["E-Mail Address",function(dM){return{$:0,$0:dM};}];dK=dJ[0];dL=dJ[1];return bl.Define(function(dM){var dN;dN=B.Create$1("");return p.AnimateFlow(_4.Element("form",[_6.cls("form-horizontal"),be.Create("role","form")],[p.inputRow(dN,"contact",dK),_6.divc("form-group",[_6.divc("col-sm-offset-2 col-sm-10",[_4.Button("Finish",[_6.cls("btn btn-default")],function(){dM(dL(dN.Get()));})])])]));});};p.finalPage=function(dI,dJ){return p.AnimateFlow(_4.Element("div",[],[_4.TextNode("You said your name was "+dI.Name+", your address was "+dI.Address+", "),_4.TextNode(" and you provided "+(dJ.$==1?"the phone number "+dJ.$0:"the e-mail address "+dJ.$0)+".")]));};q.Sample=function(){U.$cctor();return U.Sample;};q.Main=function(dI){var dJ,dK,dL,dM;function dN(dO){return _4.Concat([dM,dK.LoginForm,dO]);}q.Initialise();dJ=B.Create$1(b6.ThreadList);dK=b7.Create();dL=b8.New(dK,B.Create$1(I.Empty),function(dO){B.Set(dJ,dO);});dM=q.NavBar(dK,dJ,dL);return _4.EmbedView(bc.Map(function(dO){dK.HideForm();return dN(dO.$==2?q.ThreadListPage(dL):dO.$==1?q.ShowThreadPage(dL,dO.$0):q.NewThreadPage(dL));},dJ.get_View()));};q.Description=function(dI){return _4.Element("div",[],[_4.TextNode("A message board application built using MiniSitelets.")]);};q.Initialise=function(){var dI,dJ,dK;dI=cA.CreateThread("SimonJF","Hello, World! This is a topic.");dJ=cA.CreatePost(cC.New("SimonJF",""),"Hello, world! This is a post.");c6.Start((dK=null,c6.Delay(function(){return c6.Bind(cB.AddThread(dI),function(){return c6.Bind(cB.AddPost(dI,dJ),function(){return c6.Return(null);});});})),null);};q.ThreadListPage=function(dI){var dJ,dK;function dL(dM){return _4.Element("tr",[],[_4.Element("td",[],[_4.TextNode(dM.ThreadAuthorName)]),_4.Element("td",[],[_4.Link(dM.Title,[],function(){dI.Go({$:1,$0:dM});})])]);}dJ=dI.Threads;c6.Start((dK=null,c6.Delay(function(){return c6.Bind(cB.GetThreads(),function(dM){B.Set(dJ,dM);return c6.Zero();});})),null);return _4.Element("table",[_6.cls("table table-hover")],[_4.Element("tbody",[],[_4.EmbedView(bc.Map(function(dM){return _4.Concat(f.map(dL,dM));},dI.Threads.get_View()))])]);};q.ShowThreadPage=function(dI,dJ){var dK,dL;function dM(){var dP;c6.Start((dP=null,c6.Delay(function(){return c6.Bind(cB.GetPosts(dJ),function(dQ){B.Set(dK,dQ);return c6.Zero();});})),null);}function dN(dP){return _4.Element("tr",[],[_4.Element("td",[],[_4.TextNode(dP.PostAuthorName)]),_4.Element("td",[],[_4.TextNode(dP.Content)])]);}function dO(dP){var dQ;dQ=B.Create$1("");return _6.divc("panel panel-default",[_6.divc("panel-heading",[_4.Element("h3",[_6.cls("panel-title")],[_4.TextNode("New Post")])]),_6.divc("panel-body",[_4.Element("form",[_6.cls("form-horizontal"),be.Create("role","form")],[_6.divc("form-group",[_4.Element("label",[be.Create("for","postContent"),_6.cls("col-sm-2 control-label")],[_4.TextNode("Content")]),_6.divc("col-sm-10",[_4.InputArea([be.Create("id","postContent"),be.Create("rows","5"),_6.cls("form-control"),_6.sty("width","100%")],dQ)])]),_6.divc("form-group",[_6.divc("col-sm-offset-2 col-sm-10",[_4.Button("Submit",[_6.cls("btn btn-primary")],function(){var dR,dS;dR=cA.CreatePost(dP,dQ.Get());c6.Start((dS=null,c6.Delay(function(){return c6.Bind(cB.AddPost(dJ,dR),function(){dM();return c6.Zero();});})),null);})])])])])]);}dK=B.Create$1(I.Empty);dL=_6.divc("panel panel-default",[_6.divc("panel-heading",[_4.Element("h3",[_6.cls("panel-title")],[_4.TextNode("Posts in thread \""+dJ.Title+"\"")])]),_6.divc("panel-body",[_4.Element("table",[_6.cls("table table-hover")],[_4.Element("tbody",[],[_4.EmbedView(bc.Map(function(dP){return _4.Concat(f.map(dN,dP));},dK.get_View()))])])])]);dM();return _4.Element("div",[],[dL,_4.EmbedView(bc.Map(function(dP){return dP!=null&&dP.$==1?dO(dP.$0):_4.get_Empty();},dI.Auth.LoggedIn))]);};q.NewThreadPage=function(dI){function dJ(dK){var dL,dM;dL=B.Create$1("");dM=B.Create$1("");return _6.divc("panel panel-default",[_6.divc("panel-heading",[_4.Element("h3",[_6.cls("panel-title")],[_4.TextNode("New Thread")])]),_6.divc("panel-body",[_4.Element("form",[_6.cls("form-horizontal"),be.Create("role","form")],[_6.divc("form-group",[_4.Element("label",[be.Create("for","threadTitle"),_6.cls("col-sm-2 control-label")],[_4.TextNode("Title")]),_6.divc("col-sm-10",[_4.Input([be.Create("id","threadTitle"),_6.sty("width","100%"),_6.cls("form-control")],dL)])]),_6.divc("form-group",[_4.Element("label",[be.Create("for","postContent"),_6.cls("col-sm-2 control-label")],[_4.TextNode("Content")]),_6.divc("col-sm-10",[_4.InputArea([be.Create("id","postContent"),be.Create("rows","5"),_6.cls("form-control"),_6.sty("width","100%")],dM)])]),_6.divc("form-group",[_6.divc("col-sm-offset-2 col-sm-10",[_4.Button("Submit",[_6.cls("btn btn-primary")],function(){var dN,dO,dP;dN=cA.CreateThread(dK.Name,dL.Get());dO=cA.CreatePost(dK,dM.Get());c6.Start((dP=null,c6.Delay(function(){return c6.Bind(cB.AddThread(dN),function(){return c6.Bind(cB.AddPost(dN,dO),function(){return c6.Return(null);});});})),null);dI.Go({$:1,$0:dN});})])])])])]);}return _4.EmbedView(bc.Map(function(dK){return dK==null?(dI.Auth.ShowForm(),_4.get_Empty()):dJ(dK.$0);},dI.Auth.LoggedIn));};q.NavBar=function(dI,dJ,dK){var dL;function dM(dN,dO){return _4.Link(dN,[],function(){dK.Go(dO);});}dL=f.ofArray([b6.ThreadList,b6.NewThread]);return _4.Element("nav",[_6.cls("navbar navbar-default"),be.Create("role","navigation")],[_6.divc("container-fluid",[_4.Element("ul",[_6.cls("nav navbar-nav")],[_4.Concat(f.map(function(dN){return _4.EmbedView(bc.Map(function(dO){return _4.Element("li",[q.ShowAction(dN)===q.ShowAction(dO)?_6.cls("active"):bS.EmptyAttr()],[dM(q.ShowAction(dN),dN)]);},dJ.get_View()));},dL))]),_4.Element("ul",[_6.cls("nav navbar-nav navbar-right")],[dI.StatusWidget])])]);};q.ShowAction=function(dI){return dI.$==1?"Thread "+dI.$0.Title:dI.$==2?"Show All Threads":"Create New Thread";};r.Sample=function(){V.$cctor();return V.Sample;};r.Main=function(dI){var dJ,dK,dL,dM;dJ=B.Create$1(E.BobsleighHome);dK=(dL=r.NavBar(dJ),function(dN){return _4.Append(dL,dN);});dM=b_.New(function(dN){B.Set(dJ,dN);});return _4.EmbedView(bc.Map(function(dN){return dN.$==1?dK(r.History(dM)):dN.$==2?dK(r.Governance(dM)):dN.$==3?dK(r.Team(dM)):dK(r.HomePage(dM));},dJ.get_View()));};r.description=function(dI){return _4.Element("div",[],[_4.TextNode("A small website about bobsleighs, demonstrating how UI may be used to structure single-page applications.")]);};r.NavBar=function(dI){return _4.EmbedView(bc.Map(function(dJ){return _4.Element("nav",[_6.cls("navbar navbar-default"),be.Create("role","navigation")],[_4.Element("ul",[_6.cls("nav navbar-nav")],[_4.Concat(f.map(function(dK){return _4.Element("li",[bd.Equals(dK,dJ)?_6.cls("active"):bS.EmptyAttr()],[_4.Link(r.showAct(dK),[],function(){r.GlobalGo(dI,dK);})]);},r.pages()))])]);},dI.get_View()));};r.History=function(dI){return _4.Concat([_4.Element("div",[],[_4.Element("h1",[],[_4.TextNode("History")]),_4.Element("p",[],[_4.TextNode("According to "),_6.href("Wikipedia","http://en.wikipedia.org/wiki/Bobsleigh"),_4.TextNode(", the beginnings of bobsleigh came about due to a hotelier becoming increasingly frustrated about having entire seasons where he could not rent out his properties. In response, he got a few people interested, and the Swiss town of St Moritz became the home of the first bobsleigh races.")]),_4.Element("p",[],[_4.TextNode("Bobsleigh races have been a regular event at the Winter Olympics since the very first competition in 1924.")])])]);};r.Governance=function(dI){return _4.Concat([_4.Element("div",[],[_4.Element("h1",[],[_4.TextNode("Governance")]),_4.Element("p",[],[_4.TextNode("The sport is overseen by the "),_6.href("International Bobsleigh and Skeleton Federation","http://www.fibt.com/"),_4.TextNode(", an organisation founded in 1923. The organisation governs all international competitions, acting as a body to regulate athletes' conduct, as well as providing funding for training and education.")])])]);};r.Team=function(dI){var dJ;function dK(dL,dM){return _4.Element("li",[],[_6.href(dL,"http://www.twitter.com/"+dM)]);}dJ=f.ofArray([["Adam","granicz"],["András","AndrasJanko"],["Anton (honourary member for life)","t0yv0"],["István","inchester23"],["Loic","tarmil_"],["Sándor","sandorrakonczai"],["Simon","Simon_JF"]]);return _4.Concat([_4.Element("div",[],[_4.Element("h1",[],[_4.TextNode("The IntelliFactory Bobsleigh Team")]),_4.Element("p",[],[_4.TextNode("The world-famous IntelliFactory Bobsleigh Team was founded in 2004, and currently consists of:")]),_4.Element("ul",[],[_4.Concat(f.map(function(dL){return dK(dL[0],dL[1]);},dJ))])])]);};r.HomePage=function(dI){return _4.Concat([_4.Element("div",[],[_4.Element("h1",[],[_4.TextNode("Welcome!")]),_4.Element("p",[],[_4.TextNode("Welcome to the IntelliFactory Bobsleigh MiniSite!")]),_4.Element("p",[],[_4.TextNode("Here you can find out about the "),_4.Link("history",[],function(){dI.Go(E.BobsleighHistory);}),_4.TextNode(" of bobsleighs, the "),_4.Link("International Bobsleigh and Skeleton Federation",[],function(){dI.Go(E.BobsleighGovernance);}),_4.TextNode(", which serve as the governing body for the sport, and finally the world-famous "),_4.Link("IntelliFactory Bobsleigh Team.",[],function(){dI.Go(E.BobsleighTeam);})])])]);};r.pages=function(){V.$cctor();return V.pages;};r.showAct=function(dI){return dI.$==1?"History":dI.$==2?"Governance":dI.$==3?"The IntelliFactory Bobsleigh Team":"Home";};r.GlobalGo=function(dI,dJ){B.Set(dI,dJ);};s.Sample=function(){W.$cctor();return W.Sample;};s.Main=function(dI){var dJ,dK,dL;dJ=(dK=r.NavBar(dI),function(dM){return _4.Append(dK,dM);});dL=b_.New(function(dM){B.Set(dI,dM);});return _4.EmbedView(bc.Map(function(dM){return dM.$==1?dJ(r.History(dL)):dM.$==2?dJ(r.Governance(dL)):dM.$==3?dJ(r.Team(dL)):dJ(r.HomePage(dL));},dI.get_View()));};s.description=function(dI){return _4.Element("div",[],[_4.TextNode("A small website about bobsleighs, demonstrating how UI may be used to structure single-page applications. Routed using the URL.")]);};t.Sample=function(){X.$cctor();return X.Sample;};t.fadeTime=function(){X.$cctor();return X.fadeTime;};t.Fade=function(){X.$cctor();return X.Fade;};t.Main=function(dI){var dJ,dK;dJ=B.Create$1(bw.BobsleighHome);dK=b$.New(function(dL){B.Set(dJ,dL);});return _4.EmbedView(bc.Map(function(dL){return t.MakePage(dJ,dL.$==1?t.History(dK):dL.$==2?t.Governance(dK):dL.$==3?t.Team(dK):t.HomePage(dK));},dJ.get_View()));};t.description=function(dI){return _4.Element("div",[],[_4.TextNode("A small website about bobsleighs, demonstrating how UI may be used to structure single-page applications.")]);};t.History=function(dI){return _4.Concat([_4.Element("div",[],[_4.Element("h1",[],[_4.TextNode("History")]),_4.Element("p",[],[_4.TextNode("According to "),_6.href("Wikipedia","http://en.wikipedia.org/wiki/Bobsleigh"),_4.TextNode(", the beginnings of bobsleigh came about due to a hotelier becoming increasingly frustrated about having entire seasons where he could not rent out his properties. In response, he got a few people interested, and the Swiss town of St Moritz became the home of the first bobsleigh races.")]),_4.Element("p",[],[_4.TextNode("Bobsleigh races have been a regular event at the Winter Olympics since the very first competition in 1924.")])])]);};t.Governance=function(dI){return _4.Concat([_4.Element("div",[],[_4.Element("h1",[],[_4.TextNode("Governance")]),_4.Element("p",[],[_4.TextNode("The sport is overseen by the "),_6.href("International Bobsleigh and Skeleton Federation","http://www.fibt.com/"),_4.TextNode(", an organisation founded in 1923. The organisation governs all international competitions, acting as a body to regulate athletes' conduct, as well as providing funding for training and education.")])])]);};t.Team=function(dI){var dJ;function dK(dL,dM){return _4.Element("li",[],[_6.href(dL,"http://www.twitter.com/"+dM)]);}dJ=f.ofArray([["Adam","granicz"],["András","AndrasJanko"],["Anton (honourary member for life)","t0yv0"],["István","inchester23"],["Loic","tarmil_"],["Sándor","sandorrakonczai"],["Simon","Simon_JF"]]);return _4.Concat([_4.Element("div",[],[_4.Element("h1",[],[_4.TextNode("The IntelliFactory Bobsleigh Team")]),_4.Element("p",[],[_4.TextNode("The world-famous IntelliFactory Bobsleigh Team was founded in 2004, and currently consists of:")]),_4.Element("ul",[],[_4.Concat(f.map(function(dL){return dK(dL[0],dL[1]);},dJ))])])]);};t.HomePage=function(dI){return _4.Concat([_4.Element("div",[],[_4.Element("h1",[],[_4.TextNode("Welcome!")]),_4.Element("p",[],[_4.TextNode("Welcome to the IntelliFactory Bobsleigh MiniSite!")]),_4.Element("p",[],[_4.TextNode("Here you can find out about the "),_4.Link("history",[],function(){dI.Go(bw.BobsleighHistory);}),_4.TextNode(" of bobsleighs, the "),_4.Link("International Bobsleigh and Skeleton Federation",[],function(){dI.Go(bw.BobsleighGovernance);}),_4.TextNode(", which serve as the governing body for the sport, and finally the world-famous "),_4.Link("IntelliFactory Bobsleigh Team.",[],function(){dI.Go(bw.BobsleighTeam);})])])]);};t.MakePage=function(dI,dJ){return _4.Concat([t.NavBar(dI),_4.Element("div",[bK.AnimatedStyle("opacity",t.FadeTransition(),bc.Const(1),a.String)],[dJ])]);};t.NavBar=function(dI){return _4.EmbedView(bc.Map(function(dJ){return _4.Element("nav",[_6.cls("navbar navbar-default"),be.Create("role","navigation")],[_4.Element("ul",[_6.cls("nav navbar-nav")],[_4.Concat(f.map(function(dK){return _4.Element("li",[bd.Equals(dK,dJ)?_6.cls("active"):bS.EmptyAttr()],[_4.Link(t.showAct(dK),[],function(){t.GlobalGo(dI,dK);})]);},t.pages()))])]);},dI.get_View()));};t.FadeTransition=function(){X.$cctor();return X.FadeTransition;};t.pages=function(){X.$cctor();return X.pages;};t.showAct=function(dI){return dI.$==1?"History":dI.$==2?"Governance":dI.$==3?"The IntelliFactory Bobsleigh Team":"Home";};t.GlobalGo=function(dI,dJ){B.Set(dI,dJ);};u.Sample=function(){Y.$cctor();return Y.Sample;};u.SimpleAnimation=function(dI,dJ){return bo.Simple(bq.get_Double(),bp.get_CubicInOut(),300,dI,dJ);};u.SimpleTransition=function(){Y.$cctor();return Y.SimpleTransition;};u.Height=function(){Y.$cctor();return Y.Height;};u.Main=function(dI){var dJ,dK;dJ=u.SetupDataModel();dK=dJ[1];return _4.Element("div",[],[_4.Element("h2",[],[_4.TextNode("Top States by Age Bracket, 2008")]),_4.EmbedView(bc.Map(function(dL){return _4.Select([_6.cls("form-control")],function(dM){return dM.$0;},f.ofArray(ca.array(dL.Brackets,{$:1,$0:1},null)),dK);},dJ[0])),_6.divc("skip",[]),_4.SvgElement("svg",[be.Create("width",a.String(u.Width())),be.Create("height",a.String(u.Height()))],[_4.EmbedView(bc.Map(_4.Concat,bc.MapSeqCachedViewBy(function(dL){return dL.State;},u.Render,dJ[2])))]),_4.Element("p",[],[_4.TextNode("Source: "),_6.href("Census Bureau","http://www.census.gov/popest/data/historical/2000s/vintage_2008/")]),_4.Element("p",[],[_4.TextNode("Original Sample by Mike Bostock: "),_6.href("Object Constancy","http://bost.ocks.org/mike/constancy/")])]);};u.Description=function(dI){return _4.Element("div",[],[_4.TextNode("This sample show-cases declarative animation and interpolation (tweening)")]);};u.SetupDataModel=function(){var dI,dJ;dI=bc.MapAsync(function(){return cb.LoadFromCSV("ObjectConstancy.csv");},bc.Const());dJ=B.Create$1({$:0,$0:"Under 5 Years"});return[dI,dJ,bc.Map(function(dK){var dL,dM;dL=J.length(dK);dM=J.max(J.map(function(dN){return dN[1];},dK));return J.mapi(function(dN,dO){return cc.New(dM,dN,dO[0].$0,dL,dO[1]);},dK);},bc.Map2(cb.TopStatesByRatio,dI,dJ.get_View()))];};u.Width=function(){Y.$cctor();return Y.Width;};u.Render=function(dI,dJ){function dK(dO,dP,dQ){return bK.Animated(dO,dP,bc.Map(dQ,dJ),a.String);}function dL(dO){return u.Width()*dO.Value/dO.MaxValue;}function dM(dO){return u.Height()*+dO.Position/+dO.Total;}function dN(dO,dP){return _4.SvgElement("text",dP,[_4.TextView(bc.Map(dO,dJ))]);}return _4.Concat([_4.SvgElement("g",[bK.Style("fill","steelblue")],[_4.SvgElement("rect",[be.Create("x","0"),dK("y",u.InOutTransition(),dM),dK("width",u.SimpleTransition(),dL),dK("height",u.SimpleTransition(),function(dO){return u.Height()/+dO.Total-2;})],[])]),dN(function(dO){return u.Percent(dO.Value);},f.ofArray([be.Create("text-anchor","end"),dK("x",u.SimpleTransition(),dL),dK("y",u.InOutTransition(),dM),be.Create("dx","-2"),be.Create("dy","14"),_6.sty("fill","white"),_6.sty("font","12px sans-serif")])),dN(function(dO){return dO.State;},f.ofArray([be.Create("x","0"),dK("y",u.InOutTransition(),dM),be.Create("dx","2"),be.Create("dy","16"),_6.sty("fill","white"),_6.sty("font","14px sans-serif"),_6.sty("font-weight","bold")]))]);};u.InOutTransition=function(){Y.$cctor();return Y.InOutTransition;};u.Percent=function(dI){return a.String(dB.floor(100*dI))+"."+a.String(C.toInt(dB.floor(1000*dI))%10)+"%";};v.Sample=function(){Z.$cctor();return Z.Sample;};v.Main=function(dI){var dJ,dK,dL,dM;function dN(dP,dQ){return"Position on last left click: ("+a.String(dP)+","+a.String(dQ)+")";}function dO(dP,dQ){return"Position of mouse while left button held: ("+a.String(dP)+","+a.String(dQ)+")";}dJ=bc.Map(function(dP){return dP[0];},cd.get_Position());dK=bc.Map(function(dP){return dP[1];},cd.get_Position());dL=bc.UpdateWhile([0,0],cd.get_LeftPressed(),cd.get_Position());dM=bc.SnapshotOn([0,0],cd.get_LeftPressed(),cd.get_Position());return _4.Element("div",[],[_4.Element("p",[],[_4.TextView(bc.Map(function(dP){return"X: "+a.String(dP);},dJ)),_4.TextView(bc.Map(function(dP){return"Y: "+a.String(dP);},dK))]),_4.Element("p",[],[_4.TextView(bc.Map(function(dP){return"Left button pressed: "+a.String(dP);},cd.get_LeftPressed()))]),_4.Element("p",[],[_4.TextView(bc.Map(function(dP){return"Middle button pressed: "+a.String(dP);},cd.get_MiddlePressed()))]),_4.Element("p",[],[_4.TextView(bc.Map(function(dP){return"Right button pressed: "+a.String(dP);},cd.get_RightPressed()))]),_4.Element("p",[],[_4.TextView(bc.Map(function(dP){return dN(dP[0],dP[1]);},dM))]),_4.Element("p",[],[_4.TextView(bc.Map(function(dP){return dO(dP[0],dP[1]);},dL))])]);};v.Description=function(dI){return _4.Element("div",[],[_4.TextNode("Shows information about the mouse")]);};w.Sample=function(){_0.$cctor();return _0.Sample;};w.Main=function(dI){return _4.Element("div",[],[_4.Element("p",[],[_4.TextNode("Keys pressed (key codes): "),_4.TextView(bc.Map(function(dJ){return w.commaList(f.map(a.String,dJ));},w.keys()))]),_4.Element("p",[],[_4.TextNode("Keys pressed: "),_4.TextView(bc.Map(function(dJ){return w.commaList(f.map(w.ToChar,dJ));},w.keys()))]),_4.Element("p",[],[_4.TextNode("Last pressed key: "),_4.TextView(bc.Map(a.String,by.get_LastPressed()))]),_4.Element("p",[],[_4.TextNode("Is 'A' pressed? "),_4.TextView(bc.Map(function(dJ){return dJ?"Yes":"No";},by.IsPressed(w.ToKey("A"))))])]);};w.Description=function(dI){return _4.Element("div",[],[_4.TextNode("Information about the current keyboard state")]);};w.keys=function(){_0.$cctor();return _0.keys;};w.commaList=function(dI){function dJ(dK){return dK.$==1?dK.$1.$==0?a.String(dK.$0):a.String(dK.$0)+", "+dJ(dK.$1):"";}return"["+dJ(dI)+"]";};w.ToChar=function(dI){return dC.fromCharCode(dI);};w.ToKey=function(dI){return dI.charCodeAt(0);};x.InstallHash=function(dI,dJ){var dK;dK=B.Create$1(x.getCurrentHash(function(dL){return _2.Parse(dJ,_3.FromHash(dL,{$:1,$0:true}));},dI));x.InstallHashInto(dK,dI,dJ);return dK;};x.InstallHashInto=function(dI,dJ,dK){function dL(dO){return _2.Parse(dK,_3.FromHash(dO,{$:1,$0:true}));}function dM(){return x.getCurrentHash(dL,dJ);}function dN(dO){if(!bd.Equals(dI.Get(),dO))dI.Set(dO);}self.addEventListener("popstate",function(){return dN(dM());},false);self.addEventListener("hashchange",function(){return dN(dM());},false);self.document.body.addEventListener("click",function(dO){var dP,dQ,dR;dP=(dQ=x.findLinkHref(dO.target),dQ==null?null:(dR=dQ.$0,ch.StartsWith(dR,"#")?dL(dR):null));return dP==null?null:(dN(dP.$0),dO.preventDefault());},false);bc.Sink(function(dO){var dP;if(!bd.Equals(dO,dM())){dP=_2.HashLink(dK,dO);self.history.pushState(null,null,dP);}},dI.get_View());};x.getCurrentHash=function(dI,dJ){var dK,dL;dK=self.location.hash;dL=dI(dK);return dL==null?((function(dM){return function(dN){return dM("Failed to parse route: "+bG.toSafe(dN));};}(function(dM){dD.log(dM);}))(dK),dJ):dL.$0;};x.findLinkHref=function(dI){while(true)if(dI.tagName==="A")return bC.ofObj(dI.getAttribute("href"));else if(dI===self.document.body)return null;else dI=dI.parentNode;};z.Home={$:0};z.About={$:1};A=b.Obj=dF.Class({Equals:function(dI){return this===dI;},GetHashCode:function(){return -1;}},null,A);A.New=dF.Ctor(function(){},A);B=c.Var$1=dF.Class({},A,B);B.Set=function(dI,dJ){dI.Set(dJ);};B.Create$1=function(dI){return new bz.New(false,bA.New({$:2,$0:dI,$1:[]}),dI);};B.Lens=function(dI,dJ,dK){var dL,dM,dN;dL=cg.Id();dM=bc.Map(dJ,dI.get_View());dN=new D({Get:function(){return dJ(dI.Get());},Set:function(dO){return dI.Update(function(dP){return dK(dP,dO);});},SetFinal:function(dO){return this.Set(dO);},Update:function(dO){return dI.Update(function(dP){return dK(dP,dO(dJ(dP)));});},UpdateMaybe:function(dO){return dI.UpdateMaybe(function(dP){var dQ;dQ=dO(dJ(dP));return dQ==null?null:{$:1,$0:dK(dP,dQ.$0)};});},get_View:function(){return dM;},get_Id:function(){return dL;}});D.New.call(dN);return dN;};B.Update=function(dI,dJ){B.Set(dI,dJ(dI.Get()));};C.FailWith=function(dI){throw new dm(dI);};C.KeyValue=function(dI){return[dI.K,dI.V];};C.toInt=function(dI){var dJ;dJ=C.toUInt(dI);return dJ>=2147483648?dJ-4294967296:dJ;};C.toUInt=function(dI){return(dI<0?dB.ceil(dI):dB.floor(dI))>>>0;};D=c.Var=dF.Class({},A,D);D.New=dF.Ctor(function(){A.New.call(this);},D);E.BobsleighHome={$:0};E.BobsleighHistory={$:1};E.BobsleighGovernance={$:2};E.BobsleighTeam={$:3};F.SimpleTextBox={$:0};F.InputTransform={$:1};F.InputTransformHtml={$:2};F.TodoList={$:3};F.PhoneExample={$:4};F.EditablePersonList={$:5};F.CheckBoxTest={$:6};F.Calculator={$:7};F.ContactFlow={$:8};F.AnimatedContactFlow={$:9};F.MessageBoard={$:10};F.BobsleighSite={$:11};F.AnimatedBobsleighSite={$:13};F.ObjectConstancy={$:14};F.MouseInfo={$:15};F.KeyboardInfo={$:16};F.SortableBarChart={$:17};G.r$2=function(){return bf.JSUnion(void 0,[[null,[[null,["home"]]],[]],[null,[[null,["about"]]],[]],[null,[[null,["samples"]]],[G.r$1()]]]);};G.r$1=function(){return bf.JSUnion(void 0,[[null,[[null,["SimpleTextBox"]]],[]],[null,[[null,["InputTransform"]]],[]],[null,[[null,["InputTransformHtml"]]],[]],[null,[[null,["TodoList"]]],[]],[null,[[null,["PhoneExample"]]],[]],[null,[[null,["EditablePersonList"]]],[]],[null,[[null,["CheckBoxTest"]]],[]],[null,[[null,["Calculator"]]],[]],[null,[[null,["ContactFlow"]]],[]],[null,[[null,["AnimatedContactFlow"]]],[]],[null,[[null,["MessageBoard"]]],[]],[null,[[null,["BobsleighSite"]]],[]],[null,[[null,["RoutedBobsleighSite"]]],[G.r()]],[null,[[null,["AnimatedBobsleighSite"]]],[]],[null,[[null,["ObjectConstancy"]]],[]],[null,[[null,["MouseInfo"]]],[]],[null,[[null,["KeyboardInfo"]]],[]],[null,[[null,["SortableBarChart"]]],[]]]);};G.r=function(){return bf.JSUnion(void 0,[[null,[[null,[]]],[]],[null,[[null,["history"]]],[]],[null,[[null,["governance"]]],[]],[null,[[null,["team"]]],[]]]);};H.tablerow=function(dI){return dI?$.GetOrLoadTemplate("inputtransformtemplate",{$:1,$0:"tablerow"},function(){return dG.parseHTML("<tr>\n                        <td>${lbl}</td>\n                        <td style=\"width: 70%;\">${view}</td>\n                    </tr>");},dI):$.PrepareTemplate("inputtransformtemplate",{$:1,$0:"tablerow"},function(){return dG.parseHTML("<tr>\n                        <td>${lbl}</td>\n                        <td style=\"width: 70%;\">${view}</td>\n                    </tr>");});};H.t=function(dI){return dI?$.GetOrLoadTemplate("inputtransformtemplate",null,function(){return dG.parseHTML("<div>\n    <div class=\"panel panel-default\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">Input</h3>\n        </div>\n        <div class=\"panel-body\">\n            <form class=\"form-horizontal\" role=\"form\">\n                <div class=\"form-group\">\n                    <label class=\"col-sm-2 control-label\" for=\"inputBox\">Write something: </label>\n                    <div class=\"col-sm-10\">\n                        <input class=\"form-control\" id=\"inputBox\" ws-var=\"inputText\">\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n    <div class=\"panel panel-default\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">Output</h3>\n        </div>\n        <div class=\"panel-body\">\n            <table class=\"table\">\n                <tbody ws-hole=\"tableBody\">\n                    \n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>");},dI):$.PrepareTemplate("inputtransformtemplate",null,function(){return dG.parseHTML("<div>\n    <div class=\"panel panel-default\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">Input</h3>\n        </div>\n        <div class=\"panel-body\">\n            <form class=\"form-horizontal\" role=\"form\">\n                <div class=\"form-group\">\n                    <label class=\"col-sm-2 control-label\" for=\"inputBox\">Write something: </label>\n                    <div class=\"col-sm-10\">\n                        <input class=\"form-control\" id=\"inputBox\" ws-var=\"inputText\">\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n    <div class=\"panel panel-default\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">Output</h3>\n        </div>\n        <div class=\"panel-body\">\n            <table class=\"table\">\n                <tbody ws-hole=\"tableBody\">\n                    \n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>");});};I=f.T=dF.Class({get_Item:function(dI){return bI.nth(dI,this);},GetEnumerator:function(){return new cr.New(this,null,function(dI){var dJ;dJ=dI.s;return dJ.$==0?false:(dI.c=dJ.$0,dI.s=dJ.$1,true);},void 0);},GetEnumerator0:function(){return cj.Get(this);}},null,I);I.Empty=new I({$:0});J.get=function(dI,dJ){J.checkBounds(dI,dJ);return dI[dJ];};J.length=function(dI){return dI.dims===2?dI.length*dI.length:dI.length;};J.checkBounds=function(dI,dJ){if(dJ<0||dJ>=dI.length)C.FailWith("Index was outside the bounds of the array.");};J.sub=function(dI,dJ,dK){J.checkRange(dI,dJ,dK);return dI.slice(dJ,dJ+dK);};J.set=function(dI,dJ,dK){J.checkBounds(dI,dJ);dI[dJ]=dK;};J.checkRange=function(dI,dJ,dK){if(dK<0||dJ<0||dI.length<dJ+dK)C.FailWith("Index was outside the bounds of the array.");};K.$cctor=function(){K.$cctor=a.ignore;K.Sample=y.Build(F.SimpleTextBox).Id("SimpleTextBox").FileName("SimpleTextBox.fs").Keywords(f.ofArray(["text"])).Render(g.Main).RenderDescription(g.Description).Create();};L.$cctor=function(){L.$cctor=a.ignore;L.Sample=y.Build(F.InputTransform).Id("InputTransform").FileName("InputTransform.fs").Keywords(f.ofArray(["text"])).Render(h.Main).RenderDescription(h.Description).Create();};M.$cctor=function(){M.$cctor=a.ignore;M.Sample=y.Build(F.InputTransformHtml).Id("InputTransformHtml").FileName("InputTransformHtml.fs").Keywords(f.ofArray(["text"])).Render(i.Main).RenderDescription(i.Description).Create();};N.$cctor=function(){N.$cctor=a.ignore;N.Sample=y.Build(F.TodoList).Id("TodoList").FileName("TodoList.fs").Keywords(f.ofArray(["todo"])).Render(j.Main).RenderDescription(j.Description).Create();};O.$cctor=function(){O.$cctor=a.ignore;O.Sample=y.Build(F.PhoneExample).Id("PhoneExample").FileName("PhoneExample.fs").Keywords(f.ofArray(["todo"])).Render(k.Main).RenderDescription(k.Description).Create();};P.$cctor=function(){P.$cctor=a.ignore;P.peopleList=f.ofArray([l.createPerson("Alonzo","Church"),l.createPerson("Alan","Turing"),l.createPerson("Bertrand","Russell"),l.createPerson("Noam","Chomsky")]);P.memberList=_4.Element("div",[],[_4.Element("ul",[],[_4.Concat(f.map(function(dI){return _4.Element("li",[],[_4.EmbedView(bc.Map2(function(dJ,dK){return _4.TextNode(dJ+" "+dK);},dI.FirstName.get_View(),dI.LastName.get_View()))]);},l.peopleList()))])]);P.peopleBoxes=_4.Element("div",[],[_4.Element("ul",[],[_4.Concat(f.map(function(dI){return _4.Element("li",[],[_4.Input([],dI.FirstName),_4.Input([],dI.LastName)]);},l.peopleList()))])]);P.Sample=y.Build(F.EditablePersonList).Id("EditablePersonList").FileName("EditablePersonList.fs").Keywords(f.ofArray(["text"])).Render(l.Main).RenderDescription(l.Description).Create();};Q.$cctor=function(){Q.$cctor=a.ignore;Q.People=f.ofArray([bi.Create("Simon",22),bi.Create("Peter",18),bi.Create("Clare",50),bi.Create("Andy",51)]);Q.Sample=y.Build(F.CheckBoxTest).Id("CheckBoxTest").FileName("CheckBoxTest.fs").Keywords(f.ofArray(["todo"])).Render(m.Main).RenderDescription(m.Description).Create();};R.$cctor=function(){R.$cctor=a.ignore;R.initCalc=bj.New(0,0,bk.Add);R.Sample=y.Build(F.Calculator).Id("Calculator").FileName("Calculator.fs").Keywords(f.ofArray(["calculator"])).Render(n.Main).RenderDescription(n.Description).Create();};S.$cctor=function(){S.$cctor=a.ignore;S.personFlowlet=bl.Define(function(dI){var dJ,dK;dJ=B.Create$1("");dK=B.Create$1("");return _4.Element("form",[_6.cls("form-horizontal"),be.Create("role","form")],[o.inputRow(dJ,"lblName","Name",false),o.inputRow(dK,"lblAddr","Address",true),_6.divc("row",[_6.divc("col-sm-2",[]),_6.divc("col-sm-6",[_6.divc("form-group",[_4.Button("Next",[_6.cls("btn btn-default")],function(){dI(bm.New(dJ.Get(),dK.Get()));})])]),_6.divc("col-sm-4",[])])]);});S.contactTypeFlowlet=bl.Define(function(dI){return _4.Element("form",[_6.cls("form-horizontal"),be.Create("role","form")],[_4.Element("form",[_6.cls("form-group")],[_4.Element("div",[],[_4.Button("E-Mail Address",[_6.cls("btn btn-default")],function(){dI(bn.EmailTy);})]),_4.Element("div",[],[_4.Button("Phone Number",[_6.cls("btn btn-default")],function(){dI(bn.PhoneTy);})])])]);});S.Sample=y.Build(F.ContactFlow).Id("ContactFlow").FileName("ContactFlow.fs").Keywords(f.ofArray(["flowlet"])).Render(o.ExampleFlow).RenderDescription(o.Description).Create();};T.$cctor=function(){var dI,dJ,dK,dL,dM,dN;T.$cctor=a.ignore;T.fadeTime=300;T.Fade=(dI=bq.get_Double(),(dJ=bp.get_CubicInOut(),(dK=p.fadeTime(),dF.Curried(bo.Simple,2,[dI,dJ,dK]))));T.FadeTransition=br.Exit(function(){return((p.Fade())(1))(0);},br.Enter(function(){return((p.Fade())(0))(1);},br.Create(function(dO,dP){return((p.Fade())(dO))(dP);})));T.swipeTime=300;T.Swipe=(dL=bq.get_Double(),(dM=bp.get_CubicInOut(),(dN=p.swipeTime(),dF.Curried(bo.Simple,2,[dL,dM,dN]))));T.SwipeTransition=br.Exit(function(){return((p.Swipe())(0))(400);},br.Create(function(dO,dP){return((p.Swipe())(dO))(dP);}));T.personFlowlet=bl.Define(function(dO){var dP,dQ;dP=B.Create$1("");dQ=B.Create$1("");return p.AnimateFlow(_4.Element("form",[_6.cls("form-horizontal"),be.Create("role","form")],[p.inputRow(dP,"lblName","Name"),p.inputRow(dQ,"lblAddr","Address"),_6.divc("form-group",[_6.divc("col-sm-offset-2 col-sm-10",[_4.Button("Next",[_6.cls("btn btn-default")],function(){dO(bs.New(dP.Get(),dQ.Get()));})])])]));});T.contactTypeFlowlet=bl.Define(function(dO){return p.AnimateFlow(_4.Element("form",[_6.cls("form-horizontal"),be.Create("role","form")],[_6.divc("form-group",[_4.Element("div",[],[_4.Button("E-Mail Address",[_6.cls("btn btn-default")],function(){dO(bt.EmailTy);})]),_4.Element("div",[],[_4.Button("Phone Number",[_6.cls("btn btn-default")],function(){dO(bt.PhoneTy);})])])]));});T.Sample=y.Build(F.AnimatedContactFlow).Id("AnimatedContactFlow").FileName("AnimatedContactFlow.fs").Keywords(f.ofArray(["flowlet"])).Render(p.ExampleFlow).RenderDescription(p.Description).Create();};U.$cctor=function(){U.$cctor=a.ignore;U.i=0;U.DELAY=200;U.threads=I.Empty;U.posts=new b5.New([]);U.Sample=y.Build(F.MessageBoard).Id("MessageBoard").FileName("MessageBoard.fs").Keywords(f.ofArray(["text"])).Render(q.Main).RenderDescription(q.Description).Create();};V.$cctor=function(){V.$cctor=a.ignore;V.pages=f.ofArray([E.BobsleighHome,E.BobsleighHistory,E.BobsleighGovernance,E.BobsleighTeam]);V.Sample=y.Build(F.BobsleighSite).Id("BobsleighSite").FileName("BobsleighSite.fs").Keywords(f.ofArray(["text"])).Render(r.Main).RenderDescription(r.description).Create();};W.$cctor=function(){W.$cctor=a.ignore;W.Sample=y.Routed(function(dI){return{$:12,$0:dI};},E.BobsleighHome,function(dI){return dI.$==12?{$:1,$0:dI.$0}:null;}).Id("RoutedBobsleighSite").FileName("RoutedBobsleighSite.fs").Keywords(f.ofArray(["text"])).Render(s.Main).RenderDescription(s.description).Create();};X.$cctor=function(){var dI,dJ,dK;X.$cctor=a.ignore;X.pages=f.ofArray([bw.BobsleighHome,bw.BobsleighHistory,bw.BobsleighGovernance,bw.BobsleighTeam]);X.fadeTime=300;X.Fade=(dI=bq.get_Double(),(dJ=bp.get_CubicInOut(),(dK=t.fadeTime(),dF.Curried(bo.Simple,2,[dI,dJ,dK]))));X.FadeTransition=br.Exit(function(){return((t.Fade())(1))(0);},br.Enter(function(){return((t.Fade())(0))(1);},br.Create(function(dL,dM){return((t.Fade())(dL))(dM);})));X.Sample=y.Build(F.AnimatedBobsleighSite).Id("AnimatedBobsleighSite").FileName("AnimatedBobsleighSite.fs").Keywords(f.ofArray(["text"])).Render(t.Main).RenderDescription(t.description).Create();};Y.$cctor=function(){Y.$cctor=a.ignore;Y.Width=960;Y.Height=250;Y.SimpleTransition=br.Create(u.SimpleAnimation);Y.InOutTransition=br.Exit(function(dI){return u.SimpleAnimation(dI,u.Height());},br.Enter(function(dI){return u.SimpleAnimation(u.Height(),dI);},u.SimpleTransition()));Y.Sample=y.Build(F.ObjectConstancy).Id("ObjectConstancy").FileName("ObjectConstancy.fs").Keywords(f.ofArray(["animation"])).Render(u.Main).RenderDescription(u.Description).Create();};Z.$cctor=function(){Z.$cctor=a.ignore;Z.Sample=y.Build(F.MouseInfo).Id("MouseInfo").FileName("MouseInfo.fs").Keywords(f.ofArray(["mouse"])).Render(v.Main).RenderDescription(v.Description).Create();};_0.$cctor=function(){_0.$cctor=a.ignore;_0.keys=by.get_KeysPressed();_0.Sample=y.Build(F.KeyboardInfo).Id("KeyboardInfo").FileName("KeyboardInfo.fs").Keywords(f.ofArray(["text"])).Render(w.Main).RenderDescription(w.Description).Create();};_2.Parse=function(dI,dJ){function dK(dL,dM){return dL.Segments.$==0?{$:1,$0:dM}:null;}return bI.tryPick(function(dL){return dK(dL[0],dL[1]);},dI.Parse(dJ));};_2.HashLink=function(dI,dJ){return"#"+_2.Link(dI,dJ);};_2.Link=function(dI,dJ){var dK;dK=_2.Write(dI,dJ);return dK==null?"":dK.$0.ToLink();};_2.Write=function(dI,dJ){var dK;dK=dI.Write(dJ);return dK==null?null:{$:1,$0:_3.Combine(dK.$0)};};_3=_1.Route=dF.Class({ToLink:function(){return c8.WriteLink(this.Segments,this.QueryArgs);}},null,_3);_3.FromHash=function(dI,dJ){var dK,dL;dK=dI.indexOf("#");return dK===-1?_3.get_Empty():(dL=dI.substring(dK+1),dJ!=null&&dJ.$0?dL===""||dL==="/"?_3.get_Empty():ch.StartsWith(dL,"/")?_3.FromUrl(dL.substring(1),{$:1,$0:true}):_3.Segment$2(dL):_3.FromUrl(dI.substring(dK),{$:1,$0:false}));};_3.get_Empty=function(){return _3.New(I.Empty,new b5.New([]),new b5.New([]),null,ck.CreateFromValue(null));};_3.FromUrl=function(dI,dJ){var dK,dL,dM;dK=(dL=dI.indexOf("?"),dL===-1?[dI,new b5.New([])]:[ch.Substring(dI,0,dL),_3.ParseQuery(dI.substring(dL+1))]);dM=_3.get_Empty();return _3.New(f.ofArray(ch.SplitChars(dK[0],["/"],dJ!=null&&dJ.$0?0:1)),dK[1],dM.FormData,dM.Method,dM.Body);};_3.Segment$2=function(dI){var dJ;dJ=_3.get_Empty();return _3.New(f.ofArray([dI]),dJ.QueryArgs,dJ.FormData,dJ.Method,dJ.Body);};_3.Segment=function(dI,dJ){var dK;dK=_3.get_Empty();return _3.New(dI,dK.QueryArgs,dK.FormData,dJ,dK.Body);};_3.ParseQuery=function(dI){return bv.OfArray(J.ofSeq(J.choose(function(dJ){var dK,dL;dK=ch.SplitChars(dJ,["="],0);return!bd.Equals(dK,null)&&dK.length===2?(dL=J.get(dK,1),{$:1,$0:[J.get(dK,0),dL]}):((function(dM){return function(dN){return dM("wrong format for query argument: "+bG.toSafe(dN));};}(function(dM){dD.log(dM);}))(dJ),null);},ch.SplitChars(dI,["&"],0))));};_3.Combine=function(dI){var dJ,dK,dL,dM,dN,dO,dP,dQ,dR,dS;dP=J.ofSeq(dI);dQ=J.length(dP);if(dQ===0)return _3.get_Empty();else if(dQ===1)return J.get(dP,0);else{dJ=null;dK=null;dR=[];dL=new b5.New([]);dM=new b5.New([]);dN=0;dS=J.length(dP);while(dN<dS)(function(){var dT,dU,dV;dT=J.get(dP,dN);dU=dT.Method;dU!=null&&dU.$==1?dJ=dU:void 0;dV=dT.Body.f();dV===null?void 0:dK=dV;dL=bv.FoldBack(function(dW,dX,dY){return dY.Add(dW,dX);},dL,dT.QueryArgs);dM=bv.FoldBack(function(dW,dX,dY){return dY.Add(dW,dX);},dM,dT.FormData);f.iter(function(dW){dR.push(dW);},dT.Segments);dN=dN+1;}());return _3.New(f.ofSeq(dR),dL,dM,dJ,ck.CreateFromValue(dK));}};_3.New=function(dI,dJ,dK,dL,dM){return new _3({Segments:dI,QueryArgs:dJ,FormData:dK,Method:dL,Body:dM});};_4=c.Doc=dF.Class({},A,_4);_4.Concat=function(dI){var dJ;dJ=bJ.ofSeqNonCopying(dI);return bJ.TreeReduce(_4.get_Empty(),_4.Append,dJ);};_4.RunById=function(dI,dJ){var dK;dK=bR.Doc().getElementById(dI);bd.Equals(dK,null)?C.FailWith("invalid id: "+dI):_4.Run(dK,dJ);};_4.BindView=function(dI,dJ){return _4.EmbedView(bc.Map(dI,dJ));};_4.Append=function(dI,dJ){return _4.Mk({$:0,$0:dI.docNode,$1:dJ.docNode},bc.Map2Unit(dI.updates,dJ.updates));};_4.get_Empty=function(){return _4.Mk(null,bc.Const());};_4.TextNode=function(dI){return _4.Mk({$:5,$0:bR.CreateText(dI)},bc.Const());};_4.Button=function(dI,dJ,dK){var dL;dL=be.Concat(dJ);return cR.New(_4.Clickable("button",dK),dL,_4.TextNode(dI));};_4.Run=function(dI,dJ){cp.LinkElement(dI,dJ.docNode);_4.RunInPlace(false,dI,dJ);};_4.Link=function(dI,dJ,dK){var dL,dM;dL=(dM=be.Concat(dJ),be.Append(be.Create("href","#"),dM));return cR.New(_4.Clickable("a",dK),dL,_4.TextNode(dI));};_4.EmbedView=function(dI){var dJ;dJ=cp.CreateEmbedNode();return _4.Mk({$:2,$0:dJ},bc.Map(a.ignore,bc.Bind(function(dK){cp.UpdateEmbedNode(dJ,dK.docNode);return dK.updates;},dI)));};_4.Input=function(dI,dJ){return _4.InputInternal("input",function(){return bI.append(dI,[bK.Value(dJ)]);});};_4.Mk=function(dI,dJ){return new _4.New(dI,dJ);};_4.Element=function(dI,dJ,dK){var dL,dM;dL=be.Concat(dJ);dM=_4.Concat(dK);return cR.New(bR.CreateElement(dI),dL,dM);};_4.Clickable=function(dI,dJ){var dK;dK=bR.CreateElement(dI);dK.addEventListener("click",function(dL){dL.preventDefault();return dJ();},false);return dK;};_4.RunInPlace=function(dI,dJ,dK){var dL;dL=cp.CreateRunState(dJ,dK.docNode);bc.Sink(bo.get_UseAnimations()||cW.BatchUpdatesEnabled()?cX.StartProcessor(cp.PerformAnimatedUpdate(dI,dL,dK.docNode)):function(){cp.PerformSyncUpdate(dI,dL,dK.docNode);},dK.updates);};_4.InputInternal=function(dI,dJ){var dK;dK=bR.CreateElement(dI);return cR.New(dK,be.Concat(dJ(dK)),_4.get_Empty());};_4.TextView=function(dI){var dJ;dJ=cp.CreateTextNode();return _4.Mk({$:4,$0:dJ},bc.Map(function(dK){cp.UpdateTextNode(dJ,dK);},dI));};_4.Radio=function(dI,dJ,dK){var dL,dM;dL=bR.CreateElement("input");dL.addEventListener("click",function(){return dK.Set(dJ);},false);dM=bK.DynamicProp("checked",bc.Map(function(dN){return bd.Equals(dN,dJ);},dK.get_View()));return cR.New(dL,be.Concat(f.append(f.ofArray([be.Create("type","radio"),be.Create("name",dK.get_Id()),dM]),f.ofSeq(dI))),_4.get_Empty());};_4.CheckBoxGroup=function(dI,dJ,dK){function dL(dM){return bd.Equals(dJ,dM);}return _4.CheckBox(dI,B.Lens(dK,function(dM){return f.exists(dL,dM);},function(dM,dN){return dN?f.exists(function(dO){return bd.Equals(dJ,dO);},dM)?dM:new I({$:1,$0:dJ,$1:dM}):f.filter(function(dO){return!bd.Equals(dJ,dO);},dM);}));};_4.InputArea=function(dI,dJ){return _4.InputInternal("textarea",function(){return bI.append(dI,[bK.Value(dJ)]);});};_4.Select=function(dI,dJ,dK,dL){return _4.SelectImpl(dI,dJ,function(dM){dM[0]=dK;return _4.Concat(f.mapi(function(dN,dO){return _4.Element("option",f.ofArray([be.Create("value",dC(dN))]),f.ofArray([_4.TextNode(dJ(dO))]));},dK));},dL);};_4.CheckBox=function(dI,dJ){return _4.InputInternal("input",function(){return bI.append(dI,[be.Create("type","checkbox"),bK.Checked(dJ)]);});};_4.SelectImpl=function(dI,dJ,dK,dL){var dM,dN,dO,dP;function dQ(dV){return dV.selectedIndex;}function dR(dV,dW){dV.selectedIndex=dW;}function dS(dV){var dW;dW=dQ(dV);return dM[0].get_Item(dW);}function dT(dV){return bI.findIndex(function(dW){return bd.Equals(dV,dW);},dM[0]);}function dU(dV,dW){return dR(dV,dT(dW));}dM=[I.Empty];dN=bR.CreateElement("select");dO=bK.DynamicCustom(function(dV){return function(dW){return dU(dV,dW);};},dL.get_View());dN.addEventListener("change",function(){dL.UpdateMaybe(function(dV){var dW;dW=dS(dN);return bd.Equals(dV,dW)?null:{$:1,$0:dW};});},false);return cR.New(dN,(dP=be.Append(dO,be.Concat(dI)),be.Append(bK.OnAfterRender(function(dV){dU(dV,dL.Get());}),dP)),dK(dM));};_4.SvgElement=function(dI,dJ,dK){var dL,dM;dL=be.Concat(dJ);dM=_4.Concat(dK);return cR.New(bR.CreateSvgElement(dI),dL,dM);};_4.ConvertBy=function(dI,dJ,dK){return _4.Flatten(bc.MapSeqCachedBy(dI,dJ,dK));};_4.PasswordBox=function(dI,dJ){return _4.InputInternal("input",function(){return bI.append(dI,[bK.Value(dJ),be.Create("type","password")]);});};_4.Flatten=function(dI){return _4.EmbedView(bc.Map(_4.Concat,dI));};_4.New=dF.Ctor(function(dI,dJ){A.New.call(this);this.docNode=dI;this.updates=dJ;},_4);_5.New=function(dI,dJ,dK,dL){return{Name:dI,ImgURL:dJ,Description:dK,URLs:dL};};_6.cls=function(dI){return bK.Class(dI);};_6.sty=function(dI,dJ){return bK.Style(dI,dJ);};_6.divc=function(dI,dJ){return _4.Element("div",[_6.cls(dI)],dJ);};_6.href=function(dI,dJ){return _4.Element("a",[be.Create("href",dJ)],[_4.TextNode(dI)]);};y.SamplesDefault=function(){bL.$cctor();return bL.SamplesDefault;};y.Build=function(dI){return y.Routed(function(){return dI;},null,function(dJ){return bd.Equals(dJ,dI)?{$:1,$0:null}:null;});};y.Routed=function(dI,dJ,dK){return bg.New(dJ,dI,dK,function(){return _4.get_Empty();},function(){return _4.get_Empty();},bO.New("Unknown.fs",I.Empty,"Unknown"));};y.Render=function(dI,dJ,dK,dL,dM){return _4.Element("section",[_6.cls("block-small")],[_6.divc("container",[_6.divc("row",[y.Sidebar(dI,dM),y.RenderContent(dJ,dK,dL)])])]);};y.Sidebar=function(dI,dJ){return _6.divc("col-md-3",[_4.Element("h4",[],[_4.TextNode("Samples")]),_4.Concat(f.map(function(dK){var dL;dL=bK.DynamicClassPred("active",bc.Map(function(dM){return dM.$==2&&dK.IsThis(dM.$0);},dI.get_View()));return _4.Link(dK.Meta.Title,[_6.cls("list-group-item"),dL],function(){B.Set(dI,{$:2,$0:dK.DefaultPage});});},dJ))]);};y.RenderContent=function(dI,dJ,dK){return _6.divc("samples col-md-9",[_4.Element("div",[],[_6.divc("row",[_4.Element("h1",[],[_4.TextNode(dI.Title)]),_4.Element("div",[],[_4.Element("p",[],[dK]),_4.Element("p",[],[_4.Element("a",[be.Create("href","https://github.com/intellifactory/websharper.ui.next.samples/blob/master/src/"+dI.FileName)],[_4.TextNode("View Source")])])])]),_6.divc("row",[_4.Element("p",[],[dJ])])])]);};_8=_7.attr=dF.Class({},A,_8);_9.New=function(dI,dJ,dK,dL){return{Page:dI,IsThis:dJ,Meta:dK,DefaultPage:dL};};_.Sample=function(){bP.$cctor();return bP.Sample;};_.SimpleAnimation=function(dI,dJ){return _.DelayedAnimation(0,dI,dJ);};_.SimpleTransition=function(){bP.$cctor();return bP.SimpleTransition;};_.LoadFromCSV=function(dI){return c6.FromContinuations(function(dJ){dG.get(dI,new A.New(),function(dK){dJ(_.ParseCSV(dK));});});};_.Main=function(dI){var dJ,dK;dJ=B.Create$1(cS.ByLetter);dK=bc.Map2(_.ViewData,bc.Map(f.ofSeq,_.LoadData()),dJ.get_View());return _4.Element("div",[],[_4.Select([],_.ShowOrdering,f.ofArray([cS.ByLetter,cS.ByFrequency]),dJ),_.DisplayGraph(dK)]);};_.Description=function(dI){return _4.Element("div",[],[_4.TextNode("This sample show-cases animation and data display.")]);};_.DelayedAnimation=function(dI,dJ,dK){return bo.Delayed(bq.get_Double(),bp.get_CubicInOut(),300,dI,dJ,dK);};_.ParseCSV=function(dI){return J.map(function(dJ){return _.mkEntry(ch.SplitChars(dJ,[","],0));},ca.array(J.filter(function(dJ){return dJ!=="";},ch.SplitChars(dI,["\r","\n"],0)),{$:1,$0:1},null));};_.ShowOrdering=function(dI){return dI.$==1?"By Frequency":"By Letter";};_.DisplayGraph=function(dI){return _4.Element("div",[],[_4.SvgElement("svg",[be.Create("width",dC(_.Width())),be.Create("height",dC(_.Height()))],[_4.EmbedView(bc.Map(_4.Concat,bc.MapSeqCachedViewBy(function(dJ){return dJ.Label;},_.Render,dI)))])]);};_.ViewData=function(dI,dJ){var dK,dL,dM;dK=f.length(dI);dL=bI.fold(function(dN,dO){return dO.DataValue>dN?dO.DataValue:dN;},0,dI);dM=dJ.$==1?function(dN){return function(dO){return dO.DataValue<dN.DataValue?-1:dN.DataValue===dO.DataValue?0:1;};}:function(dN){return function(dO){return bd.Compare(dN.DataLabel,dO.DataLabel);};};return f.mapi(function(dN,dO){return da.New(dO.DataLabel,dO.DataValue,dN,dL,dK);},f.sortWith(function(dN,dO){return(dM(dN))(dO);},f.ofSeq(dI)));};_.LoadData=function(){bP.$cctor();return bP.LoadData;};_.mkEntry=function(dI){var dJ;return db.New(J.get(dI,0),(dJ=a.Number(J.get(dI,1)),a.isNaN(dJ)?new dn.New("Input string was not in a correct format."):dJ));};_.Width=function(){bP.$cctor();return bP.Width;};_.Height=function(){bP.$cctor();return bP.Height;};_.Render=function(dI,dJ){function dK(dN,dO){return bK.Dynamic(dN,bc.Map(function(dP){return dC(dO(dP));},dJ));}function dL(dN){return _.Width()/+dN.NumData-_.Spacing();}function dM(dN){return dN.Value/dN.MaxValue*_.Height();}return _4.SvgElement("g",[bK.Style("fill","steelblue")],[_4.SvgElement("rect",[dK("width",dL),dK("height",dM),bK.Animated("x",_.BarTransition(),bc.Map(function(dN){return(dL(dN)+_.Spacing())*+dN.Rank;},dJ),dC),dK("y",function(dN){return _.Height()-dM(dN);})],[])]);};_.Spacing=function(){bP.$cctor();return bP.Spacing;};_.BarTransition=function(){bP.$cctor();return bP.BarTransition;};$.LoadLocalTemplates=function(dI){!$.LocalTemplatesLoaded()?($.set_LocalTemplatesLoaded(true),$.LoadNestedTemplates(self.document.body,"")):void 0;$.LoadedTemplates().set_Item(dI,$.LoadedTemplateFile(""));};$.LocalTemplatesLoaded=function(){cm.$cctor();return cm.LocalTemplatesLoaded;};$.set_LocalTemplatesLoaded=function(dI){cm.$cctor();cm.LocalTemplatesLoaded=dI;};$.LoadNestedTemplates=function(dI,dJ){var dL,dM,dN,dO,dP,dQ,dR,dS,dT,dU,dV,dW,dX,dY;function dK(dZ){var d0,d1;if(!dL.ContainsKey(dZ)){d0=(d1=null,[dM.TryGetValue(dZ,{get:function(){return d1;},set:function(d2){d1=d2;}}),d1]);d0[0]?(dY.Add(dZ),dM.Remove(dZ),$.PrepareTemplateStrict(dJ,{$:1,$0:dZ},d0[1][0],{$:1,$0:d0[1][1]},{$:1,$0:dK})):dD.warn(dY.Contains(dZ)?"Encountered loop when instantiating "+dZ:"Local template does not exist: "+dZ);}}dL=$.LoadedTemplateFile(dJ);dM=new bQ.New$5();dN=dI.querySelectorAll("[ws-template]");for(dO=0,dP=dN.length-1;dO<=dP;dO++){dQ=dN[dO];dR=dQ.getAttribute("ws-template").toLowerCase();dQ.removeAttribute("ws-template");dM.set_Item(dR,[[dQ],$.FakeRootSingle(dQ)]);}dS=dI.querySelectorAll("[ws-children-template]");for(dT=0,dU=dS.length-1;dT<=dU;dT++){dV=dS[dT];dW=dV.getAttribute("ws-children-template").toLowerCase();dV.removeAttribute("ws-children-template");dM.set_Item(dW,(dX=bR.ChildrenArray(dV),[dX,$.FakeRoot(dX)]));}dY=new cn.New$3();while(dM.count>0)dK(bI.head(dM.get_Keys()));};$.LoadedTemplates=function(){cm.$cctor();return cm.LoadedTemplates;};$.LoadedTemplateFile=function(dI){var dJ,dK,dL;dJ=(dK=null,[$.LoadedTemplates().TryGetValue(dI,{get:function(){return dK;},set:function(dM){dK=dM;}}),dK]);return dJ[0]?dJ[1]:(dL=new bQ.New$5(),($.LoadedTemplates().set_Item(dI,dL),dL));};$.FakeRootSingle=function(dI){var dJ,dK,dL;dI.removeAttribute("ws-template");dJ=dI.getAttribute("ws-replace");dJ===null?void 0:(dI.removeAttribute("ws-replace"),dK=dI.parentNode,bd.Equals(dK,null)?void 0:(dL=self.document.createElement(dI.tagName),dL.setAttribute("ws-replace",dJ),dK.replaceChild(dL,dI)));return $.FakeRoot([dI]);};$.FakeRoot=function(dI){var dJ,dK,dL;dJ=self.document.createElement("div");for(dK=0,dL=dI.length-1;dK<=dL;dK++)dJ.appendChild(J.get(dI,dK));return dJ;};$.PrepareTemplateStrict=function(dI,dJ,dK,dL,dM){var dN,dO;function dP(dU,dV){var dW,dX,dY,dZ,d0,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh,ei,ej,ek;function d1(el){}while(true)switch(dU){case 0:if(dV!==null){dW=dV.nextSibling;if(bd.Equals(dV.nodeType,bE.TEXT_NODE))cU.convertTextNode(dV);else if(bd.Equals(dV.nodeType,bE.ELEMENT_NODE))dR(dV);dV=dW;}else return null;break;case 1:d2=ca.string(dV.nodeName,{$:1,$0:3},null).toLowerCase();d3=(dX=d2.indexOf("."),dX===-1?[dI,d2]:[ca.string(d2,null,{$:1,$0:dX-1}),ca.string(d2,{$:1,$0:dX+1},null)]);d4=d3[1];d5=d3[0];if(d5!==""&&!$.LoadedTemplates().ContainsKey(d5))return cU.failNotLoaded(d4);else{if(d5===""&&dM!=null)dM.$0(d4);d6=$.LoadedTemplates().get_Item(d5);if(!d6.ContainsKey(d4))return cU.failNotLoaded(d4);else{d7=d6.get_Item(d4);d8=d7.cloneNode(true);d9=new cn.New$3();d_=new bQ.New$5();d$=dV.attributes;for(ea=0,eb=d$.length-1;ea<=eb;ea++){ec=d$.item(ea).name.toLowerCase();d_.set_Item(ec,(ed=d$.item(ea).nodeValue,ed===""?ec:ed.toLowerCase()));!d9.Add(ec)?dD.warn("Hole mapped twice",ec):void 0;}for(ee=0,ef=dV.childNodes.length-1;ee<=ef;ee++){eg=dV.childNodes[ee];bd.Equals(eg.nodeType,bE.ELEMENT_NODE)?!d9.Add(eg.nodeName.toLowerCase())?dD.warn("Hole filled twice",d4):void 0:void 0;}eh=dV.childNodes.length===1&&bd.Equals(dV.firstChild.nodeType,bE.TEXT_NODE);if(eh){dZ=cU.fillTextHole(d8,dV.firstChild.textContent,d4);((function(el){return function(em){if(em!=null)el(em.$0);};}((d0=function(el){return function(em){return el.Add(em);};}(d9),function(el){return d1(d0(el));})))(dZ));}cU.removeHolesExcept(d8,d9);if(!eh){for(ei=0,ej=dV.childNodes.length-1;ei<=ej;ei++){ek=dV.childNodes[ei];bd.Equals(ek.nodeType,bE.ELEMENT_NODE)?ek.hasAttributes()?cU.fillInstanceAttrs(d8,ek):dQ(d8,ek):void 0;}}cU.mapHoles(d8,d_);cU.fill(d8,dV.parentNode,dV);dV.parentNode.removeChild(dV);return;}}break;}}function dQ(dU,dV){var dW,dY,dZ;function dX(d0,d1){var d2,d3,d4;if(dY==="title"&&dV.hasChildNodes()){d2=dG.parseHTML(dV.textContent);dV.removeChild(dV.firstChild);for(d3=0,d4=d2.length-1;d3<=d4;d3++)dV.appendChild(J.get(d2,d3));}else null;dR(dV);return cU.fill(dV,d0,d1);}dY=dV.nodeName.toLowerCase();bR.IterSelector(dU,"[ws-attr-holes]",function(d0){var d1,d2,d3,d4,d5;d1=ch.SplitChars(d0.getAttribute("ws-attr-holes"),[" "],1);for(d2=0,d3=d1.length-1;d2<=d3;d2++){d4=J.get(d1,d2);d0.setAttribute(d4,(d5=new a.RegExp("\\${"+dY+"}","ig"),d0.getAttribute(d4).replace(d5,dV.textContent)));}});dZ=dU.querySelector("[ws-hole="+dY+"]");if(bd.Equals(dZ,null)){dW=dU.querySelector("[ws-replace="+dY+"]");return bd.Equals(dW,null)?null:(dX(dW.parentNode,dW),void dW.parentNode.removeChild(dW));}else{while(dZ.hasChildNodes())dZ.removeChild(dZ.lastChild);dZ.removeAttribute("ws-hole");return dX(dZ,null);}}function dR(dU){if(ch.StartsWith(dU.nodeName.toLowerCase(),"ws-"))dT(dU);else{cU.convertAttrs(dU);dS(dU.firstChild);}}function dS(dU){return dP(0,dU);}function dT(dU){return dP(1,dU);}dN=dL==null?$.FakeRoot(dK):dL.$0;dO=(dJ==null?"":dJ.$0).toLowerCase();$.LoadedTemplateFile(dI).set_Item(dO,dN);J.length(dK)>0?(function(dU){var dV,dW,dX,dY;while(true){dV=dU.querySelector("[ws-template]");if(bd.Equals(dV,null)){dW=dU.querySelector("[ws-children-template]");if(bd.Equals(dW,null))return null;else{dX=dW.getAttribute("ws-children-template");dW.removeAttribute("ws-children-template");$.PrepareTemplateStrict(dI,{$:1,$0:dX},bR.ChildrenArray(dW),null,null);dU=dU;}}else{dY=dV.getAttribute("ws-template");($.PrepareSingleTemplate(dI,{$:1,$0:dY},dV))(null);dU=dU;}}}(dN),dS(J.get(dK,0))):void 0;};$.PrepareSingleTemplate=function(dI,dJ,dK){var dL,dM,dN;dL=$.FakeRootSingle(dK);dM=[dK];dN={$:1,$0:dL};return function(dO){$.PrepareTemplateStrict(dI,dJ,dM,dN,dO);};};$.GetOrLoadTemplate=function(dI,dJ,dK,dL){$.LoadLocalTemplates("");$.PrepareTemplate(dI,dJ,dK);return $.NamedTemplate(dI,dJ,dL);};$.PrepareTemplate=function(dI,dJ,dK){var dL,dM,dN,dO,dP;if(!$.LoadedTemplateFile(dI).ContainsKey(dJ==null?"":dJ.$0)){dL=dK();for(dM=0,dN=dL.length-1;dM<=dN;dM++){dO=J.get(dL,dM);dP=dO.parentNode;bd.Equals(dP,null)?void 0:dP.removeChild(dO);}$.PrepareTemplateStrict(dI,dJ,dL,null,null);}};$.TextHoleRE=function(){cm.$cctor();return cm.TextHoleRE;};$.NamedTemplate=function(dI,dJ,dK){var dL,dM;dL=(dM=null,[$.LoadedTemplateFile(dI).TryGetValue(dJ==null?"":dJ.$0,{get:function(){return dM;},set:function(dN){dM=dN;}}),dM]);return dL[0]?$.ChildrenTemplate(dL[1].cloneNode(true),dK):(dD.warn("Local template doesn't exist",dJ),_4.get_Empty());};$.ChildrenTemplate=function(dI,dJ){var dK,dL,dM,dN,dO;dK=$.InlineTemplate(dI,dJ);dL=dK[1];dM=dK[0];dN=dM.Els;return!bd.Equals(dN,null)&&dN.length===1&&(J.get(dN,0)instanceof bE&&(bd.Equals(J.get(dN,0).nodeType,bE.ELEMENT_NODE)&&(dO=J.get(dN,0),true)))?cR.TreeNode(dM,dL):_4.Mk({$:6,$0:dM},dL);};$.InlineTemplate=function(dI,dJ){var dK,dL,dM,dN,dQ,dR,dS,dT,dU,dV,dW;function dO(dX,dY){var dZ,d0,d1;dZ=bS.Insert(dX,dY);dR.push(bS.Updates(dZ));dS.push([dX,dZ]);d0=dF.GetOptional(dZ.OnAfterRender);return d0==null?null:(d1=d0.$0,void dT.push(function(){d1(dX);}));}function dP(dX){var dY,dZ;dY=(dZ=null,[dU.TryGetValue(dX,{get:function(){return dZ;},set:function(d0){dZ=d0;}}),dZ]);return dY[0]?dY[1].$==0?{$:1,$0:dY[1].$1}:dY[1].$==1?{$:1,$0:_4.TextNode(dY[1].$1)}:dY[1].$==2?{$:1,$0:_4.TextView(dY[1].$1)}:dY[1].$==8?{$:1,$0:_4.TextView(dY[1].$1.get_View())}:dY[1].$==9?{$:1,$0:_4.TextView(bc.Map(dC,dY[1].$1.get_View()))}:dY[1].$==10?{$:1,$0:_4.TextView(bc.Map(function(d0){return d0.get_Input();},dY[1].$1.get_View()))}:dY[1].$==11?{$:1,$0:_4.TextView(bc.Map(dC,dY[1].$1.get_View()))}:dY[1].$==12?{$:1,$0:_4.TextView(bc.Map(function(d0){return d0.get_Input();},dY[1].$1.get_View()))}:dY[1].$==13?{$:1,$0:_4.TextView(bc.Map(dC,dY[1].$1.get_View()))}:(dD.warn("Content hole filled with attribute data",dX),null):null;}dQ=[];dR=[];dS=[];dT=[];dU=new bQ.New$5();dV=cj.Get(dJ);try{while(dV.MoveNext()){dW=dV.Current();dU.set_Item(dW.$0,dW);}}finally{if(typeof dV=="object"&&"Dispose"in dV)dV.Dispose();}dK=bR.ChildrenArray(dI);bR.IterSelector(dI,"[ws-hole]",function(dX){var dY,dZ,d0;d0=dX.getAttribute("ws-hole");dX.removeAttribute("ws-hole");while(dX.hasChildNodes())dX.removeChild(dX.lastChild);dY=dP(d0);dY!=null&&dY.$==1?(dZ=dY.$0,cp.LinkElement(dX,dZ.docNode),dQ.push(cP.New(bS.Empty(dX),dZ.docNode,null,dX,cg.Int(),null)),dR.push(dZ.updates)):void 0;});bR.IterSelector(dI,"[ws-replace]",function(dX){var dY,dZ,d0,d1,d2,d3;dY=dP(dX.getAttribute("ws-replace"));dY!=null&&dY.$==1?(dZ=dY.$0,d0=dX.parentNode,d1=self.document.createTextNode(""),d0.replaceChild(d1,dX),d2=cp.InsertBeforeDelim(d1,dZ.docNode),d3=J.tryFindIndex(function(d4){return dX===d4;},dK),d3==null?void 0:J.set(dK,d3.$0,dZ.docNode),dQ.push(cP.New(bS.Empty(d0),dZ.docNode,{$:1,$0:[d2,d1]},d0,cg.Int(),null)),dR.push(dZ.updates)):void 0;});bR.IterSelector(dI,"[ws-attr]",function(dX){var dY,dZ,d0;dY=dX.getAttribute("ws-attr");dX.removeAttribute("ws-attr");dZ=(d0=null,[dU.TryGetValue(dY,{get:function(){return d0;},set:function(d1){d0=d1;}}),d0]);dZ[0]?dZ[1].$==3?dO(dX,dZ[1].$1):dD.warn("Attribute hole filled with non-attribute data",dY):void 0;});bR.IterSelector(dI,"[ws-on]",function(dX){dO(dX,be.Concat(J.choose(function(dY){var dZ,d0,d1;dZ=ch.SplitChars(dY,[":"],1);d0=(d1=null,[dU.TryGetValue(J.get(dZ,1),{get:function(){return d1;},set:function(d2){d1=d2;}}),d1]);return d0[0]?d0[1].$==4?{$:1,$0:bK.Handler(J.get(dZ,0),d0[1].$1)}:d0[1].$==5?{$:1,$0:be.Handler(J.get(dZ,0),d0[1].$2)}:(dD.warn("Event hole on"+J.get(dZ,0)+" filled with non-event data",J.get(dZ,1)),null):null;},ch.SplitChars(dX.getAttribute("ws-on"),[" "],1))));dX.removeAttribute("ws-on");});bR.IterSelector(dI,"[ws-onafterrender]",function(dX){var dY,dZ,d0;dY=dX.getAttribute("ws-onafterrender");dZ=(d0=null,[dU.TryGetValue(dY,{get:function(){return d0;},set:function(d1){d0=d1;}}),d0]);dZ[0]?dZ[1].$==6?(dX.removeAttribute("ws-onafterrender"),dO(dX,bK.OnAfterRender(dZ[1].$1))):dZ[1].$==7?(dX.removeAttribute("ws-onafterrender"),dO(dX,bK.OnAfterRender(dZ[1].$1))):dD.warn("onafterrender hole filled with non-onafterrender data",dY):void 0;});bR.IterSelector(dI,"[ws-var]",function(dX){var dY,dZ,d0;dY=dX.getAttribute("ws-var");dX.removeAttribute("ws-var");dZ=(d0=null,[dU.TryGetValue(dY,{get:function(){return d0;},set:function(d1){d0=d1;}}),d0]);dZ[0]?dZ[1].$==8?dO(dX,bK.Value(dZ[1].$1)):dZ[1].$==9?dO(dX,bK.Checked(dZ[1].$1)):dZ[1].$==10?dO(dX,bK.IntValue(dZ[1].$1)):dZ[1].$==11?dO(dX,bK.IntValueUnchecked(dZ[1].$1)):dZ[1].$==12?dO(dX,bK.FloatValue(dZ[1].$1)):dZ[1].$==13?dO(dX,bK.FloatValueUnchecked(dZ[1].$1)):dD.warn("Var hole filled with non-Var data",dY):void 0;});bR.IterSelector(dI,"[ws-attr-holes]",function(dX){var dY,dZ,d0,d1;dY=new a.RegExp($.TextHoleRE(),"g");dZ=ch.SplitChars(dX.getAttribute("ws-attr-holes"),[" "],1);dX.removeAttribute("ws-attr-holes");for(d0=0,d1=dZ.length-1;d0<=d1;d0++)(function(){var d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec;d$=J.get(dZ,d0);ea=dX.getAttribute(d$);d2=null;d3=0;eb=[];while(d2=dY.exec(ea),d2!==null){ec=ca.string(ea,{$:1,$0:d3},{$:1,$0:dY.lastIndex-J.get(d2,0).length-1});d3=dY.lastIndex;eb.push([ec,J.get(d2,1)]);}d5=ca.string(ea,{$:1,$0:d3},null);dY.lastIndex=0;d6=J.foldBack(function(ed,ee){return(function(ef){var eg,eh;eg=ef[0];eh=ef[1];return function(ei){var ej,ek,el,em,en;ej=ei[0];ek=ei[1];el=(em=(en=null,[dU.TryGetValue(eh,{get:function(){return en;},set:function(eo){en=eo;}}),en]),em[0]?em[1].$==1?{$:0,$0:em[1].$1}:em[1].$==2?{$:1,$0:em[1].$1}:em[1].$==8?{$:1,$0:em[1].$1.get_View()}:em[1].$==9?{$:1,$0:bc.Map(dC,em[1].$1.get_View())}:em[1].$==10?{$:1,$0:bc.Map(function(eo){return eo.get_Input();},em[1].$1.get_View())}:em[1].$==11?{$:1,$0:bc.Map(dC,em[1].$1.get_View())}:em[1].$==12?{$:1,$0:bc.Map(function(eo){return eo.get_Input();},em[1].$1.get_View())}:em[1].$==13?{$:1,$0:bc.Map(dC,em[1].$1.get_View())}:(dD.warn("Attribute value hole filled with non-text data",eh),{$:0,$0:""}):{$:0,$0:""});return el.$==1?[eg,new I({$:1,$0:ej===""?el.$0:bc.Map(function(eo){return eo+ej;},el.$0),$1:ek})]:[eg+el.$0+ej,ek];};}(ed))(ee);},eb,[d5,I.Empty]);return dO(dX,d6[1].$==1?d6[1].$1.$==1?d6[1].$1.$1.$==1?d6[1].$1.$1.$1.$==0?(d7=d6[0],bK.Dynamic(d$,bc.Map3(function(ed,ee,ef){return d7+ed+ee+ef;},d6[1].$0,d6[1].$1.$0,d6[1].$1.$1.$0))):(d8=d6[0],bK.Dynamic(d$,bc.Map(function(ed){return d8+ch.concat("",ed);},bc.Sequence(d6[1])))):(d9=d6[0],bK.Dynamic(d$,bc.Map2(function(ed,ee){return d9+ed+ee;},d6[1].$0,d6[1].$1.$0))):d6[0]===""?bK.Dynamic(d$,d6[1].$0):(d_=d6[0],bK.Dynamic(d$,bc.Map(function(ed){return d_+ed;},d6[1].$0))):be.Create(d$,d6[0]));}());});return[dF.DeleteEmptyFields({Els:dK,Dirty:true,Holes:dQ,Attrs:dS,Render:(dL=dT.length==0?null:{$:1,$0:function(dX){J.iter(function(dY){dY(dX);},dT);}},dL?dL.$0:void 0),El:(dM=!bd.Equals(dK,null)&&dK.length===1&&(J.get(dK,0)instanceof bE&&(J.get(dK,0)instanceof a.Element&&(dN=J.get(dK,0),true)))?{$:1,$0:dN}:null,dM?dM.$0:void 0)},["Render","El"]),bJ.TreeReduce(bc.Const(),bc.Map2Unit,dR)];};bb.NewFromSeq=function(dI){var dJ,dK,dL;dJ={};dK=cj.Get(dI);try{while(dK.MoveNext()){dL=dK.Current();dJ[dL[0]]=dL[1];}}finally{if(typeof dK=="object"&&"Dispose"in dK)dK.Dispose();}return dJ;};bc.Map=function(dI,dJ){return bc.CreateLazy(function(){return bA.Map(dI,dJ());});};bc.Map2=function(dI,dJ,dK){return bc.CreateLazy(function(){return bA.Map2(dI,dJ(),dK());});};bc.Sink=function(dI,dJ){function dK(){bA.WhenRun(dJ(),dI,function(){c6.scheduler().Fork(dK);});}c6.scheduler().Fork(dK);};bc.CreateLazy=function(dI){var dJ;dJ={c:null,o:dI};return function(){var dK,dL;dK=dJ.c;return dK===null?(dK=dJ.o(),dJ.c=dK,(dL=dK.s,dL!=null&&dL.$==0)?dJ.o=null:bA.WhenObsoleteRun(dK,function(){dJ.c=null;}),dK):dK;};};bc.Const=function(dI){var dJ;dJ=bA.New({$:0,$0:dI});return function(){return dJ;};};bc.MapSeqCachedViewBy=function(dI,dJ,dK){var dL;dL=[new bQ.New$5()];return bc.Map(function(dM){var dN,dO,dP;dN=dL[0];dO=new bQ.New$5();dP=bJ.mapInPlace(function(dQ){var dR,dS,dT;dR=dI(dQ);dS=dN.ContainsKey(dR)?(dT=dN.get_Item(dR),(B.Set(dT.r,dQ),dT)):bc.ConvertSeqNode(function(dU){return dJ(dR,dU);},dQ);dO.set_Item(dR,dS);return dS.e;},J.ofSeq(dM));dL[0]=dO;return dP;},dK);};bc.SnapshotOn=function(dI,dJ,dK){var dL;dL=bA.New({$:2,$0:dI,$1:[]});return bc.CreateLazy(function(){return dL.s==null?bA.SnapshotOn(dJ(),dK()):(bA.WhenObsolete(dJ(),dL),dL);});};bc.UpdateWhile=function(dI,dJ,dK){var dL;dL=[dI];return bc.BindInner(function(dM){return dM?bc.Map(function(dN){dL[0]=dN;return dN;},dK):bc.Const(dL[0]);},dJ);};bc.Map2Unit=function(dI,dJ){return bc.CreateLazy(function(){return bA.Map2Unit(dI(),dJ());});};bc.MapAsync=function(dI,dJ){return bc.CreateLazy(function(){return bA.MapAsync(dI,dJ());});};bc.Bind=function(dI,dJ){return bc.Join(bc.Map(dI,dJ));};bc.ConvertSeqNode=function(dI,dJ){var dK,dL;dK=B.Create$1(dJ);dL=dK.get_View();return{e:dI(dL),r:dK,w:dL};};bc.BindInner=function(dI,dJ){return bc.JoinInner(bc.Map(dI,dJ));};bc.Join=function(dI){return bc.CreateLazy(function(){return bA.Join(dI());});};bc.JoinInner=function(dI){return bc.CreateLazy(function(){return bA.JoinInner(dI());});};bc.MapSeqCachedBy=function(dI,dJ,dK){var dL;dL=[new bQ.New$5()];return bc.Map(function(dM){var dN,dO,dP;dN=dL[0];dO=new bQ.New$5();dP=bJ.mapInPlace(function(dQ){var dR,dS;dR=dI(dQ);dS=dN.ContainsKey(dR)?dN.get_Item(dR):dJ(dQ);dO.set_Item(dR,dS);return dS;},J.ofSeq(dM));dL[0]=dO;return dP;},dK);};bc.Map3=function(dI,dJ,dK,dL){return bc.CreateLazy(function(){return bA.Map3(dI,dJ(),dK(),dL());});};bc.Sequence=function(dI){return bc.CreateLazy(function(){return bA.Sequence(bI.map(function(dJ){return dJ();},dI));});};bd.Equals=function(dI,dJ){var dK,dL,dM,dN;if(dI===dJ)return true;else{dK=typeof dI;if(dK=="object"){if(dI===null||dI===void 0||dJ===null||dJ===void 0)return false;else if("Equals"in dI)return dI.Equals(dJ);else if(dI instanceof a.Array&&dJ instanceof a.Array)return bd.arrayEquals(dI,dJ);else if(dI instanceof a.Date&&dJ instanceof a.Date)return bd.dateEquals(dI,dJ);else{dL=[true];for(var dO in dI)if(function(dP){dL[0]=!dI.hasOwnProperty(dP)||dJ.hasOwnProperty(dP)&&bd.Equals(dI[dP],dJ[dP]);return!dL[0];}(dO))break;if(dL[0]){for(var dP in dJ)if(function(dQ){dL[0]=!dJ.hasOwnProperty(dQ)||dI.hasOwnProperty(dQ);return!dL[0];}(dP))break;}return dL[0];}}else return dK=="function"&&("$Func"in dI?dI.$Func===dJ.$Func&&dI.$Target===dJ.$Target:"$Invokes"in dI&&"$Invokes"in dJ&&bd.arrayEquals(dI.$Invokes,dJ.$Invokes));}};bd.arrayEquals=function(dI,dJ){var dK,dL;if(J.length(dI)===J.length(dJ)){dK=true;dL=0;while(dK&&dL<J.length(dI)){!bd.Equals(J.get(dI,dL),J.get(dJ,dL))?dK=false:void 0;dL=dL+1;}return dK;}else return false;};bd.dateEquals=function(dI,dJ){return dI.getTime()===dJ.getTime();};bd.Compare=function(dI,dJ){var dK,dL,dM,dN,dO,dP;if(dI===dJ)return 0;else{dL=typeof dI;switch(dL=="function"?1:dL=="boolean"?2:dL=="number"?2:dL=="string"?2:dL=="object"?3:0){case 0:return typeof dJ=="undefined"?0:-1;case 1:return C.FailWith("Cannot compare function values.");case 2:return dI<dJ?-1:1;case 3:if(dI===null)dM=-1;else if(dJ===null)dM=1;else if("CompareTo"in dI)dM=dI.CompareTo(dJ);else if("CompareTo0"in dI)dM=dI.CompareTo0(dJ);else if(dI instanceof a.Array&&dJ instanceof a.Array)dM=bd.compareArrays(dI,dJ);else if(dI instanceof a.Date&&dJ instanceof a.Date)dM=bd.compareDates(dI,dJ);else{dN=[0];for(var dQ in dI)if(function(dR){return!dI.hasOwnProperty(dR)?false:!dJ.hasOwnProperty(dR)?(dN[0]=1,true):(dN[0]=bd.Compare(dI[dR],dJ[dR]),dN[0]!==0);}(dQ))break;if(dN[0]===0){for(var dR in dJ)if(function(dS){return!dJ.hasOwnProperty(dS)?false:!dI.hasOwnProperty(dS)&&(dN[0]=-1,true);}(dR))break;}dM=dN[0];}return dM;}}};bd.Hash=function(dI){var dJ;dJ=typeof dI;return dJ=="function"?0:dJ=="boolean"?dI?1:0:dJ=="number"?dI:dJ=="string"?bd.hashString(dI):dJ=="object"?dI==null?0:dI instanceof a.Array?bd.hashArray(dI):bd.hashObject(dI):0;};bd.compareArrays=function(dI,dJ){var dK,dL;if(J.length(dI)<J.length(dJ))return -1;else if(J.length(dI)>J.length(dJ))return 1;else{dK=0;dL=0;while(dK===0&&dL<J.length(dI)){dK=bd.Compare(J.get(dI,dL),J.get(dJ,dL));dL=dL+1;}return dK;}};bd.compareDates=function(dI,dJ){return bd.Compare(dI.getTime(),dJ.getTime());};bd.hashString=function(dI){var dJ,dK,dL;if(dI===null)return 0;else{dJ=5381;for(dK=0,dL=dI.length-1;dK<=dL;dK++)dJ=bd.hashMix(dJ,dI[dK].charCodeAt());return dJ;}};bd.hashArray=function(dI){var dJ,dK,dL;dJ=-34948909;for(dK=0,dL=J.length(dI)-1;dK<=dL;dK++)dJ=bd.hashMix(dJ,bd.Hash(J.get(dI,dK)));return dJ;};bd.hashObject=function(dI){var dJ,dK;if("GetHashCode"in dI)return dI.GetHashCode();else{dJ=[0];for(var dL in dI)if(function(dM){dJ[0]=bd.hashMix(bd.hashMix(dJ[0],bd.hashString(dM)),bd.Hash(dI[dM]));return false;}(dL))break;return dJ[0];}};bd.hashMix=function(dI,dJ){return(dI<<5)+dI+dJ;};be=c.AttrProxy=dF.Class({},null,be);be.Create=function(dI,dJ){return bS.Static(function(dK){bR.SetAttr(dK,dI,dJ);});};be.Concat=function(dI){var dJ;dJ=bJ.ofSeqNonCopying(dI);return bJ.TreeReduce(bS.EmptyAttr(),be.Append,dJ);};be.Append=function(dI,dJ){return bS.AppendTree(dI,dJ);};be.Handler=function(dI,dJ){return be.HandlerImpl(dI,dJ);};be.HandlerImpl=function(dI,dJ){return bS.Static(function(dK){dK.addEventListener(dI,function(dL){return(dJ(dK))(dL);},false);});};bf.JSUnion=function(dI,dJ){var dK;function dL(dP){var dQ;function dR(dS){return dS!=null&&dS.$==1&&bd.Equals(dP,dS.$0);}dQ=bI.tryFindIndex(function(dS){return dR(dS[0]);},dJ);return dQ!=null&&dQ.$==1?dQ.$0:dP.$;}function dM(dP,dQ){return J.init(J.length((J.get(dJ,dP))[2]),function(dR){return dQ["$"+dC(dR)];});}function dN(dP,dQ){var dR,dS,dT;dR=dI==null?{}:new dI();dS=J.get(dJ,dP);return(dT=dS[0],dT!=null&&dT.$==1)?dS[0].$0:(dR.$=dP,bI.iteri(function(dU,dV){dR["$"+dC(dU)]=dV;},dQ),dR);}function dO(dP,dQ){var dR;function dS(dT,dU){return[dP,dT,dU,dR];}dR=dQ[2];return bI.map(function(dT){return dS(dT[0],dT[1]);},dQ[1]);}dK=bI.collect(function(dP){return dO(dP[0],dP[1]);},bI.indexed(dJ));return bH.New$1(function(dP){function dQ(dR,dS,dT,dU){var dV,dW,dX;function dY(dZ,d0,d1){var d2;function d3(d4,d5){return dY(d2,d4,new I({$:1,$0:d5,$1:d1}));}return dZ.$==1?(d2=dZ.$1,bI.collect(function(d4){return d3(d4[0],d4[1]);},dZ.$0.Parse(d0))):[[d0,dN(dR,J.ofList(f.rev(d1)))]];}return bf.isCorrectMethod(dS,dP.Method)?(dV=bT.startsWith(f.ofArray(dT),dP.Segments),dV==null?[]:(dW=dV.$0,(dX=f.ofArray(dU),dX.$==0?[[_3.New(dW,dP.QueryArgs,dP.FormData,dP.Method,dP.Body),dN(dR,[])]]:dY(dX,_3.New(dW,dP.QueryArgs,dP.FormData,dP.Method,dP.Body),I.Empty)))):[];}return bI.collect(function(dR){return dQ(dR[0],dR[1],dR[2],dR[3]);},dK);},function(dP){var dQ,dR,dS,dT,dU,dV;function dW(dX,dY){return dY.Write(dX);}dQ=dL(dP);dR=J.get(dJ,dQ);dS=dR[2];dT=J.get(dR[1],0);dU=[_3.Segment(f.ofArray(dT[1]),dT[0])];return!bd.Equals(dS,null)&&dS.length===0?{$:1,$0:dU}:(dV=(((dF.Curried3(J.map2))(dW))(dM(dQ,dP)))(dS),J.forall(function(dX){return dX!=null;},dV)?{$:1,$0:bI.append(dU,bI.collect(function(dX){return dX.$0;},dV))}:null);});};bf.isCorrectMethod=function(dI,dJ){return dJ!=null&&dJ.$==1?dI!=null&&dI.$==1?bd.Equals(dJ.$0,dI.$0):true:!(dI!=null&&dI.$==1);};bg=y.Builder=dF.Class({Create:function(){var dI,dJ,dK;function dL(dM){return dM!=null;}dI=this;return _9.New((dJ=null,function(dM){return function(dN){var dO,dP;return dJ==null?(dO=B.Lens(dM,function(dQ){var dR;return dQ.$==2?(dR=dI.Unwrap(dQ.$0),dR==null?dI.DefaultPage:dR.$0):dI.DefaultPage;},function(dQ,dR){return{$:2,$0:dI.Wrap(dR)};}),(dP=y.Render(dM,dI.Meta,dI.Body(dO),dI.Description(dO),dN),(dJ={$:1,$0:dP},dP))):dJ.$0;};}),(dK=this.Unwrap,function(dM){return dL(dK(dM));}),this.Meta,this.Wrap(this.DefaultPage));},RenderDescription:function(dI){return bg.New(this.DefaultPage,this.Wrap,this.Unwrap,this.Body,dI,this.Meta);},Render:function(dI){return bg.New(this.DefaultPage,this.Wrap,this.Unwrap,dI,this.Description,this.Meta);},Keywords:function(dI){var dJ;return bg.New(this.DefaultPage,this.Wrap,this.Unwrap,this.Body,this.Description,(dJ=this.Meta,bO.New(dJ.FileName,dI,dJ.Title)));},FileName:function(dI){var dJ;return bg.New(this.DefaultPage,this.Wrap,this.Unwrap,this.Body,this.Description,(dJ=this.Meta,bO.New(dI,dJ.Keywords,dJ.Title)));},Id:function(dI){var dJ;return bg.New(this.DefaultPage,this.Wrap,this.Unwrap,this.Body,this.Description,(dJ=this.Meta,bO.New(dJ.FileName,dJ.Keywords,dI)));}},null,bg);bg.New=function(dI,dJ,dK,dL,dM,dN){return new bg({DefaultPage:dI,Wrap:dJ,Unwrap:dK,Body:dL,Description:dM,Meta:dN});};bh.New=function(dI,dJ){return{FirstName:dI,LastName:dJ};};bi.Create=function(dI,dJ){return bi.New(dI,dJ);};bi.New=function(dI,dJ){return{Name:dI,Age:dJ};};bj.New=function(dI,dJ,dK){return{Memory:dI,Operand:dJ,Operation:dK};};bk.Add={$:0};bk.Sub={$:1};bk.Mul={$:2};bk.Div={$:3};bl.Define=function(dI){return new bl.New(function(dJ){return dI(function(dK){dJ(dK);});});};bl.get_Do=function(){return new b2.New();};bl.Static=function(dI){return new bl.New$1(function(dJ){return function(dK){B.Set(dJ,dI);return dK();};});};bl.Embed=function(dI){var dJ;dJ=B.Create$1(_4.get_Empty());((dI.get_Render())(dJ))(a.ignore);return _4.EmbedView(dJ.get_View());};bl.Bind=function(dI,dJ){return new bl.New$1(function(dK){return function(dL){return((dI.get_Render())(dK))(function(dM){((dJ(dM).get_Render())(dK))(dL);});};});};bm.New=function(dI,dJ){return{Name:dI,Address:dJ};};bn.EmailTy={$:0};bn.PhoneTy={$:1};bo.Simple=function(dI,dJ,dK,dL,dM){return{Compute:function(dN){return dI.Interpolate(dJ.TransformTime(dN/dK),dL,dM);},Duration:dK};};bo.Const=function(dI){return c3.Const(dI);};bo.get_UseAnimations=function(){return c3.UseAnimations();};bo.Delayed=function(dI,dJ,dK,dL,dM,dN){return{Compute:function(dO){return dO<=dL?dM:dI.Interpolate(dJ.TransformTime((dO-dL)/dK),dM,dN);},Duration:dK+dL};};bo.Play=function(dI){var dJ;dJ=null;return c6.Delay(function(){return c6.Bind(bo.Run(a.ignore,c3.Actions(dI)),function(){c3.Finalize(dI);return c6.Return(null);});});};bo.Append=function(dI,dJ){return{$:0,$0:_do.Append(dI.$0,dJ.$0)};};bo.Run=function(dI,dJ){var dK;function dL(dM){function dN(dO,dP){var dQ;dQ=dP-dO;dJ.Compute(dQ);dI();return dQ<=dK?void a.requestAnimationFrame(function(dR){dN(dO,dR);}):dM();}a.requestAnimationFrame(function(dO){dN(dO,dO);});}dK=dJ.Duration;return dK===0?c6.Zero():c6.FromContinuations(function(dM,dN,dO){return dL.apply(null,[dM,dN,dO]);});};bo.Concat=function(dI){return{$:0,$0:_do.Concat(bI.map(c3.List,dI))};};bo.Map=function(dI,dJ){var dK;return c3.Def(dJ.Duration,(dK=dJ.Compute,function(dL){return dI(dK(dL));}));};bo.Pack=function(dI){return{$:0,$0:_do.Single({$:1,$0:dI})};};bo.get_Empty=function(){return{$:0,$0:_do.Empty()};};bo.WhenDone=function(dI,dJ){return bo.Append({$:0,$0:_do.Single({$:0,$0:dI})},dJ);};bp=c.Easing=dF.Class({TransformTime:function(dI){return this.transformTime(dI);}},A,bp);bp.get_CubicInOut=function(){return b3.CubicInOut();};bp.Custom=function(dI){return new bp.New(dI);};bp.New=dF.Ctor(function(dI){A.New.call(this);this.transformTime=dI;},bp);bq.get_Double=function(){return b4.DoubleInterpolation;};br.Create=function(dI){return new br.New$1(dI);};br.Enter=function(dI,dJ){return dJ.Copy(null,{$:1,$0:dI},null,{$:1,$0:dJ.get_TFlags()|2});};br.Exit=function(dI,dJ){return dJ.Copy(null,null,{$:1,$0:dI},{$:1,$0:dJ.get_TFlags()|4});};br.CanAnimateEnter=function(dI){var dJ,dK;dJ=dI.get_TFlags();dK=2;return(dJ&dK)===dK;};br.CanAnimateExit=function(dI){var dJ,dK;dJ=dI.get_TFlags();dK=4;return(dJ&dK)===dK;};br.AnimateExit=function(dI,dJ){return(dI.get_TExit())(dJ);};br.AnimateChange=function(dI,dJ,dK){return dI.TChange(dJ,dK);};br.AnimateEnter=function(dI,dJ){return(dI.get_TEnter())(dJ);};bs.New=function(dI,dJ){return{Name:dI,Address:dJ};};bt.EmailTy={$:0};bt.PhoneTy={$:1};bv.TryFind=function(dI,dJ){return dJ.TryFind(dI);};bv.OfArray=function(dI){return new b5.New$1(cK.OfSeq(bI.map(function(dJ){return cM.New(dJ[0],dJ[1]);},dI)));};bv.FoldBack=function(dI,dJ,dK){return bI.fold(function(dL,dM){return dI(dM.Key,dM.Value,dL);},dK,cK.Enumerate(true,dJ.get_Tree()));};bv.ToSeq=function(dI){return bI.map(function(dJ){return[dJ.Key,dJ.Value];},cK.Enumerate(false,dI.get_Tree()));};bw.BobsleighHome={$:0};bw.BobsleighHistory={$:1};bw.BobsleighGovernance={$:2};bw.BobsleighTeam={$:3};by.get_KeysPressed=function(){bx.ActivateKeyListener();return bx.KeyListenerState().KeysPressed.get_View();};by.get_LastPressed=function(){bx.ActivateKeyListener();return bx.KeyListenerState().LastPressed.get_View();};by.IsPressed=function(dI){function dJ(dK){return dK===dI;}bx.ActivateKeyListener();return bc.Map(function(dK){return f.exists(dJ,dK);},bx.KeyListenerState().KeysPressed.get_View());};bz=c.ConcreteVar=dF.Class({get_View:function(){return this.view;},Set:function(dI){if(this.isConst)(function(dJ){return dJ("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(dJ){dD.log(dJ);}));else{bA.Obsolete(this.snap);this.current=dI;this.snap=bA.New({$:2,$0:dI,$1:[]});}},Get:function(){return this.current;},Update:function(dI){this.Set(dI(this.Get()));},UpdateMaybe:function(dI){var dJ;dJ=dI(this.Get());dJ!=null&&dJ.$==1?this.Set(dJ.$0):void 0;},get_Id:function(){return"uinref"+dC(this.id);}},D,bz);bz.New=dF.Ctor(function(dI,dJ,dK){var dL;dL=this;D.New.call(this);this.isConst=dI;this.current=dK;this.snap=dJ;this.view=function(){return dL.snap;};this.id=cg.Int();},bz);bA.Map=function(dI,dJ){var dK,dL;dK=dJ.s;return dK!=null&&dK.$==0?bA.New({$:0,$0:dI(dK.$0)}):(dL=bA.New({$:3,$0:[],$1:[]}),(bA.When(dJ,function(dM){bA.MarkDone(dL,dJ,dI(dM));},dL),dL));};bA.Map2=function(dI,dJ,dK){var dL,dM,dN;function dO(dP){var dQ,dR,dS;if(!(dQ=dN.s,dQ!=null&&dQ.$==0||dQ!=null&&dQ.$==2)){dR=bA.ValueAndForever(dJ);dS=bA.ValueAndForever(dK);dR!=null&&dR.$==1?dS!=null&&dS.$==1?dR.$0[1]&&dS.$0[1]?bA.MarkForever(dN,dI(dR.$0[0],dS.$0[0])):bA.MarkReady(dN,dI(dR.$0[0],dS.$0[0])):void 0:void 0;}}dL=dJ.s;dM=dK.s;return dL!=null&&dL.$==0?dM!=null&&dM.$==0?bA.New({$:0,$0:dI(dL.$0,dM.$0)}):bA.Map2Opt1(dI,dL.$0,dK):dM!=null&&dM.$==0?bA.Map2Opt2(dI,dM.$0,dJ):(dN=bA.New({$:3,$0:[],$1:[]}),(bA.When(dJ,dO,dN),bA.When(dK,dO,dN),dN));};bA.WhenRun=function(dI,dJ,dK){var dL;dL=dI.s;dL==null?dK():dL!=null&&dL.$==2?(dL.$1.push(dK),dJ(dL.$0)):dL!=null&&dL.$==3?(dL.$0.push(dJ),dL.$1.push(dK)):dJ(dL.$0);};bA.WhenObsoleteRun=function(dI,dJ){var dK;dK=dI.s;dK==null?dJ():dK!=null&&dK.$==2?dK.$1.push(dJ):dK!=null&&dK.$==3?dK.$1.push(dJ):void 0;};bA.When=function(dI,dJ,dK){var dL;dL=dI.s;dL==null?bA.Obsolete(dK):dL!=null&&dL.$==2?(bA.EnqueueSafe(dL.$1,dK),dJ(dL.$0)):dL!=null&&dL.$==3?(dL.$0.push(dJ),bA.EnqueueSafe(dL.$1,dK)):dJ(dL.$0);};bA.MarkDone=function(dI,dJ,dK){var dL;if(dL=dJ.s,dL!=null&&dL.$==0)bA.MarkForever(dI,dK);else bA.MarkReady(dI,dK);};bA.Map2Opt1=function(dI,dJ,dK){return bA.Map(function(dL){return dI(dJ,dL);},dK);};bA.Map2Opt2=function(dI,dJ,dK){return bA.Map(function(dL){return dI(dL,dJ);},dK);};bA.ValueAndForever=function(dI){var dJ;dJ=dI.s;return dJ!=null&&dJ.$==0?{$:1,$0:[dJ.$0,true]}:dJ!=null&&dJ.$==2?{$:1,$0:[dJ.$0,false]}:null;};bA.MarkForever=function(dI,dJ){var dK,dL,dM,dN;dK=dI.s;if(dK!=null&&dK.$==3){dI.s={$:0,$0:dJ};dL=dK.$0;for(dM=0,dN=J.length(dL)-1;dM<=dN;dM++)(J.get(dL,dM))(dJ);}else void 0;};bA.MarkReady=function(dI,dJ){var dK,dL,dM,dN;dK=dI.s;if(dK!=null&&dK.$==3){dI.s={$:2,$0:dJ,$1:dK.$1};dL=dK.$0;for(dM=0,dN=J.length(dL)-1;dM<=dN;dM++)(J.get(dL,dM))(dJ);}else void 0;};bA.SnapshotOn=function(dI,dJ){var dK;function dL(dM){var dN,dO,dP;if(!(dN=dK.s,dN!=null&&dN.$==0||dN!=null&&dN.$==2)){dO=bA.ValueAndForever(dI);dP=bA.ValueAndForever(dJ);dO!=null&&dO.$==1?dP!=null&&dP.$==1?dO.$0[1]||dP.$0[1]?bA.MarkForever(dK,dP.$0[0]):bA.MarkReady(dK,dP.$0[0]):void 0:void 0;}}dK=bA.New({$:3,$0:[],$1:[]});bA.When(dI,dL,dK);bA.WhenReady(dJ,dL);return dK;};bA.WhenObsolete=function(dI,dJ){var dK;dK=dI.s;dK==null?bA.Obsolete(dJ):dK!=null&&dK.$==2?bA.EnqueueSafe(dK.$1,dJ):dK!=null&&dK.$==3?bA.EnqueueSafe(dK.$1,dJ):void 0;};bA.Map2Unit=function(dI,dJ){var dK,dL,dM;function dN(){var dO,dP,dQ;if(!(dO=dM.s,dO!=null&&dO.$==0||dO!=null&&dO.$==2)){dP=bA.ValueAndForever(dI);dQ=bA.ValueAndForever(dJ);dP!=null&&dP.$==1?dQ!=null&&dQ.$==1?dP.$0[1]&&dQ.$0[1]?bA.MarkForever(dM,null):bA.MarkReady(dM,null):void 0:void 0;}}dK=dI.s;dL=dJ.s;return dK!=null&&dK.$==0?dL!=null&&dL.$==0?bA.New({$:0,$0:null}):dJ:dL!=null&&dL.$==0?dI:(dM=bA.New({$:3,$0:[],$1:[]}),(bA.When(dI,dN,dM),bA.When(dJ,dN,dM),dM));};bA.MapAsync=function(dI,dJ){var dK;dK=bA.New({$:3,$0:[],$1:[]});bA.When(dJ,function(dL){ci.StartTo(dI(dL),function(dM){bA.MarkDone(dK,dJ,dM);});},dK);return dK;};bA.EnqueueSafe=function(dI,dJ){var dK,dL,dM,dN;dI.push(dJ);if(dI.length%20===0){dK=dI.slice(0);dp.Clear(dI);for(dL=0,dM=J.length(dK)-1;dL<=dM;dL++){dN=J.get(dK,dL);typeof dN=="object"?function(dO){if(dO.s)dI.push(dO);}(dN):function(dO){dI.push(dO);}(dN);}}else void 0;};bA.WhenReady=function(dI,dJ){var dK,dL;dL=dI.s;switch(dL!=null&&dL.$==2?(dK=dL.$0,0):dL==null?1:dL!=null&&dL.$==3?2:(dK=dL.$0,0)){case 0:dJ(dK);break;case 1:null;break;case 2:dL.$0.push(dJ);break;}};bA.Join=function(dI){var dJ;dJ=bA.New({$:3,$0:[],$1:[]});bA.When(dI,function(dK){var dL;dL=dK();bA.When(dL,function(dM){var dN,dO;if((dN=dL.s,dN!=null&&dN.$==0)&&(dO=dI.s,dO!=null&&dO.$==0))bA.MarkForever(dJ,dM);else bA.MarkReady(dJ,dM);},dJ);},dJ);return dJ;};bA.JoinInner=function(dI){var dJ;dJ=bA.New({$:3,$0:[],$1:[]});bA.When(dI,function(dK){var dL;dL=dK();bA.When(dL,function(dM){var dN,dO;if((dN=dL.s,dN!=null&&dN.$==0)&&(dO=dI.s,dO!=null&&dO.$==0))bA.MarkForever(dJ,dM);else bA.MarkReady(dJ,dM);},dJ);bA.WhenObsolete(dI,dL);},dJ);return dJ;};bA.Copy=function(dI){var dJ,dK,dL;dJ=dI.s;return dJ==null?dI:dJ!=null&&dJ.$==2?(dK=bA.New({$:2,$0:dJ.$0,$1:[]}),(bA.WhenObsolete(dI,dK),dK)):dJ!=null&&dJ.$==3?(dL=bA.New({$:3,$0:[],$1:[]}),(bA.When(dI,function(dM){bA.MarkDone(dL,dI,dM);},dL),dL)):dI;};bA.Map3=function(dI,dJ,dK,dL){var dM,dN,dO,dP;function dQ(dR){var dS,dT,dU,dV;if(!(dS=dP.s,dS!=null&&dS.$==0||dS!=null&&dS.$==2)){dT=bA.ValueAndForever(dJ);dU=bA.ValueAndForever(dK);dV=bA.ValueAndForever(dL);dT!=null&&dT.$==1?dU!=null&&dU.$==1?dV!=null&&dV.$==1?dT.$0[1]&&dU.$0[1]&&dV.$0[1]?bA.MarkForever(dP,dI(dT.$0[0],dU.$0[0],dV.$0[0])):bA.MarkReady(dP,dI(dT.$0[0],dU.$0[0],dV.$0[0])):void 0:void 0:void 0;}}dM=dJ.s;dN=dK.s;dO=dL.s;return dM!=null&&dM.$==0?dN!=null&&dN.$==0?dO!=null&&dO.$==0?bA.New({$:0,$0:dI(dM.$0,dN.$0,dO.$0)}):bA.Map3Opt1(dI,dM.$0,dN.$0,dL):dO!=null&&dO.$==0?bA.Map3Opt2(dI,dM.$0,dO.$0,dK):bA.Map3Opt3(dI,dM.$0,dK,dL):dN!=null&&dN.$==0?dO!=null&&dO.$==0?bA.Map3Opt4(dI,dN.$0,dO.$0,dJ):bA.Map3Opt5(dI,dN.$0,dJ,dL):dO!=null&&dO.$==0?bA.Map3Opt6(dI,dO.$0,dJ,dK):(dP=bA.New({$:3,$0:[],$1:[]}),(bA.When(dJ,dQ,dP),bA.When(dK,dQ,dP),bA.When(dL,dQ,dP),dP));};bA.Sequence=function(dI){var dJ,dK,dL;function dM(dN){var dO;if(dL[0]===0){dO=J.map(function(dP){var dQ;dQ=dP.s;return dQ!=null&&dQ.$==0?dQ.$0:dQ!=null&&dQ.$==2?dQ.$0:C.FailWith("value not found by View.Sequence");},dJ);J.forall(function(dP){var dQ;dQ=dP.s;return dQ!=null&&dQ.$==0;},dJ)?bA.MarkForever(dK,dO):bA.MarkReady(dK,dO);}else dL[0]--;}dJ=J.ofSeq(dI);return dJ.length==0?bA.New({$:0,$0:[]}):(dK=bA.New({$:3,$0:[],$1:[]}),(dL=[J.length(dJ)-1],(J.iter(function(dN){bA.When(dN,dM,dK);},dJ),dK)));};bA.Map3Opt1=function(dI,dJ,dK,dL){return bA.Map(function(dM){return dI(dJ,dK,dM);},dL);};bA.Map3Opt2=function(dI,dJ,dK,dL){return bA.Map(function(dM){return dI(dJ,dM,dK);},dL);};bA.Map3Opt3=function(dI,dJ,dK,dL){return bA.Map2(function(dM,dN){return dI(dJ,dM,dN);},dK,dL);};bA.Map3Opt4=function(dI,dJ,dK,dL){return bA.Map(function(dM){return dI(dM,dJ,dK);},dL);};bA.Map3Opt5=function(dI,dJ,dK,dL){return bA.Map2(function(dM,dN){return dI(dM,dJ,dN);},dK,dL);};bA.Map3Opt6=function(dI,dJ,dK,dL){return bA.Map2(function(dM,dN){return dI(dM,dN,dJ);},dK,dL);};bB.GetFieldValues=function(dI){var dJ,dK;dJ=[];for(var dL in dI)dJ.push(dI[dL]);return dJ;};bC.ofObj=function(dI){return dI==null?null:{$:1,$0:dI};};bG.toSafe=function(dI){return dI==null?"":dI;};bH.New$1=function(dI,dJ){return{Parse:dI,Write:dJ};};bI.tryPick=function(dI,dJ){var dK,dL;dK=cj.Get(dJ);try{dL=null;while(bd.Equals(dL,null)&&dK.MoveNext())dL=dI(dK.Current());return dL;}finally{if(typeof dK=="object"&&"Dispose"in dK)dK.Dispose();}};bI.iteri=function(dI,dJ){var dK,dL;dK=0;dL=cj.Get(dJ);try{while(dL.MoveNext()){dI(dK,dL.Current());dK=dK+1;}}finally{if(typeof dL=="object"&&"Dispose"in dL)dL.Dispose();}};bI.collect=function(dI,dJ){return bI.concat(bI.map(dI,dJ));};bI.append=function(dI,dJ){return{GetEnumerator:function(){var dK,dL;dK=cj.Get(dI);dL=[true];return new cr.New(dK,null,function(dM){var dN;return dM.s.MoveNext()?(dM.c=dM.s.Current(),true):(dN=dM.s,!bd.Equals(dN,null)?dN.Dispose():void 0,dM.s=null,dL[0]&&(dL[0]=false,dM.s=cj.Get(dJ),dM.s.MoveNext()?(dM.c=dM.s.Current(),true):(dM.s.Dispose(),dM.s=null,false)));},function(dM){var dN;dN=dM.s;!bd.Equals(dN,null)?dN.Dispose():void 0;});}};};bI.indexed=function(dI){return bI.mapi(function(dJ,dK){return[dJ,dK];},dI);};bI.map=function(dI,dJ){return{GetEnumerator:function(){var dK;dK=cj.Get(dJ);return new cr.New(null,null,function(dL){return dK.MoveNext()&&(dL.c=dI(dK.Current()),true);},function(){dK.Dispose();});}};};bI.tryFindIndex=function(dI,dJ){var dK,dL,dM;dK=cj.Get(dJ);try{dL=true;dM=0;while(dL&&dK.MoveNext())if(dI(dK.Current()))dL=false;else dM=dM+1;return dL?null:{$:1,$0:dM};}finally{if(typeof dK=="object"&&"Dispose"in dK)dK.Dispose();}};bI.head=function(dI){var dJ;dJ=cj.Get(dI);try{return dJ.MoveNext()?dJ.Current():bI.insufficient();}finally{if(typeof dJ=="object"&&"Dispose"in dJ)dJ.Dispose();}};bI.concat=function(dI){return{GetEnumerator:function(){var dJ;dJ=cj.Get(dI);return new cr.New(null,null,function(dK){var dL;while(true){dL=dK.s;if(bd.Equals(dL,null)){if(dJ.MoveNext()){dK.s=cj.Get(dJ.Current());dK=dK;}else{dJ.Dispose();return false;}}else if(dL.MoveNext()){dK.c=dL.Current();return true;}else{dK.Dispose();dK.s=null;dK=dK;}}},function(dK){var dL;dL=dK.s;!bd.Equals(dL,null)?dL.Dispose():void 0;!bd.Equals(dJ,null)?dJ.Dispose():void 0;});}};};bI.mapi=function(dI,dJ){return bI.map2(dI,bI.initInfinite(a.id),dJ);};bI.fold=function(dI,dJ,dK){var dL,dM;dL=dJ;dM=cj.Get(dK);try{while(dM.MoveNext())dL=dI(dL,dM.Current());return dL;}finally{if(typeof dM=="object"&&"Dispose"in dM)dM.Dispose();}};bI.map2=function(dI,dJ,dK){return{GetEnumerator:function(){var dL,dM;dL=cj.Get(dJ);dM=cj.Get(dK);return new cr.New(null,null,function(dN){return dL.MoveNext()&&dM.MoveNext()&&(dN.c=dI(dL.Current(),dM.Current()),true);},function(){dL.Dispose();dM.Dispose();});}};};bI.initInfinite=function(dI){return{GetEnumerator:function(){return new cr.New(0,null,function(dJ){dJ.c=dI(dJ.s);dJ.s=dJ.s+1;return true;},void 0);}};};bI.filter=function(dI,dJ){return{GetEnumerator:function(){var dK;dK=cj.Get(dJ);return new cr.New(null,null,function(dL){var dM,dN,dO;dM=dK.MoveNext();dN=dK.Current();dO=false;while(dM)if(dI(dN)){dL.c=dN;dO=true;dM=false;}else if(dK.MoveNext())dN=dK.Current();else dM=false;return dO;},function(){dK.Dispose();});}};};bI.delay=function(dI){return{GetEnumerator:function(){return cj.Get(dI());}};};bI.distinctBy=function(dI,dJ){return{GetEnumerator:function(){var dK,dL;dK=cj.Get(dJ);dL=new cn.New$3();return new cr.New(null,null,function(dM){var dN,dO;if(dK.MoveNext()){dN=dK.Current();dO=dL.Add(dI(dN));while(!dO&&dK.MoveNext()){dN=dK.Current();dO=dL.Add(dI(dN));}return dO&&(dM.c=dN,true);}else return false;},function(){dK.Dispose();});}};};bI.forall2=function(dI,dJ,dK){return!bI.exists2(function(dL,dM){return!dI(dL,dM);},dJ,dK);};bI.exists2=function(dI,dJ,dK){var dL,dM,dN,dO;dL=cj.Get(dJ);try{dN=cj.Get(dK);try{dO=false;while(!dO&&dL.MoveNext()&&dN.MoveNext())dO=dI(dL.Current(),dN.Current());dM=dO;}finally{if(typeof dN=="object"&&"Dispose"in dN)dN.Dispose();}return dM;}finally{if(typeof dL=="object"&&"Dispose"in dL)dL.Dispose();}};bI.findIndex=function(dI,dJ){var dK;dK=bI.tryFindIndex(dI,dJ);return dK==null?C.FailWith("KeyNotFoundException"):dK.$0;};bI.compareWith=function(dI,dJ,dK){var dL,dM,dN,dO,dP;dL=cj.Get(dJ);try{dN=cj.Get(dK);try{dO=0;dP=true;while(dP&&dO===0)if(dL.MoveNext())dO=dN.MoveNext()?dI(dL.Current(),dN.Current()):1;else if(dN.MoveNext())dO=-1;else dP=false;dM=dO;}finally{if(typeof dN=="object"&&"Dispose"in dN)dN.Dispose();}return dM;}finally{if(typeof dL=="object"&&"Dispose"in dL)dL.Dispose();}};bI.distinct=function(dI){return bI.distinctBy(a.id,dI);};bI.iter=function(dI,dJ){var dK;dK=cj.Get(dJ);try{while(dK.MoveNext())dI(dK.Current());}finally{if(typeof dK=="object"&&"Dispose"in dK)dK.Dispose();}};bI.unfold=function(dI,dJ){return{GetEnumerator:function(){return new cr.New(dJ,null,function(dK){var dL;dL=dI(dK.s);return dL==null?false:(dK.c=dL.$0[0],dK.s=dL.$0[1],true);},void 0);}};};bI.max=function(dI){var dJ,dK,dL;dJ=cj.Get(dI);try{if(!dJ.MoveNext())bI.seqEmpty();dK=dJ.Current();while(dJ.MoveNext()){dL=dJ.Current();bd.Compare(dL,dK)===1?dK=dL:void 0;}return dK;}finally{if(typeof dJ=="object"&&"Dispose"in dJ)dJ.Dispose();}};bI.nth=function(dI,dJ){var dK,dL;if(dI<0)C.FailWith("negative index requested");dK=-1;dL=cj.Get(dJ);try{while(dK<dI){!dL.MoveNext()?bI.insufficient():void 0;dK=dK+1;}return dL.Current();}finally{if(typeof dL=="object"&&"Dispose"in dL)dL.Dispose();}};bI.seqEmpty=function(){return C.FailWith("The input sequence was empty.");};bI.forall=function(dI,dJ){return!bI.exists(function(dK){return!dI(dK);},dJ);};bI.exists=function(dI,dJ){var dK,dL;dK=cj.Get(dJ);try{dL=false;while(!dL&&dK.MoveNext())dL=dI(dK.Current());return dL;}finally{if(typeof dK=="object"&&"Dispose"in dK)dK.Dispose();}};bJ.ofSeqNonCopying=function(dI){var dJ,dK;if(dI instanceof a.Array)return dI;else if(dI instanceof I)return J.ofList(dI);else if(dI===null)return[];else{dJ=[];dK=cj.Get(dI);try{while(dK.MoveNext())dJ.push(dK.Current());return dJ;}finally{if(typeof dK=="object"&&"Dispose"in dK)dK.Dispose();}}};bJ.TreeReduce=function(dI,dJ,dK){var dL;function dM(dN,dO){var dP,dQ;return dO<=0?dI:dO===1&&(dN>=0&&dN<dL)?J.get(dK,dN):(dQ=dO/2>>0,dJ(dM(dN,dQ),dM(dN+dQ,dO-dQ)));}dL=J.length(dK);return dM(0,dL);};bJ.mapInPlace=function(dI,dJ){var dK,dL;for(dK=0,dL=dJ.length-1;dK<=dL;dK++)dJ[dK]=dI(dJ[dK]);return dJ;};bJ.MapTreeReduce=function(dI,dJ,dK,dL){var dM;function dN(dO,dP){var dQ,dR;return dP<=0?dJ:dP===1&&(dO>=0&&dO<dM)?dI(J.get(dL,dO)):(dR=dP/2>>0,dK(dN(dO,dR),dN(dO+dR,dP-dR)));}dM=J.length(dL);return dN(0,dM);};bK.Class=function(dI){return bK.ClassPred(dI,true);};bK.Style=function(dI,dJ){return bS.Static(function(dK){bR.SetStyle(dK,dI,dJ);});};bK.AnimatedStyle=function(dI,dJ,dK,dL){return bS.Animated(dJ,dK,function(dM){return function(dN){return bR.SetStyle(dM,dI,dL(dN));};});};bK.ClassPred=function(dI,dJ){return bS.Static(function(dK){if(dJ)bR.AddClass(dK,dI);else bR.RemoveClass(dK,dI);});};bK.Value=function(dI){function dJ(dK){return{$:1,$0:dK};}return bK.CustomValue(dI,a.id,function(dK){return dJ(a.id(dK));});};bK.DynamicStyle=function(dI,dJ){return bS.Dynamic(dJ,function(dK){return function(dL){return bR.SetStyle(dK,dI,dL);};});};bK.Animated=function(dI,dJ,dK,dL){return bS.Animated(dJ,dK,function(dM){return function(dN){return bR.SetAttr(dM,dI,dL(dN));};});};bK.DynamicClassPred=function(dI,dJ){return bS.Dynamic(dJ,function(dK){return function(dL){return dL?bR.AddClass(dK,dI):bR.RemoveClass(dK,dI);};});};bK.CustomValue=function(dI,dJ,dK){return bK.CustomVar(dI,function(dL,dM){dL.value=dJ(dM);},function(dL){return dK(dL.value);});};bK.DynamicProp=function(dI,dJ){return bS.Dynamic(dJ,function(dK){return function(dL){dK[dI]=dL;};});};bK.CustomVar=function(dI,dJ,dK){function dL(dN,dO){return dI.UpdateMaybe(function(dP){var dQ,dR;dQ=dK(dN);return dQ!=null&&dQ.$==1&&(!bd.Equals(dQ.$0,dP)&&(dR=[dQ,dQ.$0],true))?dR[0]:null;});}function dM(dN,dO){var dP,dQ;dP=dK(dN);return dP!=null&&dP.$==1&&(bd.Equals(dP.$0,dO)&&(dQ=dP.$0,true))?null:dJ(dN,dO);}return be.Concat([bK.Handler("change",function(dN){return function(dO){return dL(dN,dO);};}),bK.Handler("input",function(dN){return function(dO){return dL(dN,dO);};}),bK.Handler("keypress",function(dN){return function(dO){return dL(dN,dO);};}),bK.DynamicCustom(function(dN){return function(dO){return dM(dN,dO);};},dI.get_View())]);};bK.Checked=function(dI){function dJ(dK,dL){return!bd.Equals(dI.Get(),dK.checked)?dI.Set(dK.checked):null;}return be.Concat([bK.DynamicProp("checked",dI.get_View()),bK.Handler("change",function(dK){return function(dL){return dJ(dK,dL);};})]);};bK.OnAfterRender=function(dI){return new be({$:4,$0:dI});};bK.DynamicCustom=function(dI,dJ){return bS.Dynamic(dJ,dI);};bK.Dynamic=function(dI,dJ){return bS.Dynamic(dJ,function(dK){return function(dL){return bR.SetAttr(dK,dI,dL);};});};bK.Handler=function(dI,dJ){return bS.Static(function(dK){dK.addEventListener(dI,function(dL){return(dJ(dK))(dL);},false);});};bK.IntValue=function(dI){return bK.CustomVar(dI,function(dJ,dK){var dL;dL=dK.get_Input();return dJ.value!==dL?void(dJ.value=dL):null;},function(dJ){var dK,dL,dM;dK=dJ.value;return{$:1,$0:dz.isBlank(dK)?(dJ.checkValidity?dJ.checkValidity():true)?new cY({$:2,$0:dK}):new cY({$:1,$0:dK}):(dL=(dM=0,[cx.TryParseInt32(dK,{get:function(){return dM;},set:function(dN){dM=dN;}}),dM]),dL[0]?new cY({$:0,$0:dL[1],$1:dK}):new cY({$:1,$0:dK}))};});};bK.IntValueUnchecked=function(dI){return bK.CustomValue(dI,dC,function(dJ){var dK;return dz.isBlank(dJ)?{$:1,$0:0}:(dK=+dJ,dK!==dK>>0?null:{$:1,$0:dK});});};bK.FloatValue=function(dI){return bK.CustomVar(dI,function(dJ,dK){var dL;dL=dK.get_Input();return dJ.value!==dL?void(dJ.value=dL):null;},function(dJ){var dK,dL;dK=dJ.value;return{$:1,$0:dz.isBlank(dK)?(dJ.checkValidity?dJ.checkValidity():true)?new cY({$:2,$0:dK}):new cY({$:1,$0:dK}):(dL=+dK,a.isNaN(dL)?new cY({$:1,$0:dK}):new cY({$:0,$0:dL,$1:dK}))};});};bK.FloatValueUnchecked=function(dI){return bK.CustomValue(dI,dC,function(dJ){var dK;return dz.isBlank(dJ)?{$:1,$0:0}:(dK=+dJ,a.isNaN(dK)?null:{$:1,$0:dK});});};bL.$cctor=function(){bL.$cctor=a.ignore;bL.SamplesDefault={$:2,$0:F.SimpleTextBox};};bM.$cctor=function(){var dI,dJ,dK;bM.$cctor=a.ignore;bM.Entries=f.ofArray([e.mkEntry("Documentation","Official documentation on WebSharper UI, including the API reference and some discussion about the design decisions we made","files/gear.png",f.ofArray([_6.href("Tutorial","https://github.com/intellifactory/websharper.ui.next/blob/master/docs/Tutorial.md"),_6.href("API Reference","https://github.com/intellifactory/websharper.ui.next/blob/master/docs/API.md"),_6.href("Full Documentation","https://github.com/intellifactory/websharper.ui.next/blob/master/README.md")])),e.mkEntry("Articles","Articles written about UI, which provide more detailed discussions about various aspects of the library.","files/uinext-screen.png",f.ofArray([_6.href("WebSharper UI: An Introduction","http://www.websharper.com/blog-entry/3954"),_6.href("WebSharper UI: Declarative Animation","http://www.websharper.com/blog-entry/3964"),_6.href("Structuring Applications with WebSharper UI","http://www.websharper.com/blog-entry/3965")])),e.mkEntry("Presentations","Presentations about UI, providing an overview of the library and deeper insights into the thinking behind it.","files/anton-pres.png",f.ofArray([_6.href("Presentation: Tackle UI with Reactive DOM in F# and WebSharper","https://www.youtube.com/watch?v=wEkS09s3KBc")]))]);bM.NavExternalLinks=f.ofArray([["GitHub","http://www.github.com/IntelliFactory/websharper.ui.next"],["API Reference","https://github.com/intellifactory/websharper.ui.next/blob/master/docs/API.md"]]);bM.NavPages=f.ofArray([z.Home,z.About,y.SamplesDefault()]);bM.fadeTime=300;bM.Fade=(dI=bq.get_Double(),(dJ=bp.get_CubicInOut(),(dK=e.fadeTime(),dF.Curried(bo.Simple,2,[dI,dJ,dK]))));bM.FadeTransition=br.Exit(function(){return((e.Fade())(1))(0);},br.Enter(function(){return((e.Fade())(0))(1);},br.Create(function(dL,dM){return((e.Fade())(dL))(dM);})));};bO.New=function(dI,dJ,dK){return{FileName:dI,Keywords:dJ,Title:dK};};bP.$cctor=function(){bP.$cctor=a.ignore;bP.Width=720;bP.Height=500;bP.Spacing=2;bP.SimpleTransition=br.Create(_.SimpleAnimation);bP.BarTransition=br.Enter(function(dI){return _.SimpleAnimation(0,dI);},_.SimpleTransition());bP.LoadData=bc.MapAsync(function(){return _.LoadFromCSV("AlphaFrequency.csv");},bc.Const());bP.Sample=y.Build(F.SortableBarChart).Id("SortableBarChart").FileName("SortableBarChart.fs").Keywords(f.ofArray(["animation"])).Render(_.Main).RenderDescription(_.Description).Create();};bQ=bu.Dictionary=dF.Class({set_Item:function(dI,dJ){this.set(dI,dJ);},ContainsKey:function(dI){var dJ,dK;dJ=this;dK=this.data[this.hash(dI)];return dK==null?false:J.exists(function(dL){return dJ.equals.apply(null,[(C.KeyValue(dL))[0],dI]);},dK);},TryGetValue:function(dI,dJ){var dK,dL,dM;dK=this;dL=this.data[this.hash(dI)];return dL==null?false:(dM=J.tryPick(function(dN){var dO;dO=C.KeyValue(dN);return dK.equals.apply(null,[dO[0],dI])?{$:1,$0:dO[1]}:null;},dL),dM!=null&&dM.$==1&&(dJ.set(dM.$0),true));},Remove:function(dI){return this.remove(dI);},get_Keys:function(){return new cV.New(this);},set:function(dI,dJ){var dK,dL,dM,dN;dK=this;dL=this.hash(dI);dM=this.data[dL];dM==null?(this.count=this.count+1,this.data[dL]=new a.Array({K:dI,V:dJ})):(dN=J.tryFindIndex(function(dO){return dK.equals.apply(null,[(C.KeyValue(dO))[0],dI]);},dM),dN==null?(this.count=this.count+1,dM.push({K:dI,V:dJ})):dM[dN.$0]={K:dI,V:dJ});},get_Item:function(dI){return this.get(dI);},remove:function(dI){var dJ,dK,dL,dM;dJ=this;dK=this.hash(dI);dL=this.data[dK];return dL==null?false:(dM=J.filter(function(dN){return!dJ.equals.apply(null,[(C.KeyValue(dN))[0],dI]);},dL),J.length(dM)<dL.length&&(this.count=this.count-1,this.data[dK]=dM,true));},get:function(dI){var dJ,dK;dJ=this;dK=this.data[this.hash(dI)];return dK==null?cT.notPresent():J.pick(function(dL){var dM;dM=C.KeyValue(dL);return dJ.equals.apply(null,[dM[0],dI])?{$:1,$0:dM[1]}:null;},dK);},GetEnumerator:function(){return cj.Get0(this);},GetEnumerator0:function(){return cj.Get0(J.concat(bB.GetFieldValues(this.data)));}},A,bQ);bQ.New$5=dF.Ctor(function(){bQ.New$6.call(this,[],bd.Equals,bd.Hash);},bQ);bQ.New$6=dF.Ctor(function(dI,dJ,dK){var dL,dM;A.New.call(this);this.equals=dJ;this.hash=dK;this.count=0;this.data=[];dL=cj.Get(dI);try{while(dL.MoveNext()){dM=dL.Current();this.set(dM.K,dM.V);}}finally{if(typeof dL=="object"&&"Dispose"in dL)dL.Dispose();}},bQ);bR.Doc=function(){co.$cctor();return co.Doc;};bR.SetAttr=function(dI,dJ,dK){dI.setAttribute(dJ,dK);};bR.CreateText=function(dI){return bR.Doc().createTextNode(dI);};bR.SetStyle=function(dI,dJ,dK){bR.SetProperty(dI.style,dJ,dK);};bR.ChildrenArray=function(dI){var dJ,dK,dL;dJ=[];for(dK=0,dL=dI.childNodes.length-1;dK<=dL;dK++)dJ.push(dI.childNodes[dK]);return dJ;};bR.CreateElement=function(dI){return bR.Doc().createElement(dI);};bR.AddClass=function(dI,dJ){var dK;dK=bR.getClass(dI);dK===""?bR.setClass(dI,dJ):!bR.clsRE(dJ).test(dK)?bR.setClass(dI,dK+" "+dJ):void 0;};bR.RemoveClass=function(dI,dJ){var dK;bR.setClass(dI,(dK=bR.clsRE(dJ),bR.getClass(dI).replace(dK,function(dL,dM,dN){return dM===""||dN===""?"":" ";})));};bR.SetProperty=function(dI,dJ,dK){return dI.setProperty(dJ,dK);};bR.IterSelector=function(dI,dJ,dK){var dL,dM,dN;dL=dI.querySelectorAll(dJ);for(dM=0,dN=dL.length-1;dM<=dN;dM++)dK(dL[dM]);};bR.getClass=function(dI){return dI instanceof a.SVGElement?dI.getAttribute("class"):dI.className;};bR.setClass=function(dI,dJ){if(dI instanceof a.SVGElement)dI.setAttribute("class",dJ);else dI.className=dJ;};bR.clsRE=function(dI){return new a.RegExp("(\\s+|^)"+dI+"(?:\\s+"+dI+")*(\\s+|$)","g");};bR.CreateSvgElement=function(dI){return bR.Doc().createElementNS("http://www.w3.org/2000/svg",dI);};bR.InsertAt=function(dI,dJ,dK){var dL;if(!(dK.parentNode===dI&&dJ===(dL=dK.nextSibling,bd.Equals(dL,null)?null:dL)))dI.insertBefore(dK,dJ);};bR.RemoveNode=function(dI,dJ){if(dJ.parentNode===dI)dI.removeChild(dJ);};bS.EmptyAttr=function(){cq.$cctor();return cq.EmptyAttr;};bS.Static=function(dI){return new be({$:3,$0:dI});};bS.Animated=function(dI,dJ,dK){var dL,dM,dN;dL=new c4.New(dI,dJ,dK);dM=4;br.CanAnimateEnter(dI)?dM=dM|1:void 0;br.CanAnimateExit(dI)?dM=dM|2:void 0;dN=new be({$:1,$0:dL});bS.SetFlags(dN,dM);return dN;};bS.AppendTree=function(dI,dJ){var dK;return dI===null?dJ:dJ===null?dI:(dK=new be({$:2,$0:dI,$1:dJ}),(bS.SetFlags(dK,bS.Flags(dI)|bS.Flags(dJ)),dK));};bS.SetFlags=function(dI,dJ){dI.flags=dJ;};bS.Dynamic=function(dI,dJ){return new be({$:1,$0:new dk.New(dI,dJ)});};bS.Updates=function(dI){return bJ.MapTreeReduce(function(dJ){return dJ.NChanged();},bc.Const(),bc.Map2Unit,dI.DynNodes);};bS.Flags=function(dI){return dI!==null&&dI.hasOwnProperty("flags")?dI.flags:0;};bS.Insert=function(dI,dJ){var dK,dL,dM;function dN(dO){if(!(dO===null))if(dO!=null&&dO.$==1)dK.push(dO.$0);else if(dO!=null&&dO.$==2){dN(dO.$0);dN(dO.$1);}else if(dO!=null&&dO.$==3)dO.$0(dI);else if(dO!=null&&dO.$==4)dL.push(dO.$0);}dK=[];dL=[];dN(dJ);dM=dK.slice(0);return c_.New(dI,bS.Flags(dJ),dM,dL.length===0?null:{$:1,$0:function(dO){bI.iter(function(dP){dP(dO);},dL);}});};bS.HasExitAnim=function(dI){var dJ;dJ=2;return(dI.DynFlags&dJ)===dJ;};bS.GetExitAnim=function(dI){return bS.GetAnim(dI,function(dJ,dK){return dJ.NGetExitAnim(dK);});};bS.HasEnterAnim=function(dI){var dJ;dJ=1;return(dI.DynFlags&dJ)===dJ;};bS.GetEnterAnim=function(dI){return bS.GetAnim(dI,function(dJ,dK){return dJ.NGetEnterAnim(dK);});};bS.HasChangeAnim=function(dI){var dJ;dJ=4;return(dI.DynFlags&dJ)===dJ;};bS.GetChangeAnim=function(dI){return bS.GetAnim(dI,function(dJ,dK){return dJ.NGetChangeAnim(dK);});};bS.GetAnim=function(dI,dJ){return bo.Concat(J.map(function(dK){return dJ(dK,dI.DynElem);},dI.DynNodes));};bS.Sync=function(dI,dJ){J.iter(function(dK){dK.NSync(dI);},dJ.DynNodes);};bS.Empty=function(dI){return c_.New(dI,0,[],null);};bT.startsWith=function(dI,dJ){var dK;switch(dI.$==1?dJ.$==1?bd.Equals(dI.$0,dJ.$0)?(dK=[dJ.$0,dJ.$1,dI.$0,dI.$1],1):2:2:0){case 0:return{$:1,$0:dJ};case 1:return bT.startsWith(dK[3],dK[1]);case 2:return null;}};J.ofList=function(dI){var dJ,dK;dK=[];dJ=dI;while(!(dJ.$==0)){dK.push(f.head(dJ));dJ=f.tail(dJ);}return dK;};J.map2=function(dI,dJ,dK){var dL,dM,dN;J.checkLength(dJ,dK);dL=new a.Array(dK.length);for(dM=0,dN=dK.length-1;dM<=dN;dM++)dL[dM]=dI(dJ[dM],dK[dM]);return dL;};J.forall=function(dI,dJ){var dK,dL,dM,dN;dK=true;dL=0;dN=J.length(dJ);while(dK&&dL<dN)if(dI(dJ[dL]))dL=dL+1;else dK=false;return dK;};J.init=function(dI,dJ){var dK,dL,dM;dI<0?C.FailWith("Negative size given."):null;dK=new a.Array(dI);for(dL=0,dM=dI-1;dL<=dM;dL++)dK[dL]=dJ(dL);return dK;};J.checkLength=function(dI,dJ){if(dI.length!==dJ.length)C.FailWith("The arrays have different lengths.");};J.choose=function(dI,dJ){var dK,dL,dM,dN;dK=[];for(dL=0,dM=dJ.length-1;dL<=dM;dL++){dN=dI(dJ[dL]);dN==null?void 0:dK.push(dN.$0);}return dK;};J.mapi=function(dI,dJ){var dK,dL,dM;dK=new a.Array(dJ.length);for(dL=0,dM=dJ.length-1;dL<=dM;dL++)dK[dL]=dI(dL,dJ[dL]);return dK;};J.map=function(dI,dJ){var dK,dL,dM;dK=new a.Array(dJ.length);for(dL=0,dM=dJ.length-1;dL<=dM;dL++)dK[dL]=dI(dJ[dL]);return dK;};J.max=function(dI){var dJ,dK,dL,dM;J.nonEmpty(dI);dJ=dI[0];for(dK=1,dL=dI.length-1;dK<=dL;dK++){dM=dI[dK];bd.Compare(dM,dJ)===1?dJ=dM:void 0;}return dJ;};J.exists=function(dI,dJ){var dK,dL,dM,dN;dK=false;dL=0;dN=J.length(dJ);while(!dK&&dL<dN)if(dI(dJ[dL]))dK=true;else dL=dL+1;return dK;};J.tryPick=function(dI,dJ){var dK,dL,dM;dK=null;dL=0;while(dL<dJ.length&&dK==null){dM=dI(dJ[dL]);dM!=null&&dM.$==1?dK=dM:void 0;dL=dL+1;}return dK;};J.tryFindIndex=function(dI,dJ){var dK,dL;dK=null;dL=0;while(dL<dJ.length&&dK==null){dI(dJ[dL])?dK={$:1,$0:dL}:void 0;dL=dL+1;}return dK;};J.sortInPlaceWith=function(dI,dJ){dJ.sort(dI);};J.sortInPlace=function(dI){J.mapInPlace(function(dJ){return dJ[0];},J.mapiInPlace(function(dJ,dK){return[dK,dJ];},dI).sort(bd.Compare));};J.sortBy=function(dI,dJ){return J.map(function(dK){return dK[0];},J.mapi(function(dK,dL){return[dL,[dI(dL),dK]];},dJ).sort(function(dK,dL){return bd.Compare(dK[1],dL[1]);}));};J.nonEmpty=function(dI){if(dI.length===0)C.FailWith("The input array was empty.");};J.ofSeq=function(dI){var dJ,dK;if(dI instanceof a.Array)return dI.slice();else if(dI instanceof I)return J.ofList(dI);else{dJ=[];dK=cj.Get(dI);try{while(dK.MoveNext())dJ.push(dK.Current());return dJ;}finally{if(typeof dK=="object"&&"Dispose"in dK)dK.Dispose();}}};J.filter=function(dI,dJ){var dK,dL,dM;dK=[];for(dL=0,dM=dJ.length-1;dL<=dM;dL++)if(dI(dJ[dL]))dK.push(dJ[dL]);return dK;};J.iter=function(dI,dJ){var dK,dL;for(dK=0,dL=dJ.length-1;dK<=dL;dK++)dI(dJ[dK]);};J.foldBack=function(dI,dJ,dK){var dL,dM,dN,dO,dP;dL=dK;dN=dJ.length;for(dO=1,dP=dN;dO<=dP;dO++)dL=dI(dJ[dN-dO],dL);return dL;};J.findIndex=function(dI,dJ){var dK;dK=J.tryFindIndex(dI,dJ);return dK==null?C.FailWith("KeyNotFoundException"):dK.$0;};J.pick=function(dI,dJ){var dK;dK=J.tryPick(dI,dJ);return dK==null?C.FailWith("KeyNotFoundException"):dK.$0;};J.concat=function(dI){return a.Array.prototype.concat.apply([],J.ofSeq(dI));};J.create=function(dI,dJ){var dK,dL,dM;dK=new a.Array(dI);for(dL=0,dM=dI-1;dL<=dM;dL++)dK[dL]=dJ;return dK;};bX=bW.TemplateInstance=dF.Class({get_Doc:function(){return this.doc;}},A,bX);bX.New=dF.Ctor(function(dI,dJ){A.New.call(this);this.doc=dJ;this.allVars=dI.$==0?dI.$0:C.FailWith("Should not happen");},bX);bY=bW.ProviderBuilder=dF.Class({WithHole:function(dI){this.h.push(dI);return this;}},null,bY);bY.Make=function(){var dI;return bY.New(null,(dI=cu.NewGuid(),dC(dI)),[]);};bY.New=function(dI,dJ,dK){return new bY({i:dI,k:dJ,h:dK});};bZ.CompleteHoles=function(dI,dJ,dK){var dM,dN,dO,dP,dQ,dR;function dL(dS,dT){var dU,dV,dW,dX;return dN.Contains(dS)?null:(dU=dT===0?(dV=B.Create$1(""),[{$:8,$0:dS,$1:dV},dV]):dT===1?(dW=B.Create$1(0),[{$:13,$0:dS,$1:dW},dW]):dT===2?(dX=B.Create$1(false),[{$:9,$0:dS,$1:dX},dX]):C.FailWith("Invalid value type"),(dM.set_Item(dS,dU[1]),{$:1,$0:dU[0]}));}dM=new bQ.New$5();dN=new cn.New$3();dO=cj.Get(dJ);try{while(dO.MoveNext()){dP=dO.Current();(dP.$==8?(dQ=[dP.$0,cv.Box(dP.$1)],true):dP.$==11?(dQ=[dP.$0,cv.Box(dP.$1)],true):dP.$==10?(dQ=[dP.$0,cv.Box(dP.$1)],true):dP.$==13?(dQ=[dP.$0,cv.Box(dP.$1)],true):dP.$==12?(dQ=[dP.$0,cv.Box(dP.$1)],true):dP.$==9&&(dQ=[dP.$0,cv.Box(dP.$1)],true))?(dR=dQ[0],dN.Add(dR),dM.set_Item(dR,dQ[1])):void 0;}}finally{if(typeof dO=="object"&&"Dispose"in dO)dO.Dispose();}return[bI.append(dJ,J.choose(function(dS){return dL(dS[0],dS[1]);},dK)),{$:0,$0:dM}];};b0.MatchesQuery=function(dI,dJ){return dJ.Name.indexOf(dI)!=-1||dJ.Snippet.indexOf(dI)!=-1;};b0.Compare=function(dI,dJ,dK){return dI.$==1?bd.Compare(dJ.Age,dK.Age):bd.Compare(dJ.Name,dK.Name);};b0.New=function(dI,dJ,dK){return{Name:dI,Snippet:dJ,Age:dK};};b1.Jelen={$:0};b1.Csiga={$:2};b1.Suszterinas={$:1};b1.Stex={$:3};bl=c.Flow=dF.Class({get_Render:function(){return this.render;}},A,bl);bl.New=dF.Ctor(function(dI){bl.New$1.call(this,function(dJ){return function(dK){return B.Set(dJ,dI(dK));};});},bl);bl.New$1=dF.Ctor(function(dI){A.New.call(this);this.render=dI;},bl);b2=c.FlowBuilder=dF.Class({Bind:function(dI,dJ){return bl.Bind(dI,dJ);},ReturnFrom:a.id},A,b2);b2.New=dF.Ctor(function(){A.New.call(this);},b2);b3.CubicInOut=function(){cy.$cctor();return cy.CubicInOut;};b4=c.DoubleInterpolation=dF.Class({Interpolate:function(dI,dJ,dK){return dJ+dI*(dK-dJ);}},null,b4);b4.DoubleInterpolation=new b4({$:0});br=c.Trans=dF.Class({Copy:function(dI,dJ,dK,dL){var dM,dN,dO,dP,dQ;function dR(dS,dT){return dM.TChange(dS,dT);}dM=this;dN=dI==null?function(dS){return function(dT){return dR(dS,dT);};}:dI.$0;return new br.New$3(function(dS,dT){return(dN(dS))(dT);},(dO=this.get_TEnter(),dJ==null?dO:dJ.$0),(dP=this.get_TExit(),dK==null?dP:dK.$0),(dQ=this.get_TFlags(),dL==null?dQ:dL.$0));},get_TFlags:function(){return this.flags;},get_TExit:function(){return this.exit;},get_TEnter:function(){return this.enter;},TChange:function(dI,dJ){return this.change(dI,dJ);}},A,br);br.New$1=dF.Ctor(function(dI){br.New$3.call(this,dI,bo.Const,bo.Const,1);},br);br.New$3=dF.Ctor(function(dI,dJ,dK,dL){A.New.call(this);this.change=dI;this.enter=dJ;this.exit=dK;this.flags=dL;},br);b5=bu.FSharpMap=dF.Class({Equals:function(dI){return this.get_Count()===dI.get_Count()&&bI.forall2(bd.Equals,this,dI);},GetEnumerator$1:function(){return cj.Get(bI.map(function(dI){return{K:dI.Key,V:dI.Value};},cK.Enumerate(false,this.tree)));},get_Count:function(){var dI;dI=this.tree;return dI==null?0:dI.Count;},Add:function(dI,dJ){return new b5.New$1(cK.Add(cM.New(dI,dJ),this.tree));},TryFind:function(dI){var dJ;dJ=cK.TryFind(cM.New(dI,void 0),this.tree);return dJ==null?null:{$:1,$0:dJ.$0.Value};},get_IsEmpty:function(){return this.tree==null;},GetHashCode:function(){return bd.Hash(J.ofSeq(this));},get_Tree:function(){return this.tree;},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();},CompareTo0:function(dI){return bI.compareWith(bd.Compare,this,dI);}},A,b5);b5.New=dF.Ctor(function(dI){b5.New$1.call(this,cz.fromSeq(dI));},b5);b5.New$1=dF.Ctor(function(dI){A.New.call(this);this.tree=dI;},b5);b6.ThreadList={$:2};b6.NewThread={$:0};b7.Create=function(){var dI,dJ,dK;function dL(){dJ.Set(true);}function dM(){dJ.Set(false);}dI=B.Create$1(null);dJ=B.Create$1(true);dK=_4.Element("div",[bK.DynamicStyle("display",bc.Map(function(dN){return dN?"none":"block";},dJ.get_View()))],[b7.LoginForm(function(dN){dI.Set({$:1,$0:dN});dL();})]);return b9.New(dI.get_View(),dK,b7.StatusWidget(function(){dM();},function(){dI.Set(null);dL();},dI.get_View()),dL,dM);};b7.StatusWidget=function(dI,dJ,dK){return _4.EmbedView(bc.Map(function(dL){return dL==null?_4.Concat([_4.Element("li",[],[_4.Link("You are not logged in.",[],a.ignore)]),_4.Element("li",[],[_4.Link("Login",[],dI)])]):_4.Concat([_4.Element("li",[],[_4.Link("Welcome, "+dL.$0.Name+"!",[],a.ignore)]),_4.Element("li",[],[_4.Link("Logout",[],dJ)])]);},dK));};b7.LoginForm=function(dI){var dJ,dK,dL,dM;function dN(dO,dP,dQ,dR){return _6.divc("form-group",[_4.Element("label",[be.Create("for",dP),_6.cls("col-sm-2 control-label")],[_4.TextNode(dQ)]),_6.divc("col-sm-2",[((dR?function(dS){return function(dT){return _4.PasswordBox(dS,dT);};}:function(dS){return function(dT){return _4.Input(dS,dT);};})(f.ofArray([_6.cls("form-control"),be.Create("id",dP),be.Create("placeholder",dQ)])))(dO)])]);}dJ=B.Create$1("");dK=B.Create$1("");dL=B.Create$1("");dM=_4.Element("div",[],[_4.Element("p",[_6.cls("bg-danger")],[_4.TextView(dL.get_View())])]);return _4.Element("div",[],[_4.Element("div",[],[_4.TextNode("Hint: TestUser/TestPass")]),dM,_4.Element("form",[_6.cls("form-horizontal"),be.Create("role","form")],[dN(dJ,"user","Username",false),dN(dK,"pass","Password",true),_6.divc("form-group",[_6.divc("col-sm-offset-2 col-sm-10",[_4.Button("Log In",[_6.cls("btn btn-primary")],function(){var dO;c6.Start((dO=null,c6.Delay(function(){return c6.Bind(cB.CheckLogin(dJ.Get(),dK.Get()),function(dP){return dP==null?(B.Set(dL,"Invalid credentials."),c6.Zero()):(B.Set(dJ,""),B.Set(dK,""),dI(dP.$0),c6.Zero());});})),null);})])])])]);};b8.New=function(dI,dJ,dK){return{Auth:dI,Threads:dJ,Go:dK};};b9.New=function(dI,dJ,dK,dL,dM){return{LoggedIn:dI,LoginForm:dJ,StatusWidget:dK,HideForm:dL,ShowForm:dM};};b_.New=function(dI){return{Go:dI};};b$.New=function(dI){return{Go:dI};};ca.array=function(dI,dJ,dK){return dJ==null?dK!=null&&dK.$==1?dI.slice(0,dK.$0+1):[]:dK==null?dI.slice(dJ.$0):dI.slice(dJ.$0,dK.$0+1);};ca.string=function(dI,dJ,dK){return dJ==null?dK!=null&&dK.$==1?dI.slice(0,dK.$0+1):"":dK==null?dI.slice(dJ.$0):dI.slice(dJ.$0,dK.$0+1);};cb.LoadFromCSV=function(dI){return c6.FromContinuations(function(dJ){dG.get(dI,new A.New(),function(dK){dJ(cb.ParseCSV(dK));});});};cb.TopStatesByRatio=function(dI,dJ){function dK(dL,dM){return-dM;}return ca.array(J.sortBy(function(dL){return dK(dL[0],dL[1]);},J.map(function(dL){return[dL,cb.Ratio(dI,dJ,dL)];},dI.States)),{$:1,$0:0},{$:1,$0:9});};cb.ParseCSV=function(dI){var dJ,dK,dL;function dM(dP){return J.findIndex(function(dQ){return J.get(dQ,0)===dP;},dL);}function dN(dP){return J.findIndex(function(dQ){return bd.Equals(dP,dQ);},dK);}function dO(dP,dQ){return C.toInt(a.Number(J.get(J.get(dL,dM(dQ.$0)),1+dN(dP))));}dJ=J.filter(function(dP){return dP!=="";},ch.SplitChars(dI,["\r","\n"],0));dK=J.map(function(dP){return{$:0,$0:dP};},ca.array(ch.SplitChars(J.get(dJ,0),[","],0),{$:1,$0:1},null));dL=J.map(function(dP){return ch.SplitChars(dP,[","],0);},J.sub(dJ,1,J.length(dJ)-1));return cb.New(dK,function(dP){return function(dQ){return dO(dP,dQ);};},J.map(function(dP){return{$:0,$0:J.get(dP,0)};},dL));};cb.Ratio=function(dI,dJ,dK){return+(dI.Population(dJ))(dK)/+(dI.Population({$:0,$0:"Total"}))(dK);};cb.New=function(dI,dJ,dK){return{Brackets:dI,Population:dJ,States:dK};};cc.New=function(dI,dJ,dK,dL,dM){return{MaxValue:dI,Position:dJ,State:dK,Total:dL,Value:dM};};cd.get_LeftPressed=function(){bx.ActivateButtonListener();return bx.MouseBtnSt$1().Left.get_View();};cd.get_MiddlePressed=function(){bx.ActivateButtonListener();return bx.MouseBtnSt$1().Middle.get_View();};cd.get_RightPressed=function(){bx.ActivateButtonListener();return bx.MouseBtnSt$1().Right.get_View();};cd.get_Position=function(){!bx.MousePosSt$1().Active?(self.document.addEventListener("mousemove",function(dI){B.Set(bx.MousePosSt$1().PosV,[dI.clientX,dI.clientY]);},false),bx.MousePosSt$1().Active=true):void 0;return bx.MousePosSt$1().PosV.get_View();};bx.ActivateKeyListener=function(){cJ.$cctor();return cJ.ActivateKeyListener;};bx.KeyListenerState=function(){cJ.$cctor();return cJ.KeyListenerState;};bx.ActivateButtonListener=function(){cJ.$cctor();return cJ.ActivateButtonListener;};bx.MouseBtnSt$1=function(){cJ.$cctor();return cJ.MouseBtnSt;};bx.MousePosSt$1=function(){cJ.$cctor();return cJ.MousePosSt;};ce.New=function(dI,dJ,dK){return{KeysPressed:dI,KeyListenerActive:dJ,LastPressed:dK};};cg.Int=function(){cg.set_counter(cg.counter()+1);return cg.counter();};cg.Id=function(){cg.set_counter(cg.counter()+1);return"uid"+dC(cg.counter());};cg.set_counter=function(dI){c7.$cctor();c7.counter=dI;};cg.counter=function(){c7.$cctor();return c7.counter;};ch.StartsWith=function(dI,dJ){return dI.substring(0,dJ.length)==dJ;};ch.SplitChars=function(dI,dJ,dK){return ch.Split(dI,new a.RegExp("["+ch.RegexEscape(dJ.join(""))+"]"),dK);};ch.ToCharArray=function(dI){return J.init(dI.length,function(dJ){return dI[dJ];});};ch.Substring=function(dI,dJ,dK){return dI.substr(dJ,dK);};ch.Split=function(dI,dJ,dK){return dK===1?J.filter(function(dL){return dL!=="";},ch.SplitWith(dI,dJ)):ch.SplitWith(dI,dJ);};ch.RegexEscape=function(dI){return dI.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};ch.concat=function(dI,dJ){return J.ofSeq(dJ).join(dI);};ch.SplitWith=function(dI,dJ){return dI.split(dJ);};ch.IsNullOrEmpty=function(dI){return dI==null||dI=="";};ch.Join=function(dI,dJ){return dJ.join(dI);};ch.forall=function(dI,dJ){return bI.forall(dI,ch.protect(dJ));};ch.protect=function(dI){return dI===null?"":dI;};ci.StartTo=function(dI,dJ){c6.StartWithContinuations(dI,dJ,function(dK){ci.OnError(dK);},a.ignore,null);};ci.OnError=function(dI){return dD.log("WebSharper UI: Uncaught asynchronous exception",dI);};cj.Get=function(dI){return dI instanceof a.Array?cj.ArrayEnumerator(dI):bd.Equals(typeof dI,"string")?cj.StringEnumerator(dI):dI.GetEnumerator();};cj.ArrayEnumerator=function(dI){return new cr.New(0,null,function(dJ){var dK;dK=dJ.s;return dK<J.length(dI)&&(dJ.c=J.get(dI,dK),dJ.s=dK+1,true);},void 0);};cj.StringEnumerator=function(dI){return new cr.New(0,null,function(dJ){var dK;dK=dJ.s;return dK<dI.length&&(dJ.c=dI[dK],dJ.s=dK+1,true);},void 0);};cj.Get0=function(dI){return dI instanceof a.Array?cj.ArrayEnumerator(dI):bd.Equals(typeof dI,"string")?cj.StringEnumerator(dI):"GetEnumerator0"in dI?dI.GetEnumerator0():dI.GetEnumerator();};ck.CreateFromValue=function(dI){return cO.New(true,dI,ck.cachedLazy);};ck.cachedLazy=function(){return this.v;};ck.Create=function(dI){return cO.New(false,dI,ck.forceLazy);};ck.forceLazy=function(){var dI;dI=this.v();this.c=true;this.v=dI;this.f=ck.cachedLazy;return dI;};bc=c.View=dF.Class({},null,bc);cm.$cctor=function(){cm.$cctor=a.ignore;cm.LoadedTemplates=new bQ.New$5();cm.LocalTemplatesLoaded=false;cm.TextHoleRE="\\${([^}]+)}";};cn=bu.HashSet=dF.Class({Add:function(dI){return this.add(dI);},Contains:function(dI){var dJ;dJ=this.data[this.hash(dI)];return dJ==null?false:this.arrContains(dI,dJ);},add:function(dI){var dJ,dK;dJ=this.hash(dI);dK=this.data[dJ];return dK==null?(this.data[dJ]=[dI],this.count=this.count+1,true):this.arrContains(dI,dK)?false:(dK.push(dI),this.count=this.count+1,true);},arrContains:function(dI,dJ){var dK,dL,dM,dN;dK=true;dL=0;dN=dJ.length;while(dK&&dL<dN)if(this.equals.apply(null,[dJ[dL],dI]))dK=false;else dL=dL+1;return!dK;},ExceptWith:function(dI){var dJ;dJ=cj.Get(dI);try{while(dJ.MoveNext())this.Remove(dJ.Current());}finally{if(typeof dJ=="object"&&"Dispose"in dJ)dJ.Dispose();}},get_Count:function(){return this.count;},CopyTo:function(dI){var dJ,dK,dL,dM;dJ=0;dK=du.concat(this.data);for(dL=0,dM=dK.length-1;dL<=dM;dL++)J.set(dI,dL,dK[dL]);},IntersectWith:function(dI){var dJ,dK,dL,dM,dN;dJ=new cn.New$4(dI,this.equals,this.hash);dK=du.concat(this.data);for(dL=0,dM=dK.length-1;dL<=dM;dL++){dN=dK[dL];!dJ.Contains(dN)?this.Remove(dN):void 0;}},Remove:function(dI){var dJ;dJ=this.data[this.hash(dI)];return dJ==null?false:this.arrRemove(dI,dJ)&&(this.count=this.count-1,true);},arrRemove:function(dI,dJ){var dK,dL,dM,dN;dK=true;dL=0;dN=dJ.length;while(dK&&dL<dN)if(this.equals.apply(null,[dJ[dL],dI])){dJ.splice.apply(dJ,[dL,1]);dK=false;}else dL=dL+1;return!dK;},GetEnumerator:function(){return cj.Get(du.concat(this.data));},GetEnumerator0:function(){return cj.Get(du.concat(this.data));}},A,cn);cn.New$3=dF.Ctor(function(){cn.New$4.call(this,[],bd.Equals,bd.Hash);},cn);cn.New$4=dF.Ctor(function(dI,dJ,dK){var dL;A.New.call(this);this.equals=dJ;this.hash=dK;this.data=[];this.count=0;dL=cj.Get(dI);try{while(dL.MoveNext())this.add(dL.Current());}finally{if(typeof dL=="object"&&"Dispose"in dL)dL.Dispose();}},cn);cn.New$2=dF.Ctor(function(dI){cn.New$4.call(this,dI,bd.Equals,bd.Hash);},cn);co.$cctor=function(){co.$cctor=a.ignore;co.Doc=self.document;};cp.LinkElement=function(dI,dJ){cp.InsertDoc(dI,dJ,null);};cp.CreateEmbedNode=function(){return{Current:null,Dirty:false};};cp.UpdateEmbedNode=function(dI,dJ){dI.Current=dJ;dI.Dirty=true;};cp.InsertDoc=function(dI,dJ,dK){var dL;return dJ!=null&&dJ.$==1?cp.InsertNode(dI,dJ.$0.El,dK):dJ!=null&&dJ.$==2?(dL=dJ.$0,(dL.Dirty=false,cp.InsertDoc(dI,dL.Current,dK))):dJ==null?dK:dJ!=null&&dJ.$==4?cp.InsertNode(dI,dJ.$0.Text,dK):dJ!=null&&dJ.$==5?cp.InsertNode(dI,dJ.$0,dK):dJ!=null&&dJ.$==6?J.foldBack(function(dM,dN){return dM==null||dM.constructor===cl?cp.InsertDoc(dI,dM,dN):cp.InsertNode(dI,dM,dN);},dJ.$0.Els,dK):cp.InsertDoc(dI,dJ.$0,cp.InsertDoc(dI,dJ.$1,dK));};cp.CreateRunState=function(dI,dJ){return dd.New(de.get_Empty(),cp.CreateElemNode(dI,bS.EmptyAttr(),dJ));};cp.PerformAnimatedUpdate=function(dI,dJ,dK){var dL;return bo.get_UseAnimations()?(dL=null,c6.Delay(function(){var dM,dN,dO;dM=de.FindAll(dK);dN=cp.ComputeChangeAnim(dJ,dM);dO=cp.ComputeEnterAnim(dJ,dM);return c6.Bind(bo.Play(bo.Append(dN,cp.ComputeExitAnim(dJ,dM))),function(){return c6.Bind(cp.SyncElemNodesNextFrame(dI,dJ),function(){return c6.Bind(bo.Play(dO),function(){dJ.PreviousNodes=dM;return c6.Return(null);});});});})):cp.SyncElemNodesNextFrame(dI,dJ);};cp.PerformSyncUpdate=function(dI,dJ,dK){var dL;dL=de.FindAll(dK);cp.SyncElemNode(dI,dJ.Top);dJ.PreviousNodes=dL;};cp.CreateTextNode=function(){return{Text:bR.CreateText(""),Dirty:false,Value:""};};cp.UpdateTextNode=function(dI,dJ){dI.Value=dJ;dI.Dirty=true;};cp.CreateElemNode=function(dI,dJ,dK){var dL;cp.LinkElement(dI,dK);dL=bS.Insert(dI,dJ);return cP.New(dL,dK,null,dI,cg.Int(),dF.GetOptional(dL.OnAfterRender));};cp.InsertNode=function(dI,dJ,dK){bR.InsertAt(dI,dK,dJ);return dJ;};cp.SyncElemNodesNextFrame=function(dI,dJ){function dK(dL){a.requestAnimationFrame(function(){cp.SyncElemNode(dI,dJ.Top);dL();});}return cW.BatchUpdatesEnabled()?c6.FromContinuations(function(dL,dM,dN){return dK.apply(null,[dL,dM,dN]);}):(cp.SyncElemNode(dI,dJ.Top),c6.Return(null));};cp.ComputeExitAnim=function(dI,dJ){return bo.Concat(J.map(function(dK){return bS.GetExitAnim(dK.Attr);},de.ToArray(de.Except(dJ,de.Filter(function(dK){return bS.HasExitAnim(dK.Attr);},dI.PreviousNodes)))));};cp.ComputeEnterAnim=function(dI,dJ){return bo.Concat(J.map(function(dK){return bS.GetEnterAnim(dK.Attr);},de.ToArray(de.Except(dI.PreviousNodes,de.Filter(function(dK){return bS.HasEnterAnim(dK.Attr);},dJ)))));};cp.ComputeChangeAnim=function(dI,dJ){var dK;function dL(dM){return bS.HasChangeAnim(dM.Attr);}dK=function(dM){return de.Filter(dL,dM);};return bo.Concat(J.map(function(dM){return bS.GetChangeAnim(dM.Attr);},de.ToArray(de.Intersect(dK(dI.PreviousNodes),dK(dJ)))));};cp.SyncElemNode=function(dI,dJ){!dI?cp.SyncElement(dJ):void 0;cp.Sync(dJ.Children);cp.AfterRender(dJ);};cp.SyncElement=function(dI){function dJ(dK){function dL(dM){var dN,dO;return dM!=null&&dM.$==0?dL(dM.$0)||dL(dM.$1):dM!=null&&dM.$==2?(dN=dM.$0,dN.Dirty||dL(dN.Current)):dM!=null&&dM.$==6&&(dO=dM.$0,dO.Dirty||J.exists(dJ,dO.Holes));}return dL(dK.Children);}bS.Sync(dI.El,dI.Attr);dJ(dI)?cp.DoSyncElement(dI):void 0;};cp.Sync=function(dI){var dJ,dK;if(dI!=null&&dI.$==1)cp.SyncElemNode(false,dI.$0);else if(dI!=null&&dI.$==2)cp.Sync(dI.$0.Current);else if(dI==null);else if(dI!=null&&dI.$==5);else if(dI!=null&&dI.$==4){dJ=dI.$0;dJ.Dirty?(dJ.Text.nodeValue=dJ.Value,dJ.Dirty=false):void 0;}else if(dI!=null&&dI.$==6){dK=dI.$0;J.iter(function(dL){cp.SyncElemNode(false,dL);},dK.Holes);J.iter(function(dL){bS.Sync(dL[0],dL[1]);},dK.Attrs);cp.AfterRender(dK);}else{cp.Sync(dI.$0);cp.Sync(dI.$1);}};cp.AfterRender=function(dI){var dJ;dJ=dF.GetOptional(dI.Render);dJ!=null&&dJ.$==1?(dJ.$0(dI.El),dF.SetOptional(dI,"Render",null)):void 0;};cp.DoSyncElement=function(dI){var dJ,dK,dL;function dM(dN,dO){var dP,dQ;return dN!=null&&dN.$==1?dN.$0.El:dN!=null&&dN.$==2?(dP=dN.$0,dP.Dirty?(dP.Dirty=false,cp.InsertDoc(dJ,dP.Current,dO)):dM(dP.Current,dO)):dN==null?dO:dN!=null&&dN.$==4?dN.$0.Text:dN!=null&&dN.$==5?dN.$0:dN!=null&&dN.$==6?(dQ=dN.$0,(dQ.Dirty?dQ.Dirty=false:void 0,J.foldBack(function(dR,dS){return dR==null||dR.constructor===cl?dM(dR,dS):dR;},dQ.Els,dO))):dM(dN.$0,dM(dN.$1,dO));}dJ=dI.El;dx.Iter((dK=dI.El,function(dN){bR.RemoveNode(dK,dN);}),dx.Except(dx.DocChildren(dI),dx.Children(dI.El,dF.GetOptional(dI.Delimiters))));dM(dI.Children,(dL=dF.GetOptional(dI.Delimiters),dL!=null&&dL.$==1?dL.$0[1]:null));};cp.InsertBeforeDelim=function(dI,dJ){var dK,dL;dK=dI.parentNode;dL=self.document.createTextNode("");dK.insertBefore(dL,dI);cp.LinkPrevElement(dI,dJ);return dL;};cp.LinkPrevElement=function(dI,dJ){cp.InsertDoc(dI.parentNode,dJ,dI);};bA.Obsolete=function(dI){var dJ,dK,dL,dM,dN;dK=dI.s;if(dK==null||(dK!=null&&dK.$==2?(dJ=dK.$1,false):dK!=null&&dK.$==3?(dJ=dK.$1,false):true))void 0;else{dI.s=null;for(dL=0,dM=J.length(dJ)-1;dL<=dM;dL++){dN=J.get(dJ,dL);typeof dN=="object"?function(dO){bA.Obsolete(dO);}(dN):dN();}}};bA.New=function(dI){return{s:dI};};cq.$cctor=function(){cq.$cctor=a.ignore;cq.EmptyAttr=null;};cr=cj.T=dF.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},A,cr);cr.New=dF.Ctor(function(dI,dJ,dK,dL){A.New.call(this);this.s=dI;this.c=dJ;this.n=dK;this.d=dL;},cr);cs=bu.List=dF.Class({GetEnumerator:function(){return cj.Get(this);},GetEnumerator0:function(){return cj.Get0(this);}},null,cs);cu.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(dI){var dJ,dK;dJ=dB.random()*16|0;dK=dI=="x"?dJ:dJ&3|8;return dK.toString(16);});};cv.Box=a.id;cw.Newest={$:1};cw.Show=function(dI){return dI.$==1?"Newest":"Alphabetical";};cw.Alphabetical={$:0};cx.TryParseInt32=function(dI,dJ){return cx.TryParse(dI,-2147483648,2147483647,dJ);};cy.$cctor=function(){cy.$cctor=a.ignore;cy.CubicInOut=bp.Custom(function(dI){var dJ;dJ=dI*dI;return 3*dJ-2*(dJ*dI);});cy.UseAnimations=true;};cz.fromSeq=function(dI){var dJ;dJ=J.ofSeq(bI.delay(function(){return bI.collect(function(dK){return[cM.New(dK[0],dK[1])];},bI.distinctBy(function(dK){return dK[0];},dI));}));J.sortInPlace(dJ);return cK.Build(dJ,0,dJ.length-1);};cA.CreateThread=function(dI,dJ){return cD.New(c5.Int(),dJ,dI,B.Create$1(I.Empty));};cA.CreatePost=function(dI,dJ){return cE.New(c5.Int(),dI.Name,dJ);};cB.AddThread=function(dI){var dJ;dJ=null;return c6.Delay(function(){cB.set_threads(f.append(cB.threads(),f.ofArray([dI])));cB.set_posts(cB.posts().Add(dI.ThreadId,I.Empty));return c6.Return(null);});};cB.AddPost=function(dI,dJ){var dK;dK=null;return c6.Delay(function(){var dL,dM,dN;dL=bv.TryFind(dI.ThreadId,cB.posts());return dL==null?(cB.set_posts((dM=f.ofArray([dJ]),cB.posts().Add(dI.ThreadId,dM))),c6.Return(null)):(cB.set_posts((dN=f.append(dL.$0,f.ofArray([dJ])),cB.posts().Add(dI.ThreadId,dN))),c6.Return(null));});};cB.GetThreads=function(){var dI;dI=null;return c6.Delay(function(){return c6.Bind(c6.Sleep(cB.DELAY()),function(){return c6.Return(cB.threads());});});};cB.GetPosts=function(dI){var dJ;dJ=null;return c6.Delay(function(){var dK;dK=bv.TryFind(dI.ThreadId,cB.posts());return dK==null?c6.Return(I.Empty):c6.Return(dK.$0);});};cB.set_threads=function(dI){U.$cctor();U.threads=dI;};cB.threads=function(){U.$cctor();return U.threads;};cB.set_posts=function(dI){U.$cctor();U.posts=dI;};cB.posts=function(){U.$cctor();return U.posts;};cB.CheckLogin=function(dI,dJ){var dK;dK=null;return c6.Delay(function(){return c6.Bind(c6.Sleep(cB.DELAY()),function(){return c6.Return(cB.CheckCredentials(dI,dJ));});});};cB.DELAY=function(){U.$cctor();return U.DELAY;};cB.CheckCredentials=function(dI,dJ){var dK;return dI==="TestUser"&&dJ==="TestPass"?{$:1,$0:cC.New(dI,dJ)}:null;};cC.New=function(dI,dJ){return{Name:dI,Password:dJ};};cD.New=function(dI,dJ,dK,dL){return{ThreadId:dI,Title:dJ,ThreadAuthorName:dK,Posts:dL};};cE.New=function(dI,dJ,dK){return{PostId:dI,PostAuthorName:dJ,Content:dK};};cF.New=function(dI,dJ,dK,dL){return{Active:dI,Left:dJ,Middle:dK,Right:dL};};cG.New=function(dI,dJ){return{Active:dI,PosV:dJ};};cJ.$cctor=function(){cJ.$cctor=a.ignore;function dI(dJ,dK){var dL;dL=dJ.button;return dL===0?B.Set(bx.MouseBtnSt$1().Left,dK):dL===1?B.Set(bx.MouseBtnSt$1().Middle,dK):dL===2?B.Set(bx.MouseBtnSt$1().Right,dK):null;}cJ.MousePosSt=cG.New(false,B.Create$1([0,0]));cJ.MouseBtnSt=cF.New(false,B.Create$1(false),B.Create$1(false),B.Create$1(false));cJ.ActivateButtonListener=!bx.MouseBtnSt$1().Active?(bx.MouseBtnSt$1().Active=true,self.document.addEventListener("mousedown",function(dJ){return dI(dJ,true);},false),self.document.addEventListener("mouseup",function(dJ){return dI(dJ,false);},false)):null;cJ.KeyListenerState=ce.New(B.Create$1(I.Empty),false,B.Create$1(-1));cJ.ActivateKeyListener=!bx.KeyListenerState().KeyListenerActive?(dG(self.document).keydown(function(dJ){var dK,dL;dK=dJ.which;B.Set(bx.KeyListenerState().LastPressed,dK);dL=bx.KeyListenerState().KeysPressed.Get();return!f.exists(function(dM){return dM===dK;},dL)?bx.KeyListenerState().KeysPressed.Set(f.append(dL,f.ofArray([dK]))):null;}),void dG(self.document).keyup(function(dJ){var dK;function dL(dM){return dM!==dK;}dK=dJ.which;return B.Update(bx.KeyListenerState().KeysPressed,function(dM){return f.filter(dL,dM);});})):null;};cL.New=function(dI,dJ,dK,dL,dM){return{Node:dI,Left:dJ,Right:dK,Height:dL,Count:dM};};cM=bu.Pair=dF.Class({Equals:function(dI){return bd.Equals(this.Key,dI.Key);},GetHashCode:function(){return bd.Hash(this.Key);},CompareTo0:function(dI){return bd.Compare(this.Key,dI.Key);}},null,cM);cM.New=function(dI,dJ){return new cM({Key:dI,Value:dJ});};cO.New=function(dI,dJ,dK){return{c:dI,v:dJ,f:dK};};cP=c.DocElemNode=dF.Class({Equals:function(dI){return this.ElKey===dI.ElKey;},GetHashCode:function(){return this.ElKey;}},null,cP);cP.New=function(dI,dJ,dK,dL,dM,dN){var dO;return new cP((dO={Attr:dI,Children:dJ,El:dL,ElKey:dM},(dF.SetOptional(dO,"Delimiters",dK),dF.SetOptional(dO,"Render",dN),dO)));};cR=c.Elt=dF.Class({},_4,cR);cR.New=function(dI,dJ,dK){var dL,dM;dL=cp.CreateElemNode(dI,dJ,dK.docNode);dM=c$.Create(dK.updates);return new cR.New$1({$:1,$0:dL},bc.Map2Unit(bS.Updates(dL.Attr),dM.v),dI,dM);};cR.TreeNode=function(dI,dJ){var dK,dL;function dM(dN){return dN[1];}dK=c$.Create(dJ);return new cR.New$1({$:6,$0:dI},bc.Map2Unit((dL=J.map(function(dN){return bS.Updates(dM(dN));},dI.Attrs),bJ.TreeReduce(bc.Const(),bc.Map2Unit,dL)),dK.v),J.get(dI.Els,0),dK);};cR.New$1=dF.Ctor(function(dI,dJ,dK,dL){_4.New.call(this,dI,dJ);this.docNode$1=dI;this.updates$1=dJ;this.elt=dK;this.rvUpdates=dL;},cR);cS.ByLetter={$:0};cS.ByFrequency={$:1};cT.notPresent=function(){return C.FailWith("The given key was not present in the dictionary.");};cU.convertTextNode=function(dI){var dJ,dK,dL,dM,dN,dO;dJ=null;dK=0;dM=dI.textContent;dN=new a.RegExp($.TextHoleRE(),"g");while(dJ=dN.exec(dM),dJ!==null){dI.parentNode.insertBefore(self.document.createTextNode(ca.string(dM,{$:1,$0:dK},{$:1,$0:dN.lastIndex-J.get(dJ,0).length-1})),dI);dK=dN.lastIndex;dO=self.document.createElement("span");dO.setAttribute("ws-replace",J.get(dJ,1).toLowerCase());dI.parentNode.insertBefore(dO,dI);}dN.lastIndex=0;dI.textContent=ca.string(dM,{$:1,$0:dK},null);};cU.failNotLoaded=function(dI){dD.warn("Instantiating non-loaded template",dI);};cU.fillTextHole=function(dI,dJ,dK){var dL;dL=dI.querySelector("[ws-replace]");return bd.Equals(dL,null)?(dD.warn("Filling non-existent text hole",dK),null):(dL.parentNode.replaceChild(new a.Text(dJ),dL),{$:1,$0:dL.getAttribute("ws-replace")});};cU.removeHolesExcept=function(dI,dJ){function dK(dL){bR.IterSelector(dI,"["+dL+"]",function(dM){if(!dJ.Contains(dM.getAttribute(dL)))dM.removeAttribute(dL);});}dK("ws-attr");dK("ws-onafterrender");dK("ws-var");bR.IterSelector(dI,"[ws-hole]",function(dL){if(!dJ.Contains(dL.getAttribute("ws-hole"))){dL.removeAttribute("ws-hole");while(dL.hasChildNodes())dL.removeChild(dL.lastChild);}});bR.IterSelector(dI,"[ws-replace]",function(dL){if(!dJ.Contains(dL.getAttribute("ws-replace")))dL.parentNode.removeChild(dL);});bR.IterSelector(dI,"[ws-on]",function(dL){dL.setAttribute("ws-on",ch.concat(" ",J.filter(function(dM){return dJ.Contains(J.get(ch.SplitChars(dM,[":"],1),1));},ch.SplitChars(dL.getAttribute("ws-on"),[" "],1))));});bR.IterSelector(dI,"[ws-attr-holes]",function(dL){var dM,dN,dO,dP,dQ;dM=ch.SplitChars(dL.getAttribute("ws-attr-holes"),[" "],1);for(dN=0,dO=dM.length-1;dN<=dO;dN++){dP=J.get(dM,dN);dL.setAttribute(dP,(dQ=new a.RegExp($.TextHoleRE(),"g"),dL.getAttribute(dP).replace(dQ,function(dR,dS){return dJ.Contains(dS)?dR:"";})));}});};cU.fillInstanceAttrs=function(dI,dJ){var dK,dL,dM,dN,dO;cU.convertAttrs(dJ);dK=dJ.nodeName.toLowerCase();dL=dI.querySelector("[ws-attr="+dK+"]");if(bd.Equals(dL,null))dD.warn("Filling non-existent attr hole",dK);else{dL.removeAttribute("ws-attr");for(dM=0,dN=dJ.attributes.length-1;dM<=dN;dM++){dO=dJ.attributes.item(dM);dO.name==="class"&&dL.hasAttribute("class")?dL.setAttribute("class",dL.getAttribute("class")+" "+dO.nodeValue):dL.setAttribute(dO.name,dO.nodeValue);}}};cU.mapHoles=function(dI,dJ){function dK(dL){bR.IterSelector(dI,"["+dL+"]",function(dM){var dN,dO;dN=(dO=null,[dJ.TryGetValue(dM.getAttribute(dL).toLowerCase(),{get:function(){return dO;},set:function(dP){dO=dP;}}),dO]);dN[0]?dM.setAttribute(dL,dN[1]):void 0;});}dK("ws-hole");dK("ws-replace");dK("ws-attr");dK("ws-onafterrender");dK("ws-var");bR.IterSelector(dI,"[ws-on]",function(dL){dL.setAttribute("ws-on",ch.concat(" ",J.map(function(dM){var dN,dO,dP;dN=ch.SplitChars(dM,[":"],1);dO=(dP=null,[dJ.TryGetValue(J.get(dN,1),{get:function(){return dP;},set:function(dQ){dP=dQ;}}),dP]);return dO[0]?J.get(dN,0)+":"+dO[1]:dM;},ch.SplitChars(dL.getAttribute("ws-on"),[" "],1))));});bR.IterSelector(dI,"[ws-attr-holes]",function(dL){var dM,dN,dO;dM=ch.SplitChars(dL.getAttribute("ws-attr-holes"),[" "],1);for(dN=0,dO=dM.length-1;dN<=dO;dN++)(function(){var dP;function dQ(dR,dS){var dT;dT=C.KeyValue(dS);return dR.replace(new a.RegExp("\\${"+dT[0]+"}","ig"),"${"+dT[1]+"}");}dP=J.get(dM,dN);return dL.setAttribute(dP,(((dF.Curried3(bI.fold))(dQ))(dL.getAttribute(dP)))(dJ));}());});};cU.fill=function(dI,dJ,dK){while(true)if(dI.hasChildNodes())dK=dJ.insertBefore(dI.lastChild,dK);else return null;};cU.convertAttrs=function(dI){var dK,dL,dM,dN,dO,dP,dQ,dR;function dJ(dS){var dT;dT=dI.getAttribute(dS);dT===null?void 0:dI.setAttribute(dS,dT.toLowerCase());}dK=dI.attributes;dL=[];dM=[];dN=[];for(dO=0,dP=dK.length-1;dO<=dP;dO++){dQ=dK.item(dO);ch.StartsWith(dQ.nodeName,"ws-on")&&dQ.nodeName!=="ws-onafterrender"&&dQ.nodeName!=="ws-on"?(dL.push(dQ.nodeName),dM.push(ca.string(dQ.nodeName,{$:1,$0:"ws-on".length},null)+":"+dQ.nodeValue.toLowerCase())):!ch.StartsWith(dQ.nodeName,"ws-")&&(new a.RegExp($.TextHoleRE())).test(dQ.nodeValue)?(dQ.nodeValue=(dR=new a.RegExp($.TextHoleRE(),"g"),dQ.nodeValue.replace(dR,function(dS,dT){return"${"+dT.toLowerCase()+"}";})),dN.push(dQ.nodeName)):void 0;}!(dM.length==0)?dI.setAttribute("ws-on",ch.concat(" ",dM)):void 0;!(dN.length==0)?dI.setAttribute("ws-attr-holes",ch.concat(" ",dN)):void 0;dJ("ws-hole");dJ("ws-replace");dJ("ws-attr");dJ("ws-onafterrender");dJ("ws-var");J.iter(function(dS){dI.removeAttribute(dS);},dL);};bI.insufficient=function(){return C.FailWith("The input sequence has an insufficient number of elements.");};J.mapiInPlace=function(dI,dJ){var dK,dL;for(dK=0,dL=dJ.length-1;dK<=dL;dK++)dJ[dK]=dI(dK,dJ[dK]);return dJ;};J.mapInPlace=function(dI,dJ){var dK,dL;for(dK=0,dL=dJ.length-1;dK<=dL;dK++)dJ[dK]=dI(dJ[dK]);};cV=bu.KeyCollection=dF.Class({GetEnumerator$1:function(){return cj.Get(bI.map(function(dI){return dI.K;},this.d));},GetEnumerator:function(){return this.GetEnumerator$1();},GetEnumerator0:function(){return this.GetEnumerator$1();}},A,cV);cV.New=dF.Ctor(function(dI){A.New.call(this);this.d=dI;},cV);cW.BatchUpdatesEnabled=function(){df.$cctor();return df.BatchUpdatesEnabled;};cX.StartProcessor=function(dI){var dJ;function dK(){var dL;dL=null;return c6.Delay(function(){return c6.Bind(dI,function(){var dM;dM=dJ[0];return dM===1?(dJ[0]=0,c6.Zero()):dM===2?(dJ[0]=1,dK()):c6.Zero();});});}dJ=[0];return function(){var dL;dL=dJ[0];dL===0?(dJ[0]=1,c6.Start(dK(),null)):dL===1?dJ[0]=2:void 0;};};cY=c.CheckedInput=dF.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1;}},null,cY);cZ.New=function(dI){return{Items:dI};};c0.Create=function(dI,dJ){return c0.CreateWithStorage(dI,dg.InMemory(J.ofSeq(dJ)));};c0.CreateWithStorage=function(dI,dJ){return new c0.New(dI,dJ);};c1.Create=function(dI){var dJ;dJ=dh.Fresh();return c1.New(B.Create$1(false),dJ,dI);};c1.New=function(dI,dJ,dK){return{Done:dI,Key:dJ,TodoText:dK};};c2.input=function(dI){return _4.Input([be.Create("class","form-control")],dI);};c2.button=function(dI,dJ){return _4.Button(dI,[be.Create("class","btn btn-default")],dJ);};c0=c.ListModel=dF.Class({Remove:function(dI){var dJ,dK,dL,dM;dJ=this;dK=this["var"].Get();dr.Contains(dJ.key,dI,dK)?(dL=dJ.key,dM=dL(dI),this["var"].Set(this.storage.SRemoveIf(function(dN){return bd.Equals(dL(dN),dM);},dK)),this.ObsoleteKey(dM)):void 0;},Append:function(dI){var dJ,dK,dL,dM;dJ=this;dK=this["var"].Get();dL=this.key(dI);dM=J.tryFindIndex(function(dN){return bd.Equals(dJ.key(dN),dL);},dK);dM!=null&&dM.$==1?this["var"].Set(this.storage.SSetAt(dM.$0,dI,dK)):this["var"].Set(this.storage.SAppend(dI,dK));this.ObsoleteKey(dL);},ObsoleteKey:function(dI){var dJ,dK;dJ=(dK=null,[this.it.TryGetValue(dI,{get:function(){return dK;},set:function(dL){dK=dL;}}),dK]);dJ[0]?(bA.Obsolete(dJ[1]),this.it.Remove(dI)):void 0;},GetEnumerator:function(){return cj.Get(this["var"].Get());},GetEnumerator0:function(){return cj.Get0(this["var"].Get());}},A,c0);c0.New=dF.Ctor(function(dI,dJ){c0.New$3.call(this,dI,B.Create$1(J.ofSeq(bI.distinctBy(dI,dJ.SInit()))),dJ);},c0);c0.New$3=dF.Ctor(function(dI,dJ,dK){A.New.call(this);this.key=dI;this["var"]=dJ;this.storage=dK;this.v=bc.Map(function(dL){return dL.slice();},this["var"].get_View());this.it=new bQ.New$5();},c0);c3.Const=function(dI){return c3.Def(0,function(){return dI;});};c3.UseAnimations=function(){cy.$cctor();return cy.UseAnimations;};c3.Def=function(dI,dJ){return{Compute:dJ,Duration:dI};};c3.Actions=function(dI){return c3.ConcatActions(J.choose(function(dJ){return dJ.$==1?{$:1,$0:dJ.$0}:null;},_do.ToArray(dI.$0)));};c3.Finalize=function(dI){J.iter(function(dJ){if(dJ.$==0)dJ.$0();},_do.ToArray(dI.$0));};c3.ConcatActions=function(dI){var dJ,dK,dL,dM;dJ=bJ.ofSeqNonCopying(dI);dK=J.length(dJ);return dK===0?c3.Const():dK===1?J.get(dJ,0):(dL=bI.max(bI.map(function(dN){return dN.Duration;},dJ)),(dM=J.map(function(dN){return c3.Prolong(dL,dN);},dJ),c3.Def(dL,function(dN){J.iter(function(dO){dO.Compute(dN);},dM);})));};c3.List=function(dI){return dI.$0;};c3.Prolong=function(dI,dJ){var dK,dL,dM;dK=dJ.Compute;dL=dJ.Duration;dM=ck.Create(function(){return dJ.Compute(dJ.Duration);});return{Compute:function(dN){return dN>=dL?dM.f():dK(dN);},Duration:dI};};c4=c.AnimatedAttrNode=dF.Class({pushVisible:function(dI,dJ){this.visible={$:1,$0:dJ};this.dirty=true;(this.push(dI))(dJ);},sync:function(dI){var dJ;if(this.dirty){dJ=this.logical;dJ==null?void 0:(this.push(dI))(dJ.$0);this.visible=this.logical;this.dirty=false;}},NChanged:function(){return this.updates;},NGetExitAnim:function(dI){var dJ,dK;dJ=this;return bo.WhenDone(function(){dJ.dirty=true;dJ.visible=null;},(dK=this.visible,dK!=null&&dK.$==1?bo.Pack(bo.Map(function(dL){dJ.pushVisible(dI,dL);},br.AnimateExit(this.tr,dK.$0))):bo.get_Empty()));},NGetEnterAnim:function(dI){var dJ,dK,dL,dM,dN;dJ=this;return bo.WhenDone(function(){dJ.sync(dI);},(dK=this.visible,(dL=this.logical,dK!=null&&dK.$==1&&(dL!=null&&dL.$==1&&(this.dirty&&(dM=[dL.$0,dK.$0],true)))?bo.Pack(bo.Map(function(dO){dJ.pushVisible(dI,dO);},br.AnimateChange(this.tr,dM[1],dM[0]))):dK==null&&(dL!=null&&dL.$==1)?bo.Pack(bo.Map(function(dO){dJ.pushVisible(dI,dO);},br.AnimateEnter(this.tr,dL.$0))):bo.get_Empty())));},NGetChangeAnim:function(dI){var dJ,dK,dL,dM;dJ=this;return bo.WhenDone(function(){dJ.sync(dI);},(dK=this.visible,(dL=this.logical,dK!=null&&dK.$==1&&(dL!=null&&dL.$==1&&(this.dirty&&(dM=[dL.$0,dK.$0],true)))?bo.Pack(bo.Map(function(dN){dJ.pushVisible(dI,dN);},br.AnimateChange(this.tr,dM[1],dM[0]))):bo.get_Empty())));},NSync:a.ignore},A,c4);c4.New=dF.Ctor(function(dI,dJ,dK){var dL;dL=this;A.New.call(this);this.tr=dI;this.push=dK;this.logical=null;this.visible=null;this.dirty=true;this.updates=bc.Map(function(dM){dL.logical={$:1,$0:dM};dL.dirty=true;},dJ);},c4);cK.Build=function(dI,dJ,dK){var dL,dM,dN;return dK-dJ+1<=0?null:(dL=(dJ+dK)/2>>0,(dM=cK.Build(dI,dJ,dL-1),(dN=cK.Build(dI,dL+1,dK),cK.Branch(J.get(dI,dL),dM,dN))));};cK.OfSeq=function(dI){var dJ;dJ=J.ofSeq(bI.distinct(dI));J.sortInPlace(dJ);return cK.Build(dJ,0,dJ.length-1);};cK.Branch=function(dI,dJ,dK){var dL,dM;return cL.New(dI,dJ,dK,1+(dL=dJ==null?0:dJ.Height,(dM=dK==null?0:dK.Height,bd.Compare(dL,dM)===1?dL:dM)),1+(dJ==null?0:dJ.Count)+(dK==null?0:dK.Count));};cK.Add=function(dI,dJ){return cK.Put(function(dK,dL){return dL;},dI,dJ);};cK.TryFind=function(dI,dJ){var dK;dK=(cK.Lookup(dI,dJ))[0];return dK==null?null:{$:1,$0:dK.Node};};cK.Enumerate=function(dI,dJ){function dK(dL,dM){var dN;while(true)if(dL==null)return dM.$==1?{$:1,$0:[dM.$0[0],[dM.$0[1],dM.$1]]}:null;else if(dI){dN=dL;dL=dN.Right;dM=new I({$:1,$0:[dN.Node,dN.Left],$1:dM});}else{dN=dL;dL=dN.Left;dM=new I({$:1,$0:[dN.Node,dN.Right],$1:dM});}}return bI.unfold(function(dL){return dK(dL[0],dL[1]);},[dJ,I.Empty]);};cK.Put=function(dI,dJ,dK){var dL,dM;dL=cK.Lookup(dJ,dK);dM=dL[0];return dM==null?cK.Rebuild(dL[1],cK.Branch(dJ,null,null)):cK.Rebuild(dL[1],cK.Branch(dI(dM.Node,dJ),dM.Left,dM.Right));};cK.Lookup=function(dI,dJ){var dK,dL,dM,dN;dK=[];dL=dJ;dM=true;while(dM)if(dL==null)dM=false;else{dN=bd.Compare(dI,dL.Node);dN===0?dM=false:dN===1?(dK.unshift([true,dL.Node,dL.Left]),dL=dL.Right):(dK.unshift([false,dL.Node,dL.Right]),dL=dL.Left);}return[dL,dK];};cK.Rebuild=function(dI,dJ){var dK,dM,dN,dO,dP,dQ,dR,dS,dT,dU;function dL(dV){return dV==null?0:dV.Height;}dK=dJ;for(dM=0,dN=J.length(dI)-1;dM<=dN;dM++){dK=(dO=J.get(dI,dM),dO[0]?(dP=dO[1],(dQ=dO[2],dL(dK)>dL(dQ)+1?dL(dK.Left)===dL(dK.Right)+1?(dR=dK.Left,cK.Branch(dR.Node,cK.Branch(dP,dQ,dR.Left),cK.Branch(dK.Node,dR.Right,dK.Right))):cK.Branch(dK.Node,cK.Branch(dP,dQ,dK.Left),dK.Right):cK.Branch(dP,dQ,dK))):(dS=dO[1],(dT=dO[2],dL(dK)>dL(dT)+1?dL(dK.Right)===dL(dK.Left)+1?(dU=dK.Right,cK.Branch(dU.Node,cK.Branch(dK.Node,dK.Left,dU.Left),cK.Branch(dS,dU.Right,dT))):cK.Branch(dK.Node,dK.Left,cK.Branch(dS,dK.Right,dT)):cK.Branch(dS,dK,dT))));}return dK;};c5.Int=function(){c5.set_i(c5.i()+1);return c5.i();};c5.set_i=function(dI){U.$cctor();U.i=dI;};c5.i=function(){U.$cctor();return U.i;};c6.Delay=function(dI){return function(dJ){try{(dI(null))(dJ);}catch(dK){dJ.k({$:1,$0:dK});}};};c6.Bind=function(dI,dJ){return c6.checkCancel(function(dK){dI(di.New(function(dL){var dM;if(dL.$==0){dM=dL.$0;c6.scheduler().Fork(function(){try{(dJ(dM))(dK);}catch(dN){dK.k({$:1,$0:dN});}});}else c6.scheduler().Fork(function(){dK.k(dL);});},dK.ct));});};c6.Return=function(dI){return function(dJ){dJ.k({$:0,$0:dI});};};c6.Start=function(dI,dJ){var dK,dL;dK=(dL=(c6.defCTS())[0],dJ==null?dL:dJ.$0);c6.scheduler().Fork(function(){if(!dK.c)dI(di.New(function(dM){if(dM.$==1)c6.UncaughtAsyncError(dM.$0);},dK));});};c6.Zero=function(){dl.$cctor();return dl.Zero;};c6.FromContinuations=function(dI){return function(dJ){var dK;function dL(dM){if(dK[0])C.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{dK[0]=true;c6.scheduler().Fork(dM);}}dK=[false];dI(function(dM){dL(function(){dJ.k({$:0,$0:dM});});},function(dM){dL(function(){dJ.k({$:1,$0:dM});});},function(dM){dL(function(){dJ.k({$:2,$0:dM});});});};};c6.checkCancel=function(dI){return function(dJ){if(dJ.ct.c)c6.cancel(dJ);else dI(dJ);};};c6.defCTS=function(){dl.$cctor();return dl.defCTS;};c6.UncaughtAsyncError=function(dI){dD.log("WebSharper: Uncaught asynchronous exception",dI);};c6.Sleep=function(dI){return function(dJ){var dK,dL;dK=void 0;dL=void 0;dK=a.setTimeout(function(){dL.Dispose();c6.scheduler().Fork(function(){dJ.k({$:0,$0:null});});},dI);dL=c6.Register(dJ.ct,function(){a.clearTimeout(dK);c6.scheduler().Fork(function(){c6.cancel(dJ);});});};};c6.cancel=function(dI){dI.k({$:2,$0:new dw.New(dI.ct)});};c6.scheduler=function(){dl.$cctor();return dl.scheduler;};c6.Register=function(dI,dJ){var dK;return dI===c6.noneCT()?{Dispose:function(){return null;}}:(dK=dI.r.push(dJ)-1,{Dispose:function(){return J.set(dI.r,dK,a.ignore);}});};c6.StartWithContinuations=function(dI,dJ,dK,dL,dM){var dN,dO;dN=(dO=(c6.defCTS())[0],dM==null?dO:dM.$0);!dN.c?dI(di.New(function(dP){if(dP.$==1)dK(dP.$0);else if(dP.$==2)dL(dP.$0);else dJ(dP.$0);},dN)):void 0;};c6.noneCT=function(){dl.$cctor();return dl.noneCT;};c7.$cctor=function(){c7.$cctor=a.ignore;c7.counter=0;};c8.WriteLink=function(dI,dJ){var dK;dK=dJ.get_IsEmpty()?"":"?"+c8.WriteQuery(dJ);return"/"+c8.Concat(dI)+dK;};c8.Concat=function(dI){var dJ,dK;dJ=[];dK=true;f.iter(function(dL){if(!ch.IsNullOrEmpty(dL)){dK?dK=false:dJ.push("/");dJ.push(dL);}},dI);return ch.Join("",J.ofSeq(dJ));};c8.WriteQuery=function(dI){function dJ(dK,dL){return dK+"="+dL;}return ch.concat("&",bI.map(function(dK){return dJ(dK[0],dK[1]);},bv.ToSeq(dI)));};c_.New=function(dI,dJ,dK,dL){var dM;dM={DynElem:dI,DynFlags:dJ,DynNodes:dK};dF.SetOptional(dM,"OnAfterRender",dL);return dM;};c$=c.Updates=dF.Class({},null,c$);c$.Create=function(dI){var dJ;dJ=null;dJ=c$.New(dI,null,function(){var dK;dK=dJ.s;return dK===null?(dK=bA.Copy(dJ.c()),dJ.s=dK,bA.WhenObsoleteRun(dK,function(){dJ.s=null;}),dK):dK;});return dJ;};c$.New=function(dI,dJ,dK){return new c$({c:dI,s:dJ,v:dK});};da.New=function(dI,dJ,dK,dL,dM){return{Label:dI,Value:dJ,Rank:dK,MaxValue:dL,NumData:dM};};db.New=function(dI,dJ){return{DataLabel:dI,DataValue:dJ};};dd.New=function(dI,dJ){return{PreviousNodes:dI,Top:dJ};};de.get_Empty=function(){return{$:0,$0:new cn.New$3()};};de.FindAll=function(dI){var dJ;function dK(dM){if(dM!=null&&dM.$==0){dK(dM.$0);dK(dM.$1);}else if(dM!=null&&dM.$==1)dL(dM.$0);else if(dM!=null&&dM.$==2)dK(dM.$0.Current);else if(dM!=null&&dM.$==6)J.iter(dL,dM.$0.Holes);}function dL(dM){dJ.push(dM);dK(dM.Children);}dJ=[];dK(dI);return{$:0,$0:new cn.New$2(dJ)};};de.Filter=function(dI,dJ){return{$:0,$0:dv.Filter(dI,dJ.$0)};};de.Except=function(dI,dJ){return{$:0,$0:dv.Except(dI.$0,dJ.$0)};};de.ToArray=function(dI){return dv.ToArray(dI.$0);};de.Intersect=function(dI,dJ){return{$:0,$0:dv.Intersect(dI.$0,dJ.$0)};};df.$cctor=function(){df.$cctor=a.ignore;df.BatchUpdatesEnabled=true;};dg.InMemory=function(dI){return new dq.New(dI);};dh.Fresh=function(){return{$:0,$0:cg.Int()};};di.New=function(dI,dJ){return{k:dI,ct:dJ};};dj.New=function(dI,dJ){return{c:dI,r:dJ};};dk=c.DynamicAttrNode=dF.Class({NChanged:function(){return this.updates;},NGetExitAnim:function(dI){return bo.get_Empty();},NGetEnterAnim:function(dI){return bo.get_Empty();},NGetChangeAnim:function(dI){return bo.get_Empty();},NSync:function(dI){if(this.dirty){(this.push(dI))(this.value);this.dirty=false;}}},A,dk);dk.New=dF.Ctor(function(dI,dJ){var dK;dK=this;A.New.call(this);this.push=dJ;this.value=void 0;this.dirty=false;this.updates=bc.Map(function(dL){dK.value=dL;dK.dirty=true;},dI);},dk);dl.$cctor=function(){dl.$cctor=a.ignore;dl.noneCT=dj.New(false,[]);dl.scheduler=new ds.New();dl.defCTS=[new dt.New()];dl.Zero=c6.Return();dl.GetCT=function(dI){dI.k({$:0,$0:dI.ct});};};dn=b.FormatException=dF.Class({},dm,dn);dn.New=dF.Ctor(function(){dn.New$1.call(this,"One of the identified items was in an invalid format.");},dn);dn.New$1=dF.Ctor(function(dI){this.message=dI;cl.setPrototypeOf(this,dn.prototype);},dn);_do.Append=function(dI,dJ){return dI.$==0?dJ:dJ.$==0?dI:{$:2,$0:dI,$1:dJ};};_do.ToArray=function(dI){var dJ;function dK(dL){if(dL.$==1)dJ.push(dL.$0);else if(dL.$==2){dK(dL.$0);dK(dL.$1);}else if(dL.$==3)J.iter(function(dM){dJ.push(dM);},dL.$0);}dJ=[];dK(dI);return dJ.slice(0);};_do.Concat=function(dI){var dJ;dJ=bJ.ofSeqNonCopying(dI);return bJ.TreeReduce(_do.Empty(),_do.Append,dJ);};_do.Empty=function(){dy.$cctor();return dy.Empty;};_do.Single=function(dI){return{$:1,$0:dI};};dp.Clear=function(dI){dI.splice(0,J.length(dI));};dq=dg.ArrayStorage=dF.Class({SRemoveIf:function(dI,dJ){return J.filter(function(dK){return!dI(dK);},dJ);},SSetAt:function(dI,dJ,dK){J.set(dK,dI,dJ);return dK;},SAppend:function(dI,dJ){dJ.push(dI);return dJ;},SInit:function(){return this.init;}},A,dq);dq.New=dF.Ctor(function(dI){A.New.call(this);this.init=dI;},dq);dr.Contains=function(dI,dJ,dK){var dL;dL=dI(dJ);return J.exists(function(dM){return bd.Equals(dI(dM),dL);},dK);};ds=c6.Scheduler=dF.Class({Fork:function(dI){var dJ;dJ=this;this.robin.push(dI);this.idle?(this.idle=false,a.setTimeout(function(){dJ.tick();},0)):void 0;},tick:function(){var dI,dJ,dK;dJ=this;dK=dH.now();dI=true;while(dI)if(this.robin.length===0){this.idle=true;dI=false;}else{(this.robin.shift())();dH.now()-dK>40?(a.setTimeout(function(){dJ.tick();},0),dI=false):void 0;}}},A,ds);ds.New=dF.Ctor(function(){A.New.call(this);this.idle=true;this.robin=[];},ds);dt=b.CancellationTokenSource=dF.Class({},A,dt);dt.New=dF.Ctor(function(){A.New.call(this);this.c=false;this.pending=null;this.r=[];this.init=1;},dt);du.concat=function(dI){var dJ,dK;dJ=[];for(var dL in dI)dJ.push.apply(dJ,dI[dL]);return dJ;};dv.Filter=function(dI,dJ){return new cn.New$2(J.filter(dI,dv.ToArray(dJ)));};dv.Except=function(dI,dJ){var dK;dK=new cn.New$2(dv.ToArray(dJ));dK.ExceptWith(dv.ToArray(dI));return dK;};dv.ToArray=function(dI){var dJ;dJ=J.create(dI.get_Count(),void 0);dI.CopyTo(dJ);return dJ;};dv.Intersect=function(dI,dJ){var dK;dK=new cn.New$2(dv.ToArray(dI));dK.IntersectWith(dv.ToArray(dJ));return dK;};dw=b.OperationCanceledException=dF.Class({},dm,dw);dw.New=dF.Ctor(function(dI){dw.New$1.call(this,"The operation was canceled.",null,dI);},dw);dw.New$1=dF.Ctor(function(dI,dJ,dK){this.message=dI;this.inner=dJ;cl.setPrototypeOf(this,dw.prototype);this.ct=dK;},dw);dx.Children=function(dI,dJ){var dK,dL,dM;if(dJ!=null&&dJ.$==1){dM=[];dK=dJ.$0[0].nextSibling;while(dK!==dJ.$0[1]){dM.push(dK);dK=dK.nextSibling;}return{$:0,$0:dM};}else return{$:0,$0:J.init(dI.childNodes.length,(dL=dI.childNodes,function(dN){return dL[dN];}))};};dx.Except=function(dI,dJ){var dK;dK=dI.$0;return{$:0,$0:J.filter(function(dL){return J.forall(function(dM){return!(dL===dM);},dK);},dJ.$0)};};dx.Iter=function(dI,dJ){J.iter(dI,dJ.$0);};dx.DocChildren=function(dI){var dJ;function dK(dL){if(dL!=null&&dL.$==2)dK(dL.$0.Current);else if(dL!=null&&dL.$==1)dJ.push(dL.$0.El);else if(dL==null);else if(dL!=null&&dL.$==5)dJ.push(dL.$0);else if(dL!=null&&dL.$==4)dJ.push(dL.$0.Text);else if(dL!=null&&dL.$==6)J.iter(function(dM){if(dM==null||dM.constructor===cl)dK(dM);else dJ.push(dM);},dL.$0.Els);else{dK(dL.$0);dK(dL.$1);}}dJ=[];dK(dI.Children);return{$:0,$0:bJ.ofSeqNonCopying(dJ)};};dy.$cctor=function(){dy.$cctor=a.ignore;dy.Empty={$:0};};dz.isBlank=function(dI){return ch.forall(dA.IsWhiteSpace,dI);};dA.IsWhiteSpace=function(dI){return dI.match(new a.RegExp("\\s"))!==null;};cx.TryParse=function(dI,dJ,dK,dL){var dM,dN;dM=+dI;dN=dM===dM-dM%1&&dM>=dJ&&dM<=dK;dN?dL.set(dM):void 0;return dN;};dF.OnLoad(function(){d.Main();});}());


if (typeof IntelliFactory !=='undefined') {
  IntelliFactory.Runtime.ScriptBasePath = '/Content/';
  IntelliFactory.Runtime.Start();
}
