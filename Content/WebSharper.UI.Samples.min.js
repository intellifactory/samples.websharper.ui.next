function ignore(){}function id(n){return n}function fst(n){return n[0]}function snd(n){return n[1]}function trd(n){return n[2]}IntelliFactory={Runtime:{Ctor:function(n,t){return n.prototype=t.prototype,n},Class:function(n,t,i){var u=n,f,r,e;if(t){u=new t;for(f in n)u[f]=n[f]}if(r=function(n){if(n)for(var t in n)this[t]=n[t]},r.prototype=u,i)for(e in i)r[e]=i[e];return r},Clone:function(n){var t={};for(var i in n)t[i]=n[i];return t},NewObject:function(n){for(var i={},t=0;t<n.length;t++)i[n[t][0]]=n[t][1];return i},DeleteEmptyFields:function(n,t){for(var r,i=0;i<t.length;i++)r=t[i],n[r]===void 0&&delete n[r];return n},GetOptional:function(n){return n===void 0?null:{$:1,$0:n}},SetOptional:function(n,t,i){i?n[t]=i.$0:delete n[t]},SetOrDelete:function(n,t,i){i===void 0?delete n[t]:n[t]=i},Apply:function(n,t,i){return n.apply(t,i)},Bind:function(n){return function(){return n.apply(this,arguments)}},CreateFuncWithArgs:function(n){return function(){return n(Array.prototype.slice.call(arguments))}},CreateFuncWithOnlyThis:function(n){return function(){return n(this)}},CreateFuncWithThis:function(n){return function(){return n(this).apply(null,arguments)}},CreateFuncWithThisArgs:function(n){return function(){return n(this)(Array.prototype.slice.call(arguments))}},CreateFuncWithRest:function(n,t){return function(){return t(Array.prototype.slice.call(arguments,0,n).concat([Array.prototype.slice.call(arguments,n)]))}},CreateFuncWithArgsRest:function(n,t){return function(){return t([Array.prototype.slice.call(arguments,0,n),Array.prototype.slice.call(arguments,n)])}},BindDelegate:function(n,t){var i=n.bind(t);return i.$Func=n,i.$Target=t,i},CreateDelegate:function(n){if(n.length==0)return null;if(n.length==1)return n[0];var t=function(){for(var i,t=0;t<n.length;t++)i=n[t].apply(null,arguments);return i};return t.$Invokes=n,t},CombineDelegates:function(n){for(var t,i=[],r=0;r<n.length;r++)t=n[r],t&&("$Invokes"in t?i=i.concat(t.$Invokes):i.push(t));return IntelliFactory.Runtime.CreateDelegate(i)},DelegateEqual:function(n,t){var f,e,i,r,u;if(n===t)return!0;if(n==null||t==null||(f=n.$Invokes||[n],e=t.$Invokes||[t],f.length!=e.length))return!1;for(i=0;i<f.length;i++)if(r=f[i],u=e[i],!(r===u||"$Func"in r&&"$Func"in u&&r.$Func===u.$Func&&r.$Target==u.$Target))return!1;return!0},ThisFunc:function(n){return function(){var t=Array.prototype.slice.call(arguments);return t.unshift(this),n.apply(null,t)}},ThisFuncOut:function(n){return function(){var t=Array.prototype.slice.call(arguments);return n.apply(t.shift(),t)}},ParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat([i.slice(n)]))}},ParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(null,i.slice(0,n).concat(i[n]))}},ThisParamsFunc:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return i.unshift(this),t.apply(null,i.slice(0,n+1).concat([i.slice(n+1)]))}},ThisParamsFuncOut:function(n,t){return function(){var i=Array.prototype.slice.call(arguments);return t.apply(i.shift(),i.slice(0,n).concat(i[n]))}},Curried:function(n,t,i){return i=i||[],function(r){var u=i.concat([r===void 0?null:r]);return t==1?n.apply(null,u):t==2?function(t){return n.apply(null,u.concat([t===void 0?null:t]))}:IntelliFactory.Runtime.Curried(n,t-1,u)}},Curried2:function(n){return function(t){return function(i){return n(t,i)}}},Curried3:function(n){return function(t){return function(i){return function(r){return n(t,i,r)}}}},UnionByType:function(n,t,i){for(var u,f=typeof t,r=0;r<n.length;r++)if(u=n[r],typeof u=="number"){if(Array.isArray(t)&&(u==0||t.length==u))return{$:r,$0:t}}else if(u==f)return{$:r,$0:t};if(!i)throw new Error("Type not expected for creating Choice value.");},OnLoad:function(n){"load"in this||(this.load=[]);this.load.push(n)},Start:function(){function n(n){for(var t=0;t<n.length;t++)n[t]()}"load"in this&&(n(this.load),this.load=[])}}};IntelliFactory.Runtime.OnLoad(function(){window.WebSharper&&WebSharper.Activator&&WebSharper.Activator.Activate&&WebSharper.Activator.Activate()});Date.now||(Date.now=function(){return(new Date).getTime()});Math.trunc||(Math.trunc=function(n){return n<0?Math.ceil(n):Math.floor(n)});console||(console={count:ignore,dir:ignore,error:ignore,group:ignore,groupEnd:ignore,info:ignore,log:ignore,profile:ignore,profileEnd:ignore,time:ignore,timeEnd:ignore,trace:ignore,warn:ignore});
(function(){for(var i=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n){var t=(new Date).getTime(),r=Math.max(0,16-(t-i)),u=window.setTimeout(function(){n(t+r)},r);return i=t+r,u});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})})();
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG,bH,bI,bJ,bK,bL,bM,bN,bO,bP,bQ,bR,bS,bT,bU,bV,bW,bX,bY,bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8,b9,b_,b$,ca,cb,cc,cd,ce,cf,cg,ch,ci,cj,ck,cl,cm,cn,co,cp,cq,cr,cs,ct,cu,cv,cw,cx,cy,cz,cA,cB,cC,cD,cE,cF,cG,cH,cI,cJ,cK,cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU,cV,cW,cX,cY,cZ,c0,c1,c2,c3,c4,c5,c6,c7,c8,c9,c_,c$,da,db,dc,dd,de,df,dg,dh,di,dj,dk,dl,dm,dn,_do,dp,dq,dr,ds,dt,du,dv,dw,dx;a=window;b=a.WebSharper=a.WebSharper||{};c=b.UI=b.UI||{};d=c.Client=c.Client||{};e=c.Site=c.Site||{};f=b.List=b.List||{};g=c.SimpleTextBox=c.SimpleTextBox||{};h=c.InputTransform=c.InputTransform||{};i=c.InputTransformHtml=c.InputTransformHtml||{};j=c.TodoList=c.TodoList||{};k=c.PhoneExample=c.PhoneExample||{};l=c.EditablePersonList=c.EditablePersonList||{};m=c.CheckBoxTest=c.CheckBoxTest||{};n=c.Calculator=c.Calculator||{};o=c.ContactFlow=c.ContactFlow||{};p=c.AnimatedContactFlow=c.AnimatedContactFlow||{};q=c.MessageBoard=c.MessageBoard||{};r=c.BobsleighSite=c.BobsleighSite||{};s=c.RoutedBobsleighSite=c.RoutedBobsleighSite||{};t=c.AnimatedBobsleighSite=c.AnimatedBobsleighSite||{};u=c.ObjectConstancy=c.ObjectConstancy||{};v=c.MouseInfo=c.MouseInfo||{};w=c.KeyboardInfo=c.KeyboardInfo||{};x=c.Samples=c.Samples||{};y=x.BobsleighSitePage=x.BobsleighSitePage||{};z=x.SampleTy=x.SampleTy||{};A=x.PageTy=x.PageTy||{};B=a.WebSharper$UI$Samples_Router=a.WebSharper$UI$Samples_Router||{};C=a.WebSharper$UI$Samples_Templates=a.WebSharper$UI$Samples_Templates||{};D=c.Router=c.Router||{};E=c.Var=c.Var||{};F=b.Operators=b.Operators||{};G=b.Obj=b.Obj||{};H=f.T=f.T||{};I=b.Arrays=b.Arrays||{};J=a.StartupCode$WebSharper_UI_Samples$SimpleTextBox=a.StartupCode$WebSharper_UI_Samples$SimpleTextBox||{};K=a.StartupCode$WebSharper_UI_Samples$InputTransform=a.StartupCode$WebSharper_UI_Samples$InputTransform||{};L=a.StartupCode$WebSharper_UI_Samples$InputTransformHtml=a.StartupCode$WebSharper_UI_Samples$InputTransformHtml||{};M=a.StartupCode$WebSharper_UI_Samples$TodoList=a.StartupCode$WebSharper_UI_Samples$TodoList||{};N=a.StartupCode$WebSharper_UI_Samples$PhoneExample=a.StartupCode$WebSharper_UI_Samples$PhoneExample||{};O=a.StartupCode$WebSharper_UI_Samples$EditablePersonList=a.StartupCode$WebSharper_UI_Samples$EditablePersonList||{};P=a.StartupCode$WebSharper_UI_Samples$CheckBoxTest=a.StartupCode$WebSharper_UI_Samples$CheckBoxTest||{};Q=a.StartupCode$WebSharper_UI_Samples$Calculator=a.StartupCode$WebSharper_UI_Samples$Calculator||{};R=a.StartupCode$WebSharper_UI_Samples$ContactFlow=a.StartupCode$WebSharper_UI_Samples$ContactFlow||{};S=a.StartupCode$WebSharper_UI_Samples$AnimatedContactFlow=a.StartupCode$WebSharper_UI_Samples$AnimatedContactFlow||{};T=a.StartupCode$WebSharper_UI_Samples$MessageBoard=a.StartupCode$WebSharper_UI_Samples$MessageBoard||{};U=a.StartupCode$WebSharper_UI_Samples$BobsleighSite=a.StartupCode$WebSharper_UI_Samples$BobsleighSite||{};V=a.StartupCode$WebSharper_UI_Samples$RoutedBobsleighSite=a.StartupCode$WebSharper_UI_Samples$RoutedBobsleighSite||{};W=a.StartupCode$WebSharper_UI_Samples$AnimatedBobsleighSite=a.StartupCode$WebSharper_UI_Samples$AnimatedBobsleighSite||{};X=a.StartupCode$WebSharper_UI_Samples$ObjectConstancy=a.StartupCode$WebSharper_UI_Samples$ObjectConstancy||{};Y=a.StartupCode$WebSharper_UI_Samples$MouseInfo=a.StartupCode$WebSharper_UI_Samples$MouseInfo||{};Z=a.StartupCode$WebSharper_UI_Samples$KeyboardInfo=a.StartupCode$WebSharper_UI_Samples$KeyboardInfo||{};_0=b.Sitelets=b.Sitelets||{};_1=_0.RouterOperators=_0.RouterOperators||{};_2=_0.Route=_0.Route||{};_3=_0.RouterModule=_0.RouterModule||{};_4=c.Doc=c.Doc||{};_5=e.AboutEntry=e.AboutEntry||{};_6=c.Utilities=c.Utilities||{};_7=c.HtmlModule=c.HtmlModule||{};_8=_7.attr=_7.attr||{};_9=x.Sample=x.Sample||{};_=c.SortableBarChart=c.SortableBarChart||{};$=b.JavaScript=b.JavaScript||{};ba=$.Pervasives=$.Pervasives||{};bb=c.View=c.View||{};bc=b.Unchecked=b.Unchecked||{};bd=c.AttrProxy=c.AttrProxy||{};be=x.Builder=x.Builder||{};bf=l.Person=l.Person||{};bg=m.Person=m.Person||{};bh=n.Calculator=n.Calculator||{};bi=n.Op=n.Op||{};bj=c.Flow=c.Flow||{};bk=o.Person=o.Person||{};bl=o.ContactType=o.ContactType||{};bm=c.Interpolation=c.Interpolation||{};bn=c.Easing=c.Easing||{};bo=c.An=c.An||{};bp=c.Trans=c.Trans||{};bq=p.Person=p.Person||{};br=p.ContactType=p.ContactType||{};bs=b.Collections=b.Collections||{};bt=bs.Map=bs.Map||{};bu=t.Page=t.Page||{};bv=c.Input=c.Input||{};bw=bv.Keyboard=bv.Keyboard||{};bx=b.Seq=b.Seq||{};by=$.JSModule=$.JSModule||{};bz=_0.Router=_0.Router||{};bA=_0.List=_0.List||{};bB=a.EventTarget;bC=b.Utils=b.Utils||{};bD=c.ConcreteVar=c.ConcreteVar||{};bE=c.Snap=c.Snap||{};bF=a.Node;bG=c.AttrModule=c.AttrModule||{};bH=a.StartupCode$WebSharper_UI_Samples$Samples=a.StartupCode$WebSharper_UI_Samples$Samples||{};bI=a.StartupCode$WebSharper_UI_Samples$Site=a.StartupCode$WebSharper_UI_Samples$Site||{};bJ=c.SiteCommon=c.SiteCommon||{};bK=bJ.Meta=bJ.Meta||{};bL=a.StartupCode$WebSharper_UI_Samples$SortableBarChart=a.StartupCode$WebSharper_UI_Samples$SortableBarChart||{};bM=c.DomUtility=c.DomUtility||{};bN=c.Attrs=c.Attrs||{};bO=a.System=a.System||{};bP=bO.Guid=bO.Guid||{};bQ=c.Templating=c.Templating||{};bR=bQ.Runtime=bQ.Runtime||{};bS=bR.Server=bR.Server||{};bT=bS.TemplateInstance=bS.TemplateInstance||{};bU=bS.Handler=bS.Handler||{};bV=k.Phone=k.Phone||{};bW=m.Restaurant=m.Restaurant||{};bX=c.FlowBuilder=c.FlowBuilder||{};bY=c.DoubleInterpolation=c.DoubleInterpolation||{};bZ=c.Easings=c.Easings||{};b0=bs.FSharpMap=bs.FSharpMap||{};b1=q.Action=q.Action||{};b2=q.Auth=q.Auth||{};b3=q.State=q.State||{};b4=b2.Component=b2.Component||{};b5=r.Context=r.Context||{};b6=t.Context=t.Context||{};b7=b.Slice=b.Slice||{};b8=u.DataSet=u.DataSet||{};b9=u.StateView=u.StateView||{};b_=bv.Mouse=bv.Mouse||{};b$=bv.KeyListenerSt=bv.KeyListenerSt||{};ca=b.Enumerator=b.Enumerator||{};cb=a.Object;cc=ca.T=ca.T||{};cd=b.Lazy=b.Lazy||{};ce=b.Strings=b.Strings||{};cf=c.Abbrev=c.Abbrev||{};cg=cf.Fresh=cf.Fresh||{};ch=cf.Async=cf.Async||{};ci=c.Array=c.Array||{};cj=a.StartupCode$WebSharper_UI$DomUtility=a.StartupCode$WebSharper_UI$DomUtility||{};ck=c.Docs=c.Docs||{};cl=a.StartupCode$WebSharper_UI$Attr_Client=a.StartupCode$WebSharper_UI$Attr_Client||{};cm=bs.Dictionary=bs.Dictionary||{};cn=bs.HashSet=bs.HashSet||{};co=bR.Client=bR.Client||{};cp=k.Order=k.Order||{};cq=b.Numeric=b.Numeric||{};cr=a.StartupCode$WebSharper_UI$Animation=a.StartupCode$WebSharper_UI$Animation||{};cs=bs.MapUtil=bs.MapUtil||{};ct=c.Common=c.Common||{};cu=ct.User=ct.User||{};cv=c.Server=c.Server||{};cw=ct.Thread=ct.Thread||{};cx=ct.Post=ct.Post||{};cy=bv.MousePosSt=bv.MousePosSt||{};cz=a.Event;cA=a.UIEvent;cB=bv.MouseBtnSt=bv.MouseBtnSt||{};cC=a.StartupCode$WebSharper_UI$Input=a.StartupCode$WebSharper_UI$Input||{};cD=bs.BalancedTree=bs.BalancedTree||{};cE=cD.Tree=cD.Tree||{};cF=bs.Pair=bs.Pair||{};cG=b.LazyExtensionsProxy=b.LazyExtensionsProxy||{};cH=cG.LazyRecord=cG.LazyRecord||{};cI=c.DocElemNode=c.DocElemNode||{};cJ=a.CharacterData;cK=c.Elt=c.Elt||{};cL=_.Ordering=_.Ordering||{};cM=d.Settings=d.Settings||{};cN=cf.Mailbox=cf.Mailbox||{};cO=bs.DictionaryUtil=bs.DictionaryUtil||{};cP=j.Model=j.Model||{};cQ=j.TodoItem=j.TodoItem||{};cR=c.ListModel=c.ListModel||{};cS=j.Util=j.Util||{};cT=c.Anims=c.Anims||{};cU=c.AnimatedAttrNode=c.AnimatedAttrNode||{};cV=ct.Fresh=ct.Fresh||{};cW=b.Concurrency=b.Concurrency||{};cX=a.StartupCode$WebSharper_UI$Abbrev=a.StartupCode$WebSharper_UI$Abbrev||{};cY=_0.PathUtil=_0.PathUtil||{};cZ=d.Attrs=d.Attrs||{};c0=cZ.Dyn=cZ.Dyn||{};c1=c.Updates=c.Updates||{};c2=_.DataEntry=_.DataEntry||{};c3=_.DataView=_.DataView||{};c4=a.StartupCode$WebSharper_UI$Doc_Client=a.StartupCode$WebSharper_UI$Doc_Client||{};c5=d.Docs=d.Docs||{};c6=c5.RunState=c5.RunState||{};c7=c5.NodeSet=c5.NodeSet||{};c8=c.Key=c.Key||{};c9=c.Storage=c.Storage||{};c_=cW.AsyncBody=cW.AsyncBody||{};c$=cW.CT=cW.CT||{};da=c.DynamicAttrNode=c.DynamicAttrNode||{};db=a.StartupCode$WebSharper_Main$Concurrency=a.StartupCode$WebSharper_Main$Concurrency||{};dc=b.FormatException=b.FormatException||{};dd=c.AppendList=c.AppendList||{};de=b.Queue=b.Queue||{};df=c9.ArrayStorage=c9.ArrayStorage||{};dg=c.ListModels=c.ListModels||{};dh=cW.Scheduler=cW.Scheduler||{};di=b.CancellationTokenSource=b.CancellationTokenSource||{};dj=bs.HashSetUtil=bs.HashSetUtil||{};dk=cf.HashSet=cf.HashSet||{};dl=b.OperationCanceledException=b.OperationCanceledException||{};dm=c5.DomNodes=c5.DomNodes||{};dn=c.CheckedInput=c.CheckedInput||{};_do=a.StartupCode$WebSharper_UI$AppendList=a.StartupCode$WebSharper_UI$AppendList||{};dp=c.String=c.String||{};dq=b.Char=b.Char||{};dr=a.Math;ds=a.String;dt=a.jQuery;du=a.console;dv=a.IntelliFactory;dw=dv&&dv.Runtime;dx=a.Date;d.Main=function(){e.Main(f.ofArray([g.Sample(),h.Sample(),i.Sample(),j.Sample(),k.Sample(),l.Sample(),m.Sample(),n.Sample(),o.Sample(),p.Sample(),q.Sample(),r.Sample(),s.Sample(),t.Sample(),u.Sample(),v.Sample(),w.Sample()]));};e.Main=function(dy){var dz;function dA(dB){E.Set(dz,dB);}dz=D.InstallHash(A.Home,B.r$2());_4.RunById("main",_4.BindView(function(dB){return dB.$==1?e.AboutPage(dA):dB.$==2?((e.RenderSample(dB.$0))(dz))(dy):e.HomePage(dA);},dz.get_View()));_4.RunById("navigation",e.NavBar(dz));};e.AboutPage=function(dy){function dz(dD){return _4.Concat([_4.Element("h1",[],[_4.TextNode(dD.Name)]),_4.Element("p",[_6.cls("lead")],[_4.TextNode(dD.Description)]),_4.Element("p",[],[_4.Element("ul",[_6.cls("list-unstyled")],f.map(function(dE){return _4.Element("li",[],[dE]);},dD.URLs))])]);}function dA(dD){return _4.Element("section",[_6.cls("block-large")],[_6.divc("container",[_6.divc("row",[_6.divc("col-lg-3",[_4.Element("img",[bd.Create("src",dD.ImgURL),_6.sty("width","100%")],[])]),_6.divc("col-lg-1",[]),_6.divc("col-lg-8",[dz(dD)])])])]);}function dB(dD){return _4.Element("section",[_6.cls("block-large"),_6.cls("bg-alt")],[_6.divc("container",[_6.divc("row",[_6.divc("col-lg-8",[dz(dD)]),_6.divc("col-lg-1",[]),_6.divc("col-lg-3",[_4.Element("img",[bd.Create("src",dD.ImgURL),_6.sty("width","100%")],[])])])])]);}function dC(dD){return _4.Element("span",[_6.cls("fa"),_6.cls(dD),_6.cls("fa-3x"),_6.sty("font-size","400%"),_6.sty("color","#aaa")],[]);}return _6.divc("extensions",[_6.divc("container",[_4.Element("section",[_6.cls("block-huge")],[_4.Element("h1",[],[_4.TextNode("WebSharper UI: "),_4.Element("span",[_6.cls("text-muted")],[_4.TextNode("Everything you need to know.")])]),_4.Element("p",[_6.cls("lead")],[_4.TextNode("A selection of resources about UI.")])])]),_6.divc("block-large bg-alt",[_6.divc("container",[_6.divc("row text-center",[_6.divc("col-lg-4",[dC("fa-graduation-cap"),_4.Element("h3",[],[_4.TextNode("Get Started")]),_4.Element("p",[],[_4.TextNode("Take the tutorial, and you'll be writing reactive applications in no time!")]),e.linkBtn("Tutorial","https://github.com/intellifactory/websharper.ui.next/blob/master/docs/Tutorial.md")]),_6.divc("col-lg-4",[dC("fa-book"),_4.Element("h3",[],[_4.TextNode("Dive Right In")]),_4.Element("p",[],[_4.TextNode("Comprehensive documentation on the UI API.")]),e.linkBtn("API Reference","https://github.com/intellifactory/websharper.ui.next/blob/master/docs/API.md")]),_6.divc("col-lg-4",[dC("fa-send"),_4.Element("h3",[],[_4.TextNode("See it in Action")]),_4.Element("p",[],[_4.TextNode("A variety of samples using UI, and their associated source code!")]),_4.Button("Samples",[_6.cls("btn"),_6.cls("btn-default")],function(){dy(x.SamplesDefault());})])])])]),_4.Concat(f.mapi(function(dD,dE){return(function(dF){return dF%2===0?dA:dB;}(dD))(dE);},e.Entries()))]);};e.RenderSample=function(dy){return dy.$==1?h.Sample().Page:dy.$==2?i.Sample().Page:dy.$==3?j.Sample().Page:dy.$==4?k.Sample().Page:dy.$==5?l.Sample().Page:dy.$==6?m.Sample().Page:dy.$==7?n.Sample().Page:dy.$==8?o.Sample().Page:dy.$==9?p.Sample().Page:dy.$==10?q.Sample().Page:dy.$==11?r.Sample().Page:dy.$==12?s.Sample().Page:dy.$==13?t.Sample().Page:dy.$==14?u.Sample().Page:dy.$==15?v.Sample().Page:dy.$==16?w.Sample().Page:dy.$==17?_.Sample().Page:g.Sample().Page;};e.HomePage=function(dy){return _6.divc("container",[_4.Element("section",[_6.cls("block-huge"),_6.cls("teaser-home"),_6.sty("height","700px"),_6.sty("padding-top","40px"),_6.sty("padding-bottom","30px"),_6.sty("margin-bottom","40px")],[_6.divc("container",[_6.divc("row",[_6.divc("col-12",[_4.Element("br",[],[]),_4.Element("h1",[],[_4.TextNode("WebSharper UI: "),_4.Element("span",[_6.cls("text-muted")],[_4.TextNode("A new generation of reactive web applications.")])]),_4.Element("h3",[],[_4.TextNode("Write powerful, data-backed applications"),_4.Element("br",[],[]),_4.TextNode(" using F# and WebSharper.")]),_4.Element("p",[_6.cls("lead")],[_4.TextNode("Get it free on NuGet today!")])])])])])]);};e.NavBar=function(dy){function dz(dA,dB){return _4.Element("li",[_6.cls("nav-item")],[_6.href(dA,dB)]);}return _4.Element("nav",[_6.cls("container")],[_4.Element("div",[_6.sty("float","left")],[_4.Element("a",[bd.Create("href","http://www.websharper.com/home"),_6.sty("text-decoration","none"),_6.cls("first")],[_4.Element("img",[bd.Create("src","files/logo-websharper-icon.png"),bd.Create("alt","[logo]"),_6.sty("margin-top","0"),_6.sty("border-right","1px"),_6.sty("solid","#eee")],[]),_4.Element("img",[bd.Create("src","files/logo-websharper-text-dark.png"),bd.Create("alt","WebSharper"),_6.sty("height","32px")],[])])]),_4.Element("nav",[_6.cls("nav"),_6.cls("nav-collapsible"),_6.cls("right"),_6.sty("float","right")],[_4.Element("ul",[_6.cls("nav-list")],[_4.Concat(f.map(function(dA){return _4.EmbedView(bb.Map(function(dB){var dC;dC=bc.Equals(dB,dA)?_6.cls("active"):bN.EmptyAttr();return _4.Element("li",[_6.cls("nav-item"),dC],[_4.Link(e.showPgTy(dA),[],function(){E.Set(dy,dA);})]);},dy.get_View()));},e.NavPages())),_4.Concat(f.map(function(dA){return dz(dA[0],dA[1]);},e.NavExternalLinks()))])])]);};e.linkBtn=function(dy,dz){return _4.Element("a",[_6.cls("btn"),_6.cls("btn-default"),bd.Create("href",dz)],[_4.TextNode(dy)]);};e.Entries=function(){bI.$cctor();return bI.Entries;};e.showPgTy=function(dy){return dy.$==1?"About":dy.$==2?"Samples":"Home";};e.NavPages=function(){bI.$cctor();return bI.NavPages;};e.NavExternalLinks=function(){bI.$cctor();return bI.NavExternalLinks;};e.mkEntry=function(dy,dz,dA,dB){return _5.New(dy,dA,dz,dB);};e.fadeTime=function(){bI.$cctor();return bI.fadeTime;};e.Fade=function(){bI.$cctor();return bI.Fade;};f.ofArray=function(dy){var dz,dA,dB;dz=H.Empty;for(dA=I.length(dy)-1,dB=0;dA>=dB;dA--)dz=new H({$:1,$0:I.get(dy,dA),$1:dz});return dz;};f.map=function(dy,dz){var dA,dB,dC,dD,dE;if(dz.$==0)return dz;else{dD=new H({$:1});dA=dD;dB=dz;dC=true;while(dC){dA.$0=dy(dB.$0);dB=dB.$1;dB.$==0?dC=false:dA=(dE=new H({$:1}),dA.$1=dE,dE);}dA.$1=H.Empty;return dD;}};f.mapi=function(dy,dz){var dA,dB,dC,dD,dE,dF;if(dz.$==0)return dz;else{dE=new H({$:1});dA=dE;dB=dz;dC=0;dD=true;while(dD){dA.$0=dy(dC,dB.$0);dB=dB.$1;dB.$==0?dD=false:(dA=(dF=new H({$:1}),dA.$1=dF,dF),dC=dC+1);}dA.$1=H.Empty;return dE;}};f.rev=function(dy){var dz,dA;dz=H.Empty;dA=dy;while(dA.$==1){dz=new H({$:1,$0:dA.$0,$1:dz});dA=dA.$1;}return dz;};f.filter=function(dy,dz){return f.ofSeq(bx.filter(dy,dz));};f.sortWith=function(dy,dz){var dA;dA=I.ofList(dz);I.sortInPlaceWith(dy,dA);return f.ofArray(dA);};f.exists=function(dy,dz){var dA,dB;dA=false;dB=dz;while(!dA&&dB.$==1){dA=dy(dB.$0);dB=dB.$1;}return dA;};f.head=function(dy){return dy.$==1?dy.$0:f.listEmpty();};f.tail=function(dy){return dy.$==1?dy.$1:f.listEmpty();};f.ofSeq=function(dy){var dz,dA,dB,dC,dD,dE;if(dy instanceof H)return dy;else if(dy instanceof a.Array)return f.ofArray(dy);else{dz=ca.Get(dy);try{dB=dz.MoveNext();if(!dB)dA=H.Empty;else{dD=new H({$:1});dC=dD;while(dB){dC.$0=dz.Current();dz.MoveNext()?dC=(dE=new H({$:1}),dC.$1=dE,dE):dB=false;}dC.$1=H.Empty;dA=dD;}return dA;}finally{if("Dispose"in dz)dz.Dispose();}}};f.listEmpty=function(){return F.FailWith("The input list was empty.");};f.length=function(dy){var dz,dA;dz=dy;dA=0;while(dz.$==1){dz=f.tail(dz);dA=dA+1;}return dA;};f.append=function(dy,dz){var dA,dB,dC,dD,dE;if(dy.$==0)return dz;else if(dz.$==0)return dy;else{dD=new H({$:1});dA=dD;dB=dy;dC=true;while(dC){dA.$0=dB.$0;dB=dB.$1;dB.$==0?dC=false:dA=(dE=new H({$:1}),dA.$1=dE,dE);}dA.$1=dz;return dD;}};f.iter=function(dy,dz){var dA;dA=dz;while(dA.$==1){dy(f.head(dA));dA=f.tail(dA);}};g.Sample=function(){J.$cctor();return J.Sample;};g.Main=function(dy){var dz,dA,dB;dz=E.Create$1("");dA=_4.Input([bd.Create("class","form-control")],dz);dB=_4.TextView(dz.get_View());return _6.divc("panel-default",[_6.divc("panel-body",[_4.Element("div",[],[dA]),_4.Element("div",[],[dB])])]);};g.Description=function(dy){return _4.Element("div",[],[_4.TextNode("A label which copies the contents of a text box.")]);};h.Sample=function(){K.$cctor();return K.Sample;};h.Main=function(dy){var dz,dA,dB,dC,dD,dE,dF;function dG(dH,dI){return _4.Element("tr",[],[_4.Element("td",[],[_4.TextNode(dH)]),_4.Element("td",[_6.sty("width","70%")],[_4.TextView(dI)])]);}dz=E.Create$1("");dA=_4.Element("div",[_6.cls("panel"),_6.cls("panel-default")],[_4.Element("div",[_6.cls("panel-heading")],[_4.Element("h3",[_6.cls("panel-title")],[_4.TextNode("Input")])]),_4.Element("div",[_6.cls("panel-body")],[_4.Element("form",[_6.cls("form-horizontal"),bd.Create("role","form")],[_4.Element("div",[_6.cls("form-group")],[_4.Element("label",[_6.cls("col-sm-2"),_6.cls("control-label"),bd.Create("for","inputBox")],[_4.TextNode("Write something: ")]),_4.Element("div",[_6.cls("col-sm-10")],[_4.Input([bd.Create("class","form-control"),bd.Create("id","inputBox")],dz)])])])])]);dB=dz.get_View();dC=bb.Map(function(dH){return dH.toUpperCase();},dB);dD=bb.Map(function(dH){return ce.ToCharArray(dH).slice().reverse().join("");},dB);dE=bb.Map(function(dH){return I.length(ce.SplitChars(dH,[" "],0));},dB);dF=f.ofArray([["Entered Text",dB],["Capitalised",dC],["Reversed",dD],["Word Count",bb.Map(a.String,dE)],["Is the word count odd or even?",bb.Map(function(dH){return dH%2===0?"Even":"Odd";},dE)]]);return _4.Element("div",[],[dA,_6.divc("panel panel-default",[_6.divc("panel-heading",[_4.Element("h3",[_6.cls("panel-title")],[_4.TextNode("Output")])]),_6.divc("panel-body",[_4.Element("table",[_6.cls("table")],[_4.Element("tbody",[],[_4.Concat(f.map(function(dH){return dG(dH[0],dH[1]);},dF))])])])])]);};h.Description=function(dy){return _4.Element("div",[],[_4.TextNode("Transforming the data provided by a single data source.")]);};i.Sample=function(){L.$cctor();return L.Sample;};i.Main=function(dy){var dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dK;function dL(dM,dN){var dO,dP,dQ;return(dO=[null],(dP=bU.CompleteHoles((dQ=bP.NewGuid(),a.String(dQ)),new H({$:1,$0:{$:2,$0:"view",$1:dN},$1:new H({$:1,$0:{$:1,$0:"lbl",$1:dM},$1:H.Empty})}),[]),(dO[0]=new bT.New(dP[1],C.tablerow(dP[0])),dO[0]))).get_Doc();}dz=E.Create$1("");dA=dz.get_View();dB=bb.Map(function(dM){return dM.toUpperCase();},dA);dC=bb.Map(function(dM){return ce.ToCharArray(dM).slice().reverse().join("");},dA);dD=bb.Map(function(dM){return I.length(ce.SplitChars(dM,[" "],0));},dA);dE=f.ofArray([["Entered Text",dA],["Capitalised",dB],["Reversed",dC],["Word Count",bb.Map(a.String,dD)],["Is the word count odd or even?",bb.Map(function(dM){return dM%2===0?"Even":"Odd";},dD)]]);return(dF=(dG=(dH=bP.NewGuid(),a.String(dH)),(dI=new H({$:1,$0:{$:8,$0:"inputtext",$1:dz},$1:H.Empty}),[[null],dG,new H({$:1,$0:{$:0,$0:"tablebody",$1:_4.Concat(f.map(function(dM){return dL(dM[0],dM[1]);},dE))},$1:dI})])),(dJ=dF[0],(dK=bU.CompleteHoles(dF[1],dF[2],[["inputtext",0]]),(dJ[0]=new bT.New(dK[1],C.t(dK[0])),dJ[0])))).get_Doc();};i.Description=function(dy){return _4.Element("div",[],[_4.TextNode("Similar to InputTransform, but using a html file and the Template type provider.")]);};j.Sample=function(){M.$cctor();return M.Sample;};j.Main=function(dy){return j.TodoExample();};j.Description=function(dy){return _4.Element("div",[],[_4.TextNode("A to-do list application.")]);};j.TodoExample=function(){var dy;dy=j.CreateModel();return _4.Element("table",[bd.Create("class","table table-hover")],[_4.Element("tbody",[],[j.TodoList(dy),j.TodoForm(dy)])]);};j.CreateModel=function(){return cP.New(cR.Create(function(dy){return dy.Key;},H.Empty));};j.TodoList=function(dy){return _4.ConvertBy(function(dz){return dz.Key;},function(dz){return j.RenderItem(dy,dz);},dy.Items.v);};j.TodoForm=function(dy){var dz;dz=E.Create$1("");return _4.Element("form",[],[_6.divc("form-group",[_4.Element("label",[],[_4.TextNode("New entry: ")]),cS.input(dz)]),cS.button("Submit",function(){dy.Items.Append(cQ.Create(dz.Get()));})]);};j.RenderItem=function(dy,dz){return _4.Element("tr",[],[_4.Element("td",[],[_4.EmbedView(bb.Map(function(dA){return dA?_4.Element("del",[],[_4.TextNode(dz.TodoText)]):_4.TextNode(dz.TodoText);},dz.Done.get_View()))]),_4.Element("td",[],[cS.button("Done",function(){E.Set(dz.Done,true);})]),_4.Element("td",[],[cS.button("Remove",function(){dy.Items.Remove(dz);})])]);};k.Sample=function(){N.$cctor();return N.Sample;};k.Main=function(dy){return k.PhonesWidget(f.ofArray([bV.New("Nexus S","Fast just got faster with Nexus S.",1),bV.New("Motorola XOOM","The Next, Next generation tablet",2),bV.New("Motorola XOOM with Wi-Fi","The Next, Next generation tablet",3),bV.New("Samsung Galaxy","The Ultimate Phone",4)]));};k.Description=function(dy){return _4.Element("div",[],[_4.TextNode("Taken from the "),_6.href("AngularJS Tutorial","https://docs.angularjs.org/tutorial/"),_4.TextNode(", a list filtering and sorting application for phones.")]);};k.PhonesWidget=function(dy){var dz,dA,dB;function dC(dD){return _4.Element("li",[],[_4.Element("span",[],[_4.TextNode(dD.Name)]),_4.Element("p",[],[_4.TextNode(dD.Snippet)])]);}E.Create$1(dy);dz=E.Create$1("");dA=E.Create$1(cp.Newest);dB=bb.Map2(function(dD,dE){return f.sortWith(function(dF,dG){return bV.Compare(dE,dF,dG);},f.filter(function(dF){return bV.MatchesQuery(dD,dF);},dy));},dz.get_View(),dA.get_View());return _6.divc("row",[_6.divc("col-sm-6",[_4.TextNode("Search: "),_4.Input([bd.Create("class","form-control")],dz),_4.TextNode("Sort by: "),_4.Select([bd.Create("class","form-control")],cp.Show,f.ofArray([cp.Newest,cp.Alphabetical]),dA)]),_6.divc("col-sm-6",[_4.Element("ul",[],[_4.EmbedView(bb.Map(function(dD){return _4.Concat(f.map(dC,dD));},dB))])])]);};l.Sample=function(){O.$cctor();return O.Sample;};l.createPerson=function(dy,dz){return bf.New(E.Create$1(dy),E.Create$1(dz));};l.peopleList=function(){O.$cctor();return O.peopleList;};l.Main=function(dy){return _4.Element("div",[],[_4.Element("div",[],[_4.Element("h1",[],[_4.TextNode("Member List")]),l.memberList()]),_4.Element("div",[],[_4.Element("h1",[],[_4.TextNode("Change Member Details")]),l.peopleBoxes()])]);};l.Description=function(dy){return _4.Element("div",[],[_4.TextNode("An example inspired by a "),_6.href("SAP OpenUI sample","http://jsbin.com/openui5-HTML-templates/1/edit"),_4.TextNode(".")]);};l.memberList=function(){O.$cctor();return O.memberList;};l.peopleBoxes=function(){O.$cctor();return O.peopleBoxes;};m.Sample=function(){P.$cctor();return P.Sample;};m.Main=function(dy){var dz,dA,dB;dz=E.Create$1(H.Empty);dA=_4.Element("div",[],[_4.Element("div",[],f.map(function(dC){return _4.Element("div",[],[_4.CheckBoxGroup([],dC,dz),_4.TextNode(dC.Name)]);},m.People())),_4.TextView(bb.Map(function(dC){return bx.fold(function(dD,dE){return dD+dE.Name+", ";},"",dC);},dz.get_View()))]);dB=E.Create$1(bW.Jelen);return _4.Element("div",[],[dA,_4.Element("div",[],[_4.Concat(f.map(function(dC){return _4.Element("div",[],[_4.Radio([],dC,dB),_4.TextNode(m.showRestaurant(dC))]);},f.ofArray([bW.Csiga,bW.Suszterinas,bW.Jelen,bW.Stex]))),_4.TextView(bb.Map(m.showRestaurant,dB.get_View()))])]);};m.Description=function(dy){return _4.Element("div",[],[_4.TextNode("An application which shows the selected values.")]);};m.People=function(){P.$cctor();return P.People;};m.showRestaurant=function(dy){return dy.$==1?"Suszterinas":dy.$==2?"Csiga":dy.$==3?"Stex":"Jelen";};n.Sample=function(){Q.$cctor();return Q.Sample;};n.Main=function(dy){return n.calcView(E.Create$1(n.initCalc()));};n.Description=function(dy){return _4.Element("div",[],[_4.TextNode("A calculator application")]);};n.initCalc=function(){Q.$cctor();return Q.initCalc;};n.calcView=function(dy){var dz,dA;function dB(dD){return n.calcBtn(dD,dy);}function dC(dD){return n.opBtn(dD,dy);}dy.get_View();dz=n.cBtn(dy);dA=n.eqBtn(dy);return _4.Element("div",[],[_4.Element("div",[_6.sty("border","solid 1px #aaa"),_6.sty("width","100px"),_6.sty("text-align","right"),_6.sty("padding","0 5px")],[_4.TextView(n.displayCalc(dy))]),_4.Element("div",[],[dB(1),dB(2),dB(3),dC(bi.Add)]),_4.Element("div",[],[dB(4),dB(5),dB(6),dC(bi.Sub)]),_4.Element("div",[],[dB(7),dB(8),dB(9),dC(bi.Mul)]),_4.Element("div",[],[dB(0),dz,dA,dC(bi.Div)])]);};n.calcBtn=function(dy,dz){return n.button(a.String(dy),function(){n.pushInt(dy,dz);});};n.opBtn=function(dy,dz){return n.button(n.showOp(dy),function(){n.shiftToMem(dy,dz);});};n.cBtn=function(dy){return n.button("C",function(){E.Set(dy,n.initCalc());});};n.eqBtn=function(dy){return n.button("=",function(){n.calculate(dy);});};n.displayCalc=function(dy){return bb.Map(function(dz){return a.String(dz.Operand);},dy.get_View());};n.button=function(dy,dz){return _4.Button(dy,[_6.sty("width","25px")],dz);};n.pushInt=function(dy,dz){E.Update(dz,function(dA){return bh.New(dA.Memory,dA.Operand*10+dy,dA.Operation);});};n.showOp=function(dy){return dy.$==1?"-":dy.$==2?"*":dy.$==3?"/":"+";};n.shiftToMem=function(dy,dz){E.Update(dz,function(dA){return bh.New(dA.Operand,0,dy);});};n.calculate=function(dy){E.Update(dy,function(dz){return bh.New(0,((n.opFn(dz.Operation))(dz.Memory))(dz.Operand),bi.Add);});};n.opFn=function(dy){return dy.$==1?function(dz){return function(dA){return dz-dA;};}:dy.$==2?function(dz){return function(dA){return dz*dA;};}:dy.$==3?function(dz){return function(dA){return dz/dA>>0;};}:function(dz){return function(dA){return dz+dA;};};};o.Sample=function(){R.$cctor();return R.Sample;};o.inputRow=function(dy,dz,dA,dB){return _6.divc("row",[_6.divc("form-group",[_4.Element("label",[_6.cls("col-sm-2 control-label"),bd.Create("for",dz)],[_4.TextNode(dA)]),_6.divc("col-sm-6",[((dB?function(dC){return function(dD){return _4.InputArea(dC,dD);};}:function(dC){return function(dD){return _4.Input(dC,dD);};})(f.ofArray([bd.Create("type","text"),_6.cls("form-control"),bd.Create("id",dz),bd.Create("placeholder",dA)])))(dy)]),_6.divc("col-sm-4",[])])]);};o.ExampleFlow=function(dy){var dz;return bj.Embed((dz=bj.get_Do(),dz.Bind(o.personFlowlet(),function(dA){return dz.Bind(o.contactTypeFlowlet(),function(dB){return dz.Bind(o.contactFlowlet(dB),function(dC){return dz.ReturnFrom(bj.Static(o.finalPage(dA,dC)));});});})));};o.Description=function(dy){return _4.Element("div",[],[_4.TextNode("A WebSharper.UI flowlet implementation.")]);};o.personFlowlet=function(){R.$cctor();return R.personFlowlet;};o.contactTypeFlowlet=function(){R.$cctor();return R.contactTypeFlowlet;};o.contactFlowlet=function(dy){var dz,dA,dB;dz=dy.$==1?["Phone Number",function(dC){return{$:1,$0:dC};}]:["E-Mail Address",function(dC){return{$:0,$0:dC};}];dA=dz[0];dB=dz[1];return bj.Define(function(dC){var dD;dD=E.Create$1("");return _4.Element("form",[_6.cls("form-horizontal"),bd.Create("role","form")],[o.inputRow(dD,"contact",dA,false),_6.divc("form-group",[_6.divc("col-sm-offset-2 col-sm-10",[_4.Button("Finish",[_6.cls("btn btn-default")],function(){dC(dB(dD.Get()));})])])]);});};o.finalPage=function(dy,dz){return _4.Element("div",[],[_4.TextNode("You said your name was "+dy.Name+", your address was "+dy.Address+", "),_4.TextNode(" and you provided "+(dz.$==1?"the phone number "+dz.$0:"the e-mail address "+dz.$0)+".")]);};p.Sample=function(){S.$cctor();return S.Sample;};p.fadeTime=function(){S.$cctor();return S.fadeTime;};p.Fade=function(){S.$cctor();return S.Fade;};p.swipeTime=function(){S.$cctor();return S.swipeTime;};p.Swipe=function(){S.$cctor();return S.Swipe;};p.inputRow=function(dy,dz,dA){return _6.divc("form-group",[_4.Element("label",[bd.Create("for",dz),_6.cls("col-sm-2 control-label")],[_4.TextNode(dA)]),_6.divc("col-sm-10",[_4.Input([bd.Create("type","text"),_6.cls("form-control"),bd.Create("id",dz),bd.Create("placeholder",dA)],dy)])]);};p.AnimateFlow=function(dy){return _4.Element("div",[bG.Style("position","relative"),bG.AnimatedStyle("opacity",p.FadeTransition(),bb.Const(1),a.String),bG.AnimatedStyle("left",p.SwipeTransition(),bb.Const(0),function(dz){return a.String(dz)+"px";})],[dy]);};p.ExampleFlow=function(dy){var dz;return bj.Embed((dz=bj.get_Do(),dz.Bind(p.personFlowlet(),function(dA){return dz.Bind(p.contactTypeFlowlet(),function(dB){return dz.Bind(p.contactFlowlet(dB),function(dC){return dz.ReturnFrom(bj.Static(p.finalPage(dA,dC)));});});})));};p.Description=function(dy){return _4.Element("div",[],[_4.TextNode("A WebSharper.UI flowlet implementation.")]);};p.FadeTransition=function(){S.$cctor();return S.FadeTransition;};p.SwipeTransition=function(){S.$cctor();return S.SwipeTransition;};p.personFlowlet=function(){S.$cctor();return S.personFlowlet;};p.contactTypeFlowlet=function(){S.$cctor();return S.contactTypeFlowlet;};p.contactFlowlet=function(dy){var dz,dA,dB;dz=dy.$==1?["Phone Number",function(dC){return{$:1,$0:dC};}]:["E-Mail Address",function(dC){return{$:0,$0:dC};}];dA=dz[0];dB=dz[1];return bj.Define(function(dC){var dD;dD=E.Create$1("");return p.AnimateFlow(_4.Element("form",[_6.cls("form-horizontal"),bd.Create("role","form")],[p.inputRow(dD,"contact",dA),_6.divc("form-group",[_6.divc("col-sm-offset-2 col-sm-10",[_4.Button("Finish",[_6.cls("btn btn-default")],function(){dC(dB(dD.Get()));})])])]));});};p.finalPage=function(dy,dz){return p.AnimateFlow(_4.Element("div",[],[_4.TextNode("You said your name was "+dy.Name+", your address was "+dy.Address+", "),_4.TextNode(" and you provided "+(dz.$==1?"the phone number "+dz.$0:"the e-mail address "+dz.$0)+".")]));};q.Sample=function(){T.$cctor();return T.Sample;};q.Main=function(dy){var dz,dA,dB,dC;function dD(dE){return _4.Concat([dC,dA.LoginForm,dE]);}q.Initialise();dz=E.Create$1(b1.ThreadList);dA=b2.Create();dB=b3.New(dA,E.Create$1(H.Empty),function(dE){E.Set(dz,dE);});dC=q.NavBar(dA,dz,dB);return _4.EmbedView(bb.Map(function(dE){dA.HideForm();return dD(dE.$==2?q.ThreadListPage(dB):dE.$==1?q.ShowThreadPage(dB,dE.$0):q.NewThreadPage(dB));},dz.get_View()));};q.Description=function(dy){return _4.Element("div",[],[_4.TextNode("A message board application built using MiniSitelets.")]);};q.Initialise=function(){var dy,dz,dA;dy=ct.CreateThread("SimonJF","Hello, World! This is a topic.");dz=ct.CreatePost(cu.New("SimonJF",""),"Hello, world! This is a post.");cW.Start((dA=null,cW.Delay(function(){return cW.Bind(cv.AddThread(dy),function(){return cW.Bind(cv.AddPost(dy,dz),function(){return cW.Return(null);});});})),null);};q.NavBar=function(dy,dz,dA){var dB;function dC(dD,dE){return _4.Link(dD,[],function(){dA.Go(dE);});}dB=f.ofArray([b1.ThreadList,b1.NewThread]);return _4.Element("nav",[_6.cls("navbar navbar-default"),bd.Create("role","navigation")],[_6.divc("container-fluid",[_4.Element("ul",[_6.cls("nav navbar-nav")],[_4.Concat(f.map(function(dD){return _4.EmbedView(bb.Map(function(dE){return _4.Element("li",[q.ShowAction(dD)===q.ShowAction(dE)?_6.cls("active"):bN.EmptyAttr()],[dC(q.ShowAction(dD),dD)]);},dz.get_View()));},dB))]),_4.Element("ul",[_6.cls("nav navbar-nav navbar-right")],[dy.StatusWidget])])]);};q.ThreadListPage=function(dy){var dz,dA;function dB(dC){return _4.Element("tr",[],[_4.Element("td",[],[_4.TextNode(dC.ThreadAuthorName)]),_4.Element("td",[],[_4.Link(dC.Title,[],function(){dy.Go({$:1,$0:dC});})])]);}dz=dy.Threads;cW.Start((dA=null,cW.Delay(function(){return cW.Bind(cv.GetThreads(),function(dC){E.Set(dz,dC);return cW.Zero();});})),null);return _4.Element("table",[_6.cls("table table-hover")],[_4.Element("tbody",[],[_4.EmbedView(bb.Map(function(dC){return _4.Concat(f.map(dB,dC));},dy.Threads.get_View()))])]);};q.ShowThreadPage=function(dy,dz){var dA,dB;function dC(){var dF;cW.Start((dF=null,cW.Delay(function(){return cW.Bind(cv.GetPosts(dz),function(dG){E.Set(dA,dG);return cW.Zero();});})),null);}function dD(dF){return _4.Element("tr",[],[_4.Element("td",[],[_4.TextNode(dF.PostAuthorName)]),_4.Element("td",[],[_4.TextNode(dF.Content)])]);}function dE(dF){var dG;dG=E.Create$1("");return _6.divc("panel panel-default",[_6.divc("panel-heading",[_4.Element("h3",[_6.cls("panel-title")],[_4.TextNode("New Post")])]),_6.divc("panel-body",[_4.Element("form",[_6.cls("form-horizontal"),bd.Create("role","form")],[_6.divc("form-group",[_4.Element("label",[bd.Create("for","postContent"),_6.cls("col-sm-2 control-label")],[_4.TextNode("Content")]),_6.divc("col-sm-10",[_4.InputArea([bd.Create("id","postContent"),bd.Create("rows","5"),_6.cls("form-control"),_6.sty("width","100%")],dG)])]),_6.divc("form-group",[_6.divc("col-sm-offset-2 col-sm-10",[_4.Button("Submit",[_6.cls("btn btn-primary")],function(){var dH,dI;dH=ct.CreatePost(dF,dG.Get());cW.Start((dI=null,cW.Delay(function(){return cW.Bind(cv.AddPost(dz,dH),function(){dC();return cW.Zero();});})),null);})])])])])]);}dA=E.Create$1(H.Empty);dB=_6.divc("panel panel-default",[_6.divc("panel-heading",[_4.Element("h3",[_6.cls("panel-title")],[_4.TextNode("Posts in thread \""+dz.Title+"\"")])]),_6.divc("panel-body",[_4.Element("table",[_6.cls("table table-hover")],[_4.Element("tbody",[],[_4.EmbedView(bb.Map(function(dF){return _4.Concat(f.map(dD,dF));},dA.get_View()))])])])]);dC();return _4.Element("div",[],[dB,_4.EmbedView(bb.Map(function(dF){return dF!=null&&dF.$==1?dE(dF.$0):_4.Empty();},dy.Auth.LoggedIn))]);};q.NewThreadPage=function(dy){function dz(dA){var dB,dC;dB=E.Create$1("");dC=E.Create$1("");return _6.divc("panel panel-default",[_6.divc("panel-heading",[_4.Element("h3",[_6.cls("panel-title")],[_4.TextNode("New Thread")])]),_6.divc("panel-body",[_4.Element("form",[_6.cls("form-horizontal"),bd.Create("role","form")],[_6.divc("form-group",[_4.Element("label",[bd.Create("for","threadTitle"),_6.cls("col-sm-2 control-label")],[_4.TextNode("Title")]),_6.divc("col-sm-10",[_4.Input([bd.Create("id","threadTitle"),_6.sty("width","100%"),_6.cls("form-control")],dB)])]),_6.divc("form-group",[_4.Element("label",[bd.Create("for","postContent"),_6.cls("col-sm-2 control-label")],[_4.TextNode("Content")]),_6.divc("col-sm-10",[_4.InputArea([bd.Create("id","postContent"),bd.Create("rows","5"),_6.cls("form-control"),_6.sty("width","100%")],dC)])]),_6.divc("form-group",[_6.divc("col-sm-offset-2 col-sm-10",[_4.Button("Submit",[_6.cls("btn btn-primary")],function(){var dD,dE,dF;dD=ct.CreateThread(dA.Name,dB.Get());dE=ct.CreatePost(dA,dC.Get());cW.Start((dF=null,cW.Delay(function(){return cW.Bind(cv.AddThread(dD),function(){return cW.Bind(cv.AddPost(dD,dE),function(){return cW.Return(null);});});})),null);dy.Go({$:1,$0:dD});})])])])])]);}return _4.EmbedView(bb.Map(function(dA){return dA==null?(dy.Auth.ShowForm(),_4.Empty()):dz(dA.$0);},dy.Auth.LoggedIn));};q.ShowAction=function(dy){return dy.$==1?"Thread "+dy.$0.Title:dy.$==2?"Show All Threads":"Create New Thread";};r.Sample=function(){U.$cctor();return U.Sample;};r.Main=function(dy){var dz,dA,dB,dC;dz=E.Create$1(y.BobsleighHome);dA=(dB=r.NavBar(dz),function(dD){return _4.Append(dB,dD);});dC=b5.New(function(dD){E.Set(dz,dD);});return _4.EmbedView(bb.Map(function(dD){return dD.$==1?dA(r.History(dC)):dD.$==2?dA(r.Governance(dC)):dD.$==3?dA(r.Team(dC)):dA(r.HomePage(dC));},dz.get_View()));};r.description=function(dy){return _4.Element("div",[],[_4.TextNode("A small website about bobsleighs, demonstrating how UI may be used to structure single-page applications.")]);};r.NavBar=function(dy){return _4.EmbedView(bb.Map(function(dz){return _4.Element("nav",[_6.cls("navbar navbar-default"),bd.Create("role","navigation")],[_4.Element("ul",[_6.cls("nav navbar-nav")],[_4.Concat(f.map(function(dA){return _4.Element("li",[bc.Equals(dA,dz)?_6.cls("active"):bN.EmptyAttr()],[_4.Link(r.showAct(dA),[],function(){r.GlobalGo(dy,dA);})]);},r.pages()))])]);},dy.get_View()));};r.History=function(dy){return _4.Concat([_4.Element("div",[],[_4.Element("h1",[],[_4.TextNode("History")]),_4.Element("p",[],[_4.TextNode("According to "),_6.href("Wikipedia","http://en.wikipedia.org/wiki/Bobsleigh"),_4.TextNode(", the beginnings of bobsleigh came about due to a hotelier becoming increasingly frustrated about having entire seasons where he could not rent out his properties. In response, he got a few people interested, and the Swiss town of St Moritz became the home of the first bobsleigh races.")]),_4.Element("p",[],[_4.TextNode("Bobsleigh races have been a regular event at the Winter Olympics since the very first competition in 1924.")])])]);};r.Governance=function(dy){return _4.Concat([_4.Element("div",[],[_4.Element("h1",[],[_4.TextNode("Governance")]),_4.Element("p",[],[_4.TextNode("The sport is overseen by the "),_6.href("International Bobsleigh and Skeleton Federation","http://www.fibt.com/"),_4.TextNode(", an organisation founded in 1923. The organisation governs all international competitions, acting as a body to regulate athletes' conduct, as well as providing funding for training and education.")])])]);};r.Team=function(dy){var dz;function dA(dB,dC){return _4.Element("li",[],[_6.href(dB,"http://www.twitter.com/"+dC)]);}dz=f.ofArray([["Adam","granicz"],["András","AndrasJanko"],["Anton (honourary member for life)","t0yv0"],["István","inchester23"],["Loic","tarmil_"],["Sándor","sandorrakonczai"],["Simon","Simon_JF"]]);return _4.Concat([_4.Element("div",[],[_4.Element("h1",[],[_4.TextNode("The IntelliFactory Bobsleigh Team")]),_4.Element("p",[],[_4.TextNode("The world-famous IntelliFactory Bobsleigh Team was founded in 2004, and currently consists of:")]),_4.Element("ul",[],[_4.Concat(f.map(function(dB){return dA(dB[0],dB[1]);},dz))])])]);};r.HomePage=function(dy){return _4.Concat([_4.Element("div",[],[_4.Element("h1",[],[_4.TextNode("Welcome!")]),_4.Element("p",[],[_4.TextNode("Welcome to the IntelliFactory Bobsleigh MiniSite!")]),_4.Element("p",[],[_4.TextNode("Here you can find out about the "),_4.Link("history",[],function(){dy.Go(y.BobsleighHistory);}),_4.TextNode(" of bobsleighs, the "),_4.Link("International Bobsleigh and Skeleton Federation",[],function(){dy.Go(y.BobsleighGovernance);}),_4.TextNode(", which serve as the governing body for the sport, and finally the world-famous "),_4.Link("IntelliFactory Bobsleigh Team.",[],function(){dy.Go(y.BobsleighTeam);})])])]);};r.showAct=function(dy){return dy.$==1?"History":dy.$==2?"Governance":dy.$==3?"The IntelliFactory Bobsleigh Team":"Home";};r.GlobalGo=function(dy,dz){E.Set(dy,dz);};r.pages=function(){U.$cctor();return U.pages;};s.Sample=function(){V.$cctor();return V.Sample;};s.Main=function(dy){var dz,dA,dB;dz=(dA=r.NavBar(dy),function(dC){return _4.Append(dA,dC);});dB=b5.New(function(dC){E.Set(dy,dC);});return _4.EmbedView(bb.Map(function(dC){return dC.$==1?dz(r.History(dB)):dC.$==2?dz(r.Governance(dB)):dC.$==3?dz(r.Team(dB)):dz(r.HomePage(dB));},dy.get_View()));};s.description=function(dy){return _4.Element("div",[],[_4.TextNode("A small website about bobsleighs, demonstrating how UI may be used to structure single-page applications. Routed using the URL.")]);};t.Sample=function(){W.$cctor();return W.Sample;};t.fadeTime=function(){W.$cctor();return W.fadeTime;};t.Fade=function(){W.$cctor();return W.Fade;};t.Main=function(dy){var dz,dA;dz=E.Create$1(bu.BobsleighHome);dA=b6.New(function(dB){E.Set(dz,dB);});return _4.EmbedView(bb.Map(function(dB){return t.MakePage(dz,dB.$==1?t.History(dA):dB.$==2?t.Governance(dA):dB.$==3?t.Team(dA):t.HomePage(dA));},dz.get_View()));};t.description=function(dy){return _4.Element("div",[],[_4.TextNode("A small website about bobsleighs, demonstrating how UI may be used to structure single-page applications.")]);};t.History=function(dy){return _4.Concat([_4.Element("div",[],[_4.Element("h1",[],[_4.TextNode("History")]),_4.Element("p",[],[_4.TextNode("According to "),_6.href("Wikipedia","http://en.wikipedia.org/wiki/Bobsleigh"),_4.TextNode(", the beginnings of bobsleigh came about due to a hotelier becoming increasingly frustrated about having entire seasons where he could not rent out his properties. In response, he got a few people interested, and the Swiss town of St Moritz became the home of the first bobsleigh races.")]),_4.Element("p",[],[_4.TextNode("Bobsleigh races have been a regular event at the Winter Olympics since the very first competition in 1924.")])])]);};t.Governance=function(dy){return _4.Concat([_4.Element("div",[],[_4.Element("h1",[],[_4.TextNode("Governance")]),_4.Element("p",[],[_4.TextNode("The sport is overseen by the "),_6.href("International Bobsleigh and Skeleton Federation","http://www.fibt.com/"),_4.TextNode(", an organisation founded in 1923. The organisation governs all international competitions, acting as a body to regulate athletes' conduct, as well as providing funding for training and education.")])])]);};t.Team=function(dy){var dz;function dA(dB,dC){return _4.Element("li",[],[_6.href(dB,"http://www.twitter.com/"+dC)]);}dz=f.ofArray([["Adam","granicz"],["András","AndrasJanko"],["Anton (honourary member for life)","t0yv0"],["István","inchester23"],["Loic","tarmil_"],["Sándor","sandorrakonczai"],["Simon","Simon_JF"]]);return _4.Concat([_4.Element("div",[],[_4.Element("h1",[],[_4.TextNode("The IntelliFactory Bobsleigh Team")]),_4.Element("p",[],[_4.TextNode("The world-famous IntelliFactory Bobsleigh Team was founded in 2004, and currently consists of:")]),_4.Element("ul",[],[_4.Concat(f.map(function(dB){return dA(dB[0],dB[1]);},dz))])])]);};t.HomePage=function(dy){return _4.Concat([_4.Element("div",[],[_4.Element("h1",[],[_4.TextNode("Welcome!")]),_4.Element("p",[],[_4.TextNode("Welcome to the IntelliFactory Bobsleigh MiniSite!")]),_4.Element("p",[],[_4.TextNode("Here you can find out about the "),_4.Link("history",[],function(){dy.Go(bu.BobsleighHistory);}),_4.TextNode(" of bobsleighs, the "),_4.Link("International Bobsleigh and Skeleton Federation",[],function(){dy.Go(bu.BobsleighGovernance);}),_4.TextNode(", which serve as the governing body for the sport, and finally the world-famous "),_4.Link("IntelliFactory Bobsleigh Team.",[],function(){dy.Go(bu.BobsleighTeam);})])])]);};t.MakePage=function(dy,dz){return _4.Concat([t.NavBar(dy),_4.Element("div",[bG.AnimatedStyle("opacity",t.FadeTransition(),bb.Const(1),a.String)],[dz])]);};t.NavBar=function(dy){return _4.EmbedView(bb.Map(function(dz){return _4.Element("nav",[_6.cls("navbar navbar-default"),bd.Create("role","navigation")],[_4.Element("ul",[_6.cls("nav navbar-nav")],[_4.Concat(f.map(function(dA){return _4.Element("li",[bc.Equals(dA,dz)?_6.cls("active"):bN.EmptyAttr()],[_4.Link(t.showAct(dA),[],function(){t.GlobalGo(dy,dA);})]);},t.pages()))])]);},dy.get_View()));};t.FadeTransition=function(){W.$cctor();return W.FadeTransition;};t.showAct=function(dy){return dy.$==1?"History":dy.$==2?"Governance":dy.$==3?"The IntelliFactory Bobsleigh Team":"Home";};t.GlobalGo=function(dy,dz){E.Set(dy,dz);};t.pages=function(){W.$cctor();return W.pages;};u.Sample=function(){X.$cctor();return X.Sample;};u.SimpleAnimation=function(dy,dz){return bo.Simple(bm.get_Double(),bn.get_CubicInOut(),300,dy,dz);};u.SimpleTransition=function(){X.$cctor();return X.SimpleTransition;};u.Height=function(){X.$cctor();return X.Height;};u.Main=function(dy){var dz,dA;dz=u.SetupDataModel();dA=dz[1];return _4.Element("div",[],[_4.Element("h2",[],[_4.TextNode("Top States by Age Bracket, 2008")]),_4.EmbedView(bb.Map(function(dB){return _4.Select([_6.cls("form-control")],function(dC){return dC.$0;},f.ofArray(b7.array(dB.Brackets,{$:1,$0:1},null)),dA);},dz[0])),_6.divc("skip",[]),_4.SvgElement("svg",[bd.Create("width",a.String(u.Width())),bd.Create("height",a.String(u.Height()))],[_4.EmbedView(bb.Map(_4.Concat,bb.MapSeqCachedViewBy(function(dB){return dB.State;},u.Render,dz[2])))]),_4.Element("p",[],[_4.TextNode("Source: "),_6.href("Census Bureau","http://www.census.gov/popest/data/historical/2000s/vintage_2008/")]),_4.Element("p",[],[_4.TextNode("Original Sample by Mike Bostock: "),_6.href("Object Constancy","http://bost.ocks.org/mike/constancy/")])]);};u.Description=function(dy){return _4.Element("div",[],[_4.TextNode("This sample show-cases declarative animation and interpolation (tweening)")]);};u.SetupDataModel=function(){var dy,dz;dy=bb.MapAsync(function(){return b8.LoadFromCSV("ObjectConstancy.csv");},bb.Const());dz=E.Create$1({$:0,$0:"Under 5 Years"});return[dy,dz,bb.Map(function(dA){var dB,dC;dB=I.length(dA);dC=I.max(I.map(function(dD){return dD[1];},dA));return I.mapi(function(dD,dE){return b9.New(dC,dD,dE[0].$0,dB,dE[1]);},dA);},bb.Map2(b8.TopStatesByRatio,dy,dz.get_View()))];};u.Width=function(){X.$cctor();return X.Width;};u.Render=function(dy,dz){function dA(dE,dF,dG){return bG.Animated(dE,dF,bb.Map(dG,dz),a.String);}function dB(dE){return u.Width()*dE.Value/dE.MaxValue;}function dC(dE){return u.Height()*+dE.Position/+dE.Total;}function dD(dE,dF){return _4.SvgElement("text",dF,[_4.TextView(bb.Map(dE,dz))]);}return _4.Concat([_4.SvgElement("g",[bG.Style("fill","steelblue")],[_4.SvgElement("rect",[bd.Create("x","0"),dA("y",u.InOutTransition(),dC),dA("width",u.SimpleTransition(),dB),dA("height",u.SimpleTransition(),function(dE){return u.Height()/+dE.Total-2;})],[])]),dD(function(dE){return u.Percent(dE.Value);},f.ofArray([bd.Create("text-anchor","end"),dA("x",u.SimpleTransition(),dB),dA("y",u.InOutTransition(),dC),bd.Create("dx","-2"),bd.Create("dy","14"),_6.sty("fill","white"),_6.sty("font","12px sans-serif")])),dD(function(dE){return dE.State;},f.ofArray([bd.Create("x","0"),dA("y",u.InOutTransition(),dC),bd.Create("dx","2"),bd.Create("dy","16"),_6.sty("fill","white"),_6.sty("font","14px sans-serif"),_6.sty("font-weight","bold")]))]);};u.InOutTransition=function(){X.$cctor();return X.InOutTransition;};u.Percent=function(dy){return a.String(dr.floor(100*dy))+"."+a.String((dr.floor(1000*dy)>>0)%10)+"%";};v.Sample=function(){Y.$cctor();return Y.Sample;};v.Main=function(dy){var dz,dA,dB,dC;function dD(dF,dG){return"Position on last left click: ("+a.String(dF)+","+a.String(dG)+")";}function dE(dF,dG){return"Position of mouse while left button held: ("+a.String(dF)+","+a.String(dG)+")";}dz=bb.Map(function(dF){return dF[0];},b_.get_Position());dA=bb.Map(function(dF){return dF[1];},b_.get_Position());dB=bb.UpdateWhile([0,0],b_.get_LeftPressed(),b_.get_Position());dC=bb.SnapshotOn([0,0],b_.get_LeftPressed(),b_.get_Position());return _4.Element("div",[],[_4.Element("p",[],[_4.TextView(bb.Map(function(dF){return"X: "+a.String(dF);},dz)),_4.TextView(bb.Map(function(dF){return"Y: "+a.String(dF);},dA))]),_4.Element("p",[],[_4.TextView(bb.Map(function(dF){return"Left button pressed: "+a.String(dF);},b_.get_LeftPressed()))]),_4.Element("p",[],[_4.TextView(bb.Map(function(dF){return"Middle button pressed: "+a.String(dF);},b_.get_MiddlePressed()))]),_4.Element("p",[],[_4.TextView(bb.Map(function(dF){return"Right button pressed: "+a.String(dF);},b_.get_RightPressed()))]),_4.Element("p",[],[_4.TextView(bb.Map(function(dF){return dD(dF[0],dF[1]);},dC))]),_4.Element("p",[],[_4.TextView(bb.Map(function(dF){return dE(dF[0],dF[1]);},dB))])]);};v.Description=function(dy){return _4.Element("div",[],[_4.TextNode("Shows information about the mouse")]);};w.Sample=function(){Z.$cctor();return Z.Sample;};w.Main=function(dy){return _4.Element("div",[],[_4.Element("p",[],[_4.TextNode("Keys pressed (key codes): "),_4.TextView(bb.Map(function(dz){return w.commaList(f.map(a.String,dz));},w.keys()))]),_4.Element("p",[],[_4.TextNode("Keys pressed: "),_4.TextView(bb.Map(function(dz){return w.commaList(f.map(w.ToChar,dz));},w.keys()))]),_4.Element("p",[],[_4.TextNode("Last pressed key: "),_4.TextView(bb.Map(a.String,bw.get_LastPressed()))]),_4.Element("p",[],[_4.TextNode("Is 'A' pressed? "),_4.TextView(bb.Map(function(dz){return dz?"Yes":"No";},bw.IsPressed(w.ToKey("A"))))])]);};w.Description=function(dy){return _4.Element("div",[],[_4.TextNode("Information about the current keyboard state")]);};w.commaList=function(dy){function dz(dA){return dA.$==1?dA.$1.$==0?a.String(dA.$0):a.String(dA.$0)+", "+dz(dA.$1):"";}return"["+dz(dy)+"]";};w.keys=function(){Z.$cctor();return Z.keys;};w.ToChar=function(dy){return ds.fromCharCode(dy);};w.ToKey=function(dy){return dy.charCodeAt(0);};y.BobsleighHome={$:0};y.BobsleighHistory={$:1};y.BobsleighGovernance={$:2};y.BobsleighTeam={$:3};z.SimpleTextBox={$:0};z.InputTransform={$:1};z.InputTransformHtml={$:2};z.TodoList={$:3};z.PhoneExample={$:4};z.EditablePersonList={$:5};z.CheckBoxTest={$:6};z.Calculator={$:7};z.ContactFlow={$:8};z.AnimatedContactFlow={$:9};z.MessageBoard={$:10};z.BobsleighSite={$:11};z.AnimatedBobsleighSite={$:13};z.ObjectConstancy={$:14};z.MouseInfo={$:15};z.KeyboardInfo={$:16};z.SortableBarChart={$:17};A.Home={$:0};A.About={$:1};B.r$2=function(){return _1.JSUnion(void 0,[[null,[[null,["home"]]],[]],[null,[[null,["about"]]],[]],[null,[[null,["samples"]]],[B.r$1()]]]);};B.r$1=function(){return _1.JSUnion(void 0,[[null,[[null,["SimpleTextBox"]]],[]],[null,[[null,["InputTransform"]]],[]],[null,[[null,["InputTransformHtml"]]],[]],[null,[[null,["TodoList"]]],[]],[null,[[null,["PhoneExample"]]],[]],[null,[[null,["EditablePersonList"]]],[]],[null,[[null,["CheckBoxTest"]]],[]],[null,[[null,["Calculator"]]],[]],[null,[[null,["ContactFlow"]]],[]],[null,[[null,["AnimatedContactFlow"]]],[]],[null,[[null,["MessageBoard"]]],[]],[null,[[null,["BobsleighSite"]]],[]],[null,[[null,["RoutedBobsleighSite"]]],[B.r()]],[null,[[null,["AnimatedBobsleighSite"]]],[]],[null,[[null,["ObjectConstancy"]]],[]],[null,[[null,["MouseInfo"]]],[]],[null,[[null,["KeyboardInfo"]]],[]],[null,[[null,["SortableBarChart"]]],[]]]);};B.r=function(){return _1.JSUnion(void 0,[[null,[[null,[]]],[]],[null,[[null,["history"]]],[]],[null,[[null,["governance"]]],[]],[null,[[null,["team"]]],[]]]);};C.tablerow=function(dy){return dy?_4.GetOrLoadTemplate("inputtransformtemplate",{$:1,$0:"tablerow"},function(){return dt.parseHTML("<tr>\n                        <td>${lbl}</td>\n                        <td style=\"width: 70%;\">${view}</td>\n                    </tr>");},dy):_4.PrepareTemplate("inputtransformtemplate",{$:1,$0:"tablerow"},function(){return dt.parseHTML("<tr>\n                        <td>${lbl}</td>\n                        <td style=\"width: 70%;\">${view}</td>\n                    </tr>");});};C.t=function(dy){return dy?_4.GetOrLoadTemplate("inputtransformtemplate",null,function(){return dt.parseHTML("<div>\n    <div class=\"panel panel-default\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">Input</h3>\n        </div>\n        <div class=\"panel-body\">\n            <form class=\"form-horizontal\" role=\"form\">\n                <div class=\"form-group\">\n                    <label class=\"col-sm-2 control-label\" for=\"inputBox\">Write something: </label>\n                    <div class=\"col-sm-10\">\n                        <input class=\"form-control\" id=\"inputBox\" ws-var=\"inputText\">\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n    <div class=\"panel panel-default\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">Output</h3>\n        </div>\n        <div class=\"panel-body\">\n            <table class=\"table\">\n                <tbody ws-hole=\"tableBody\">\n                    <tr ws-template=\"tableRow\">\n                        <td>${lbl}</td>\n                        <td style=\"width: 70%;\">${view}</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>");},dy):_4.PrepareTemplate("inputtransformtemplate",null,function(){return dt.parseHTML("<div>\n    <div class=\"panel panel-default\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">Input</h3>\n        </div>\n        <div class=\"panel-body\">\n            <form class=\"form-horizontal\" role=\"form\">\n                <div class=\"form-group\">\n                    <label class=\"col-sm-2 control-label\" for=\"inputBox\">Write something: </label>\n                    <div class=\"col-sm-10\">\n                        <input class=\"form-control\" id=\"inputBox\" ws-var=\"inputText\">\n                    </div>\n                </div>\n            </form>\n        </div>\n    </div>\n    <div class=\"panel panel-default\">\n        <div class=\"panel-heading\">\n            <h3 class=\"panel-title\">Output</h3>\n        </div>\n        <div class=\"panel-body\">\n            <table class=\"table\">\n                <tbody ws-hole=\"tableBody\">\n                    <tr ws-template=\"tableRow\">\n                        <td>${lbl}</td>\n                        <td style=\"width: 70%;\">${view}</td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n    </div>\n</div>");});};D.InstallHash=function(dy,dz){var dA;dA=E.Create$1(D.getCurrentHash(function(dB){return _3.Parse(dz,_2.FromHash(dB,{$:1,$0:true}));},dy));D.InstallHashInto(dA,dy,dz);return dA;};D.getCurrentHash=function(dy,dz){var dA,dB;dA=a.location.hash;dB=dy(dA);return dB==null?((function(dC){return function(dD){return dC("Failed to parse route: "+bC.toSafe(dD));};}(function(dC){du.log(dC);}))(dA),dz):dB.$0;};D.InstallHashInto=function(dy,dz,dA){function dB(dE){return _3.Parse(dA,_2.FromHash(dE,{$:1,$0:true}));}function dC(){return D.getCurrentHash(dB,dz);}function dD(dE){if(!bc.Equals(dy.Get(),dE))dy.Set(dE);}a.onpopstate=function(){return dD(dC());};a.onhashchange=function(){return dD(dC());};dt(a.document.body).click(function(dE){var dF,dG,dH,dI;dF=dt(dE.target).closest("a").toArray();return!bc.Equals(dF,null)&&dF.length===1?(dG=I.get(dF,0),dG.localName==="a"?(dH=dG.getAttribute("href"),!(dH==null)&&ce.StartsWith(dH,"#")?(dI=dB(dH),dI==null?null:(dD(dI.$0),dE.preventDefault())):null):null):null;});bb.Sink(function(dE){var dF;if(!bc.Equals(dE,dC())){dF=_3.HashLink(dA,dE);a.history.pushState(null,null,dF);}},dy.get_View());};E.Set=function(dy,dz){dy.Set(dz);};E.Create$1=function(dy){return new bD.New(false,bE.New({$:2,$0:dy,$1:[]}),dy);};E.Lens=function(dy,dz,dA){var dB,dC,dD;dB=cg.Id();dC=bb.Map(dz,dy.get_View());dD=new E({Get:function(){return dz(dy.Get());},Set:function(dE){return dy.Update(function(dF){return dA(dF,dE);});},SetFinal:function(dE){return this.Set(dE);},Update:function(dE){return dy.Update(function(dF){return dA(dF,dE(dz(dF)));});},UpdateMaybe:function(dE){return dy.UpdateMaybe(function(dF){var dG;dG=dE(dz(dF));return dG==null?null:{$:1,$0:dA(dF,dG.$0)};});},get_View:function(){return dC;},get_Id:function(){return dB;}});E.New.call(dD);return dD;};E.Update=function(dy,dz){E.Set(dy,dz(dy.Get()));};F.FailWith=function(dy){throw a.Error(dy);};F.KeyValue=function(dy){return[dy.K,dy.V];};G=b.Obj=dw.Class({Equals:function(dy){return this===dy;},GetHashCode:function(){return -1;}},null,G);G.New=dw.Ctor(function(){},G);E=c.Var=dw.Class({},G,E);E.New=dw.Ctor(function(){},E);H=f.T=dw.Class({get_Item:function(dy){return bx.nth(dy,this);},GetEnumerator:function(){return new cc.New(this,null,function(dy){var dz;dz=dy.s;return dz.$==0?false:(dy.c=dz.$0,dy.s=dz.$1,true);},void 0);},GetEnumerator0:function(){return ca.Get(this);}},null,H);H.Empty=new H({$:0});I.get=function(dy,dz){I.checkBounds(dy,dz);return dy[dz];};I.length=function(dy){return dy.dims===2?dy.length*dy.length:dy.length;};I.checkBounds=function(dy,dz){if(dz<0||dz>=dy.length)F.FailWith("Index was outside the bounds of the array.");};I.sub=function(dy,dz,dA){I.checkRange(dy,dz,dA);return dy.slice(dz,dz+dA);};I.set=function(dy,dz,dA){I.checkBounds(dy,dz);dy[dz]=dA;};I.checkRange=function(dy,dz,dA){if(dA<0||dz<0||dy.length<dz+dA)F.FailWith("Index was outside the bounds of the array.");};J.$cctor=function(){J.$cctor=a.ignore;J.Sample=x.Build(z.SimpleTextBox).Id("SimpleTextBox").FileName("SimpleTextBox.fs").Keywords(f.ofArray(["text"])).Render(g.Main).RenderDescription(g.Description).Create();};K.$cctor=function(){K.$cctor=a.ignore;K.Sample=x.Build(z.InputTransform).Id("InputTransform").FileName("InputTransform.fs").Keywords(f.ofArray(["text"])).Render(h.Main).RenderDescription(h.Description).Create();};L.$cctor=function(){L.$cctor=a.ignore;L.Sample=x.Build(z.InputTransformHtml).Id("InputTransformHtml").FileName("InputTransformHtml.fs").Keywords(f.ofArray(["text"])).Render(i.Main).RenderDescription(i.Description).Create();};M.$cctor=function(){M.$cctor=a.ignore;M.Sample=x.Build(z.TodoList).Id("TodoList").FileName("TodoList.fs").Keywords(f.ofArray(["todo"])).Render(j.Main).RenderDescription(j.Description).Create();};N.$cctor=function(){N.$cctor=a.ignore;N.Sample=x.Build(z.PhoneExample).Id("PhoneExample").FileName("PhoneExample.fs").Keywords(f.ofArray(["todo"])).Render(k.Main).RenderDescription(k.Description).Create();};O.$cctor=function(){O.$cctor=a.ignore;O.peopleList=f.ofArray([l.createPerson("Alonzo","Church"),l.createPerson("Alan","Turing"),l.createPerson("Bertrand","Russell"),l.createPerson("Noam","Chomsky")]);O.memberList=_4.Element("div",[],[_4.Element("ul",[],[_4.Concat(f.map(function(dy){return _4.Element("li",[],[_4.EmbedView(bb.Map2(function(dz,dA){return _4.TextNode(dz+" "+dA);},dy.FirstName.get_View(),dy.LastName.get_View()))]);},l.peopleList()))])]);O.peopleBoxes=_4.Element("div",[],[_4.Element("ul",[],[_4.Concat(f.map(function(dy){return _4.Element("li",[],[_4.Input([],dy.FirstName),_4.Input([],dy.LastName)]);},l.peopleList()))])]);O.Sample=x.Build(z.EditablePersonList).Id("EditablePersonList").FileName("EditablePersonList.fs").Keywords(f.ofArray(["text"])).Render(l.Main).RenderDescription(l.Description).Create();};P.$cctor=function(){P.$cctor=a.ignore;P.People=f.ofArray([bg.Create("Simon",22),bg.Create("Peter",18),bg.Create("Clare",50),bg.Create("Andy",51)]);P.Sample=x.Build(z.CheckBoxTest).Id("CheckBoxTest").FileName("CheckBoxTest.fs").Keywords(f.ofArray(["todo"])).Render(m.Main).RenderDescription(m.Description).Create();};Q.$cctor=function(){Q.$cctor=a.ignore;Q.initCalc=bh.New(0,0,bi.Add);Q.Sample=x.Build(z.Calculator).Id("Calculator").FileName("Calculator.fs").Keywords(f.ofArray(["calculator"])).Render(n.Main).RenderDescription(n.Description).Create();};R.$cctor=function(){R.$cctor=a.ignore;R.personFlowlet=bj.Define(function(dy){var dz,dA;dz=E.Create$1("");dA=E.Create$1("");return _4.Element("form",[_6.cls("form-horizontal"),bd.Create("role","form")],[o.inputRow(dz,"lblName","Name",false),o.inputRow(dA,"lblAddr","Address",true),_6.divc("row",[_6.divc("col-sm-2",[]),_6.divc("col-sm-6",[_6.divc("form-group",[_4.Button("Next",[_6.cls("btn btn-default")],function(){dy(bk.New(dz.Get(),dA.Get()));})])]),_6.divc("col-sm-4",[])])]);});R.contactTypeFlowlet=bj.Define(function(dy){return _4.Element("form",[_6.cls("form-horizontal"),bd.Create("role","form")],[_4.Element("form",[_6.cls("form-group")],[_4.Element("div",[],[_4.Button("E-Mail Address",[_6.cls("btn btn-default")],function(){dy(bl.EmailTy);})]),_4.Element("div",[],[_4.Button("Phone Number",[_6.cls("btn btn-default")],function(){dy(bl.PhoneTy);})])])]);});R.Sample=x.Build(z.ContactFlow).Id("ContactFlow").FileName("ContactFlow.fs").Keywords(f.ofArray(["flowlet"])).Render(o.ExampleFlow).RenderDescription(o.Description).Create();};S.$cctor=function(){var dy,dz,dA,dB,dC,dD;S.$cctor=a.ignore;S.fadeTime=300;S.Fade=(dy=bm.get_Double(),(dz=bn.get_CubicInOut(),(dA=p.fadeTime(),dw.Curried(bo.Simple,2,[dy,dz,dA]))));S.FadeTransition=bp.Exit(function(){return((p.Fade())(1))(0);},bp.Enter(function(){return((p.Fade())(0))(1);},bp.Create(function(dE,dF){return((p.Fade())(dE))(dF);})));S.swipeTime=300;S.Swipe=(dB=bm.get_Double(),(dC=bn.get_CubicInOut(),(dD=p.swipeTime(),dw.Curried(bo.Simple,2,[dB,dC,dD]))));S.SwipeTransition=bp.Exit(function(){return((p.Swipe())(0))(400);},bp.Create(function(dE,dF){return((p.Swipe())(dE))(dF);}));S.personFlowlet=bj.Define(function(dE){var dF,dG;dF=E.Create$1("");dG=E.Create$1("");return p.AnimateFlow(_4.Element("form",[_6.cls("form-horizontal"),bd.Create("role","form")],[p.inputRow(dF,"lblName","Name"),p.inputRow(dG,"lblAddr","Address"),_6.divc("form-group",[_6.divc("col-sm-offset-2 col-sm-10",[_4.Button("Next",[_6.cls("btn btn-default")],function(){dE(bq.New(dF.Get(),dG.Get()));})])])]));});S.contactTypeFlowlet=bj.Define(function(dE){return p.AnimateFlow(_4.Element("form",[_6.cls("form-horizontal"),bd.Create("role","form")],[_6.divc("form-group",[_4.Element("div",[],[_4.Button("E-Mail Address",[_6.cls("btn btn-default")],function(){dE(br.EmailTy);})]),_4.Element("div",[],[_4.Button("Phone Number",[_6.cls("btn btn-default")],function(){dE(br.PhoneTy);})])])]));});S.Sample=x.Build(z.AnimatedContactFlow).Id("AnimatedContactFlow").FileName("AnimatedContactFlow.fs").Keywords(f.ofArray(["flowlet"])).Render(p.ExampleFlow).RenderDescription(p.Description).Create();};T.$cctor=function(){T.$cctor=a.ignore;T.i=0;T.DELAY=200;T.threads=H.Empty;T.posts=new b0.New([]);T.Sample=x.Build(z.MessageBoard).Id("MessageBoard").FileName("MessageBoard.fs").Keywords(f.ofArray(["text"])).Render(q.Main).RenderDescription(q.Description).Create();};U.$cctor=function(){U.$cctor=a.ignore;U.pages=f.ofArray([y.BobsleighHome,y.BobsleighHistory,y.BobsleighGovernance,y.BobsleighTeam]);U.Sample=x.Build(z.BobsleighSite).Id("BobsleighSite").FileName("BobsleighSite.fs").Keywords(f.ofArray(["text"])).Render(r.Main).RenderDescription(r.description).Create();};V.$cctor=function(){V.$cctor=a.ignore;V.Sample=x.Routed(function(dy){return{$:12,$0:dy};},y.BobsleighHome,function(dy){return dy.$==12?{$:1,$0:dy.$0}:null;}).Id("RoutedBobsleighSite").FileName("RoutedBobsleighSite.fs").Keywords(f.ofArray(["text"])).Render(s.Main).RenderDescription(s.description).Create();};W.$cctor=function(){var dy,dz,dA;W.$cctor=a.ignore;W.pages=f.ofArray([bu.BobsleighHome,bu.BobsleighHistory,bu.BobsleighGovernance,bu.BobsleighTeam]);W.fadeTime=300;W.Fade=(dy=bm.get_Double(),(dz=bn.get_CubicInOut(),(dA=t.fadeTime(),dw.Curried(bo.Simple,2,[dy,dz,dA]))));W.FadeTransition=bp.Exit(function(){return((t.Fade())(1))(0);},bp.Enter(function(){return((t.Fade())(0))(1);},bp.Create(function(dB,dC){return((t.Fade())(dB))(dC);})));W.Sample=x.Build(z.AnimatedBobsleighSite).Id("AnimatedBobsleighSite").FileName("AnimatedBobsleighSite.fs").Keywords(f.ofArray(["text"])).Render(t.Main).RenderDescription(t.description).Create();};X.$cctor=function(){X.$cctor=a.ignore;X.Width=960;X.Height=250;X.SimpleTransition=bp.Create(u.SimpleAnimation);X.InOutTransition=bp.Exit(function(dy){return u.SimpleAnimation(dy,u.Height());},bp.Enter(function(dy){return u.SimpleAnimation(u.Height(),dy);},u.SimpleTransition()));X.Sample=x.Build(z.ObjectConstancy).Id("ObjectConstancy").FileName("ObjectConstancy.fs").Keywords(f.ofArray(["animation"])).Render(u.Main).RenderDescription(u.Description).Create();};Y.$cctor=function(){Y.$cctor=a.ignore;Y.Sample=x.Build(z.MouseInfo).Id("MouseInfo").FileName("MouseInfo.fs").Keywords(f.ofArray(["mouse"])).Render(v.Main).RenderDescription(v.Description).Create();};Z.$cctor=function(){Z.$cctor=a.ignore;Z.keys=bw.get_KeysPressed();Z.Sample=x.Build(z.KeyboardInfo).Id("KeyboardInfo").FileName("KeyboardInfo.fs").Keywords(f.ofArray(["text"])).Render(w.Main).RenderDescription(w.Description).Create();};_1.JSUnion=function(dy,dz){var dA;function dB(dF){var dG;function dH(dI){return dI!=null&&dI.$==1&&bc.Equals(dF,dI.$0);}dG=bx.tryFindIndex(function(dI){return dH(dI[0]);},dz);return dG!=null&&dG.$==1?dG.$0:dF.$;}function dC(dF,dG){return I.init(I.length((I.get(dz,dF))[2]),function(dH){return dG["$"+ds(dH)];});}function dD(dF,dG){var dH,dI,dJ;dH=dy==null?{}:new dy();dI=I.get(dz,dF);return(dJ=dI[0],dJ!=null&&dJ.$==1)?dI[0].$0:(dH.$=dF,bx.iteri(function(dK,dL){dH["$"+ds(dK)]=dL;},dG),dH);}function dE(dF,dG){var dH;function dI(dJ,dK){return[dF,dJ,dK,dH];}dH=dG[2];return bx.map(function(dJ){return dI(dJ[0],dJ[1]);},dG[1]);}dA=bx.collect(function(dF){return dE(dF[0],dF[1]);},bx.indexed(dz));return bz.New$1(function(dF){function dG(dH,dI,dJ,dK){var dL,dM,dN;function dO(dP,dQ,dR){var dS;function dT(dU,dV){return dO(dS,dU,new H({$:1,$0:dV,$1:dR}));}return dP.$==1?(dS=dP.$1,bx.collect(function(dU){return dT(dU[0],dU[1]);},dP.$0.Parse(dQ))):[[dQ,dD(dH,I.ofList(f.rev(dR)))]];}return _1.isCorrectMethod(dI,dF.Method)?(dL=bA.startsWith(f.ofArray(dJ),dF.Segments),dL==null?[]:(dM=dL.$0,(dN=f.ofArray(dK),dN.$==0?[[_2.New(dM,dF.QueryArgs,dF.FormData,dF.Method,dF.Body),dD(dH,[])]]:dO(dN,_2.New(dM,dF.QueryArgs,dF.FormData,dF.Method,dF.Body),H.Empty)))):[];}return bx.collect(function(dH){return dG(dH[0],dH[1],dH[2],dH[3]);},dA);},function(dF){var dG,dH,dI,dJ,dK,dL;function dM(dN,dO){return dO.Write(dN);}dG=dB(dF);dH=I.get(dz,dG);dI=dH[2];dJ=I.get(dH[1],0);dK=[_2.Segment(f.ofArray(dJ[1]),dJ[0])];return!bc.Equals(dI,null)&&dI.length===0?{$:1,$0:dK}:(dL=(((dw.Curried3(I.map2))(dM))(dC(dG,dF)))(dI),I.forall(function(dN){return dN!=null;},dL)?{$:1,$0:bx.append(dK,bx.collect(function(dN){return dN.$0;},dL))}:null);});};_1.isCorrectMethod=function(dy,dz){return dz!=null&&dz.$==1?dy!=null&&dy.$==1?bc.Equals(dz.$0,dy.$0):true:!(dy!=null&&dy.$==1);};_2=_0.Route=dw.Class({ToLink:function(){return cY.WriteLink(this.Segments,this.QueryArgs);}},null,_2);_2.FromHash=function(dy,dz){var dA,dB;dA=dy.indexOf("#");return dA===-1?_2.get_Empty():(dB=dy.substring(dA+1),dz!=null&&dz.$0?dB===""||dB==="/"?_2.get_Empty():ce.StartsWith(dB,"/")?_2.FromUrl(dB.substring(1),{$:1,$0:true}):_2.Segment$2(dB):_2.FromUrl(dy.substring(dA),{$:1,$0:false}));};_2.Segment=function(dy,dz){var dA;dA=_2.get_Empty();return _2.New(dy,dA.QueryArgs,dA.FormData,dz,dA.Body);};_2.get_Empty=function(){return _2.New(H.Empty,new b0.New([]),new b0.New([]),null,cd.CreateFromValue(null));};_2.FromUrl=function(dy,dz){var dA,dB,dC;dA=(dB=dy.indexOf("?"),dB===-1?[dy,new b0.New([])]:[ce.Substring(dy,0,dB),_2.ParseQuery(dy.substring(dB+1))]);dC=_2.get_Empty();return _2.New(f.ofArray(ce.SplitChars(dA[0],["/"],dz!=null&&dz.$0?0:1)),dA[1],dC.FormData,dC.Method,dC.Body);};_2.Segment$2=function(dy){var dz;dz=_2.get_Empty();return _2.New(f.ofArray([dy]),dz.QueryArgs,dz.FormData,dz.Method,dz.Body);};_2.ParseQuery=function(dy){return bt.OfArray(I.ofSeq(I.choose(function(dz){var dA,dB;dA=ce.SplitChars(dz,["="],0);return!bc.Equals(dA,null)&&dA.length===2?(dB=I.get(dA,1),{$:1,$0:[I.get(dA,0),dB]}):((function(dC){return function(dD){return dC("wrong format for query argument: "+bC.toSafe(dD));};}(function(dC){du.log(dC);}))(dz),null);},ce.SplitChars(dy,["&"],0))));};_2.Combine=function(dy){var dz,dA,dB,dC,dD,dE,dF,dG,dH,dI;dF=I.ofSeq(dy);dG=I.length(dF);if(dG===0)return _2.get_Empty();else if(dG===1)return I.get(dF,0);else{dz=null;dA=null;dH=[];dB=new b0.New([]);dC=new b0.New([]);dD=0;dI=I.length(dF);while(dD<dI)(function(){var dJ,dK,dL;dJ=I.get(dF,dD);dK=dJ.Method;dK!=null&&dK.$==1?dz=dK:void 0;dL=dJ.Body.f();dL===null?void 0:dA=dL;dB=bt.FoldBack(function(dM,dN,dO){return dO.Add(dM,dN);},dB,dJ.QueryArgs);dC=bt.FoldBack(function(dM,dN,dO){return dO.Add(dM,dN);},dC,dJ.FormData);f.iter(function(dM){dH.push(dM);},dJ.Segments);dD=dD+1;}());return _2.New(f.ofSeq(dH),dB,dC,dz,cd.CreateFromValue(dA));}};_2.New=function(dy,dz,dA,dB,dC){return new _2({Segments:dy,QueryArgs:dz,FormData:dA,Method:dB,Body:dC});};_3.Parse=function(dy,dz){function dA(dB,dC){return dB.Segments.$==0?{$:1,$0:dC}:null;}return bx.tryPick(function(dB){return dA(dB[0],dB[1]);},dy.Parse(dz));};_3.HashLink=function(dy,dz){return"#"+_3.Link(dy,dz);};_3.Link=function(dy,dz){var dA;dA=_3.Write(dy,dz);return dA==null?"":dA.$0.ToLink();};_3.Write=function(dy,dz){var dA;dA=dy.Write(dz);return dA==null?null:{$:1,$0:_2.Combine(dA.$0)};};_4=c.Doc=dw.Class({},G,_4);_4.RunById=function(dy,dz){var dA;dA=bM.Doc().getElementById(dy);bc.Equals(dA,null)?F.FailWith("invalid id: "+dy):_4.Run(dA,dz);};_4.BindView=function(dy,dz){return _4.EmbedView(bb.Map(dy,dz));};_4.Concat=function(dy){var dz;dz=ci.ofSeqNonCopying(dy);return ci.TreeReduce(_4.Empty(),_4.Append,dz);};_4.Element=function(dy,dz,dA){var dB,dC;dB=bd.Concat(dz);dC=_4.Concat(dA);return cK.New(bM.CreateElement(dy),dB,dC);};_4.Button=function(dy,dz,dA){var dB;dB=bd.Concat(dz);return cK.New(_4.Clickable("button",dA),dB,_4.TextNode(dy));};_4.Run=function(dy,dz){_4.LoadLocalTemplates$1();ck.LinkElement(dy,dz.docNode);_4.RunInPlace(false,dy,dz);};_4.Link=function(dy,dz,dA){var dB,dC;dB=(dC=bd.Concat(dz),bd.Append(bd.Create("href","#"),dC));return cK.New(_4.Clickable("a",dA),dB,_4.TextNode(dy));};_4.EmbedView=function(dy){var dz;dz=ck.CreateEmbedNode();return _4.Mk({$:2,$0:dz},bb.Map(a.ignore,bb.Bind(function(dA){ck.UpdateEmbedNode(dz,dA.docNode);return dA.updates;},dy)));};_4.Input=function(dy,dz){return _4.InputInternal("input",function(){return bx.append(dy,[bG.Value(dz)]);});};_4.Empty=function(){return _4.Mk(null,bb.Const());};_4.Append=function(dy,dz){return _4.Mk({$:0,$0:dy.docNode,$1:dz.docNode},bb.Map2Unit(dy.updates,dz.updates));};_4.TextNode=function(dy){return _4.Mk({$:5,$0:bM.CreateText(dy)},bb.Const());};_4.Clickable=function(dy,dz){var dA;dA=bM.CreateElement(dy);dA.addEventListener("click",function(dB){dB.preventDefault();return dz();},false);return dA;};_4.LoadLocalTemplates$1=function(){if(!ck.LocalTemplatesLoaded()){ck.set_LocalTemplatesLoaded(true);_4.LoadLocalTemplates("");}};_4.RunInPlace=function(dy,dz,dA){var dB;dB=ck.CreateRunState(dz,dA.docNode);bb.Sink(bo.get_UseAnimations()||cM.BatchUpdatesEnabled()?cN.StartProcessor(ck.PerformAnimatedUpdate(dy,dB,dA.docNode)):function(){ck.PerformSyncUpdate(dy,dB,dA.docNode);},dA.updates);};_4.Mk=function(dy,dz){return new _4.New(dy,dz);};_4.InputInternal=function(dy,dz){var dA;dA=bM.CreateElement(dy);return cK.New(dA,bd.Concat(dz(dA)),_4.Empty());};_4.CheckBoxGroup=function(dy,dz,dA){function dB(dC){return bc.Equals(dz,dC);}return _4.CheckBox(dy,E.Lens(dA,function(dC){return f.exists(dB,dC);},function(dC,dD){return dD?f.exists(function(dE){return bc.Equals(dz,dE);},dC)?dC:new H({$:1,$0:dz,$1:dC}):f.filter(function(dE){return!bc.Equals(dz,dE);},dC);}));};_4.TextView=function(dy){var dz;dz=ck.CreateTextNode();return _4.Mk({$:4,$0:dz},bb.Map(function(dA){ck.UpdateTextNode(dz,dA);},dy));};_4.Radio=function(dy,dz,dA){var dB,dC;dB=bM.CreateElement("input");dB.addEventListener("click",function(){return dA.Set(dz);},false);dC=bG.DynamicProp("checked",bb.Map(function(dD){return bc.Equals(dD,dz);},dA.get_View()));return cK.New(dB,bd.Concat(f.append(f.ofArray([bd.Create("type","radio"),bd.Create("name",dA.get_Id()),dC]),f.ofSeq(dy))),_4.Empty());};_4.InputArea=function(dy,dz){return _4.InputInternal("textarea",function(){return bx.append(dy,[bG.Value(dz)]);});};_4.Select=function(dy,dz,dA,dB){return _4.SelectImpl(dy,dz,function(dC){dC[0]=dA;return _4.Concat(f.mapi(function(dD,dE){return _4.Element("option",f.ofArray([bd.Create("value",ds(dD))]),f.ofArray([_4.TextNode(dz(dE))]));},dA));},dB);};_4.SvgElement=function(dy,dz,dA){var dB,dC;dB=bd.Concat(dz);dC=_4.Concat(dA);return cK.New(bM.CreateSvgElement(dy),dB,dC);};_4.LoadLocalTemplates=function(dy){var dz;dz=ck.LoadedTemplateFile("");dz.count>0?ck.LoadedTemplates().set_Item(dy,dz):(function(){var dA,dB,dC,dD;while(true){dA=a.document.querySelector("[ws-template]");if(bc.Equals(dA,null)){dB=a.document.querySelector("[ws-children-template]");if(bc.Equals(dB,null))return null;else{dC=dB.getAttribute("ws-children-template");dB.removeAttribute("ws-children-template");_4.PrepareTemplate(dy,{$:1,$0:dC},function(dE){return function(){return bM.ChildrenArray(dE);};}(dB));}}else{dD=dA.getAttribute("ws-template");_4.PrepareSingleTemplate(dy,{$:1,$0:dD},dA);}}}(),ck.LoadedTemplates().set_Item("",ck.LoadedTemplateFile(dy)));};_4.GetOrLoadTemplate=function(dy,dz,dA,dB){_4.LoadLocalTemplates$1();_4.PrepareTemplate(dy,dz,dA);return _4.NamedTemplate(dy,dz,dB);};_4.PrepareTemplate=function(dy,dz,dA){var dB,dC,dD,dE,dF;if(!ck.LoadedTemplateFile(dy).ContainsKey(dz==null?"":dz.$0)){dB=dA();for(dC=0,dD=dB.length-1;dC<=dD;dC++){dE=I.get(dB,dC);dF=dE.parentNode;bc.Equals(dF,null)?void 0:dF.removeChild(dE);}_4.PrepareTemplateStrict(dy,dz,dB,null);}};_4.CheckBox=function(dy,dz){return _4.InputInternal("input",function(){return bx.append(dy,[bd.Create("type","checkbox"),bG.Checked(dz)]);});};_4.SelectImpl=function(dy,dz,dA,dB){var dC,dD,dE,dF;function dG(dL){return dL.selectedIndex;}function dH(dL,dM){dL.selectedIndex=dM;}function dI(dL){var dM;dM=dG(dL);return dC[0].get_Item(dM);}function dJ(dL){return bx.findIndex(function(dM){return bc.Equals(dL,dM);},dC[0]);}function dK(dL,dM){return dH(dL,dJ(dM));}dC=[H.Empty];dD=bM.CreateElement("select");dE=bG.DynamicCustom(function(dL){return function(dM){return dK(dL,dM);};},dB.get_View());dD.addEventListener("change",function(){dB.UpdateMaybe(function(dL){var dM;dM=dI(dD);return bc.Equals(dL,dM)?null:{$:1,$0:dM};});},false);return cK.New(dD,(dF=bd.Append(dE,bd.Concat(dy)),bd.Append(bG.OnAfterRender(function(dL){dK(dL,dB.Get());}),dF)),dA(dC));};_4.PrepareSingleTemplate=function(dy,dz,dA){var dB,dC,dD;dA.removeAttribute("ws-template");dB=dA.getAttribute("ws-replace");dB===null?void 0:(dA.removeAttribute("ws-replace"),dC=dA.parentNode,bc.Equals(dC,null)?void 0:(dD=a.document.createElement(dA.tagName),dD.setAttribute("ws-replace",dB),dC.replaceChild(dD,dA)));_4.PrepareTemplateStrict(dy,dz,[dA],null);};_4.NamedTemplate=function(dy,dz,dA){var dB,dC;dB=(dC=null,[ck.LoadedTemplateFile(dy).TryGetValue(dz==null?"":dz.$0,{get:function(){return dC;},set:function(dD){dC=dD;}}),dC]);return dB[0]?_4.ChildrenTemplate(dB[1].cloneNode(true),dA):(du.warn("Local template doesn't exist",dz),_4.Empty());};_4.PrepareTemplateStrict=function(dy,dz,dA,dB){var dC,dD;function dE(dQ){var dS,dT,dU,dV,dW,dX,dY,dZ;function dR(d0){var d1;d1=dQ.getAttribute(d0);d1===null?void 0:dQ.setAttribute(d0,d1.toLowerCase());}dS=dQ.attributes;dT=[];dU=[];dV=[];for(dW=0,dX=dS.length-1;dW<=dX;dW++){dY=dS.item(dW);ce.StartsWith(dY.nodeName,"ws-on")&&dY.nodeName!=="ws-onafterrender"&&dY.nodeName!=="ws-on"?(dT.push(dY.nodeName),dU.push(b7.string(dY.nodeName,{$:1,$0:"ws-on".length},null)+":"+dY.nodeValue.toLowerCase())):!ce.StartsWith(dY.nodeName,"ws-")&&(new a.RegExp(ck.TextHoleRE())).test(dY.nodeValue)?(dY.nodeValue=(dZ=new a.RegExp(ck.TextHoleRE(),"g"),dY.nodeValue.replace(dZ,function(d0,d1){return"${"+d1.toLowerCase()+"}";})),dV.push(dY.nodeName)):void 0;}!(dU.length==0)?dQ.setAttribute("ws-on",ce.concat(" ",dU)):void 0;!(dV.length==0)?dQ.setAttribute("ws-attr-holes",ce.concat(" ",dV)):void 0;dR("ws-hole");dR("ws-replace");dR("ws-attr");dR("ws-onafterrender");dR("ws-var");I.iter(function(d0){dQ.removeAttribute(d0);},dT);}function dF(dQ){var dR,dS,dT,dU,dV,dW;dR=null;dS=0;dU=dQ.textContent;dV=new a.RegExp(ck.TextHoleRE(),"g");while(dR=dV.exec(dU),dR!==null){dQ.parentNode.insertBefore(a.document.createTextNode(b7.string(dU,{$:1,$0:dS},{$:1,$0:dV.lastIndex-I.get(dR,0).length-1})),dQ);dS=dV.lastIndex;dW=a.document.createElement("span");dW.setAttribute("ws-replace",I.get(dR,1).toLowerCase());dQ.parentNode.insertBefore(dW,dQ);}dV.lastIndex=0;dQ.textContent=b7.string(dU,{$:1,$0:dS},null);}function dG(dQ,dR){function dS(dT){bM.IterSelector(dQ,"["+dT+"]",function(dU){var dV,dW;dV=(dW=null,[dR.TryGetValue(dU.getAttribute(dT).toLowerCase(),{get:function(){return dW;},set:function(dX){dW=dX;}}),dW]);dV[0]?dU.setAttribute(dT,dV[1]):void 0;});}dS("ws-hole");dS("ws-replace");dS("ws-attr");dS("ws-onafterrender");dS("ws-var");bM.IterSelector(dQ,"[ws-on]",function(dT){dT.setAttribute("ws-on",ce.concat(" ",I.map(function(dU){var dV,dW,dX;dV=ce.SplitChars(dU,[":"],1);dW=(dX=null,[dR.TryGetValue(I.get(dV,1),{get:function(){return dX;},set:function(dY){dX=dY;}}),dX]);return dW[0]?I.get(dV,0)+":"+dW[1]:dU;},ce.SplitChars(dT.getAttribute("ws-on"),[" "],1))));});return bM.IterSelector(dQ,"[ws-attr-holes]",function(dT){var dU,dV,dW;dU=ce.SplitChars(dT.getAttribute("ws-attr-holes"),[" "],1);for(dV=0,dW=dU.length-1;dV<=dW;dV++)(function(){var dX;function dY(dZ,d0){var d1;d1=F.KeyValue(d0);return dZ.replace(new a.RegExp("\\${"+d1[0]+"}","ig"),"${"+d1[1]+"}");}dX=I.get(dU,dV);return dT.setAttribute(dX,(((dw.Curried3(bx.fold))(dY))(dT.getAttribute(dX)))(dR));}());});}function dH(dQ,dR){var dS,dT,dU,dV,dW;dE(dR);dS=dR.nodeName.toLowerCase();dT=dQ.querySelector("[ws-attr="+dS+"]");if(bc.Equals(dT,null))return du.warn("Filling non-existent attr hole",dS);else{dT.removeAttribute("ws-attr");for(dU=0,dV=dR.attributes.length-1;dU<=dV;dU++){dW=dR.attributes.item(dU);dW.name==="class"&&dT.hasAttribute("class")?dT.setAttribute("class",dT.getAttribute("class")+" "+dW.nodeValue):dT.setAttribute(dW.name,dW.nodeValue);}return;}}function dI(dQ,dR){function dS(dT){bM.IterSelector(dQ,"["+dT+"]",function(dU){if(!dR.Contains(dU.getAttribute(dT)))dU.removeAttribute(dT);});}dS("ws-attr");dS("ws-onafterrender");dS("ws-var");bM.IterSelector(dQ,"[ws-hole]",function(dT){if(!dR.Contains(dT.getAttribute("ws-hole"))){dT.removeAttribute("ws-hole");while(dT.hasChildNodes())dT.removeChild(dT.lastChild);}});bM.IterSelector(dQ,"[ws-replace]",function(dT){if(!dR.Contains(dT.getAttribute("ws-replace")))dT.parentNode.removeChild(dT);});bM.IterSelector(dQ,"[ws-on]",function(dT){dT.setAttribute("ws-on",ce.concat(" ",I.filter(function(dU){return dR.Contains(I.get(ce.SplitChars(dU,[":"],1),1));},ce.SplitChars(dT.getAttribute("ws-on"),[" "],1))));});return bM.IterSelector(dQ,"[ws-attr-holes]",function(dT){var dU,dV,dW,dX,dY;dU=ce.SplitChars(dT.getAttribute("ws-attr-holes"),[" "],1);for(dV=0,dW=dU.length-1;dV<=dW;dV++){dX=I.get(dU,dV);dT.setAttribute(dX,(dY=new a.RegExp(ck.TextHoleRE(),"g"),dT.getAttribute(dX).replace(dY,function(dZ,d0){return dR.Contains(d0)?dZ:"";})));}});}function dJ(dQ,dR){var dS;dS=dQ.querySelector("[ws-replace]");return bc.Equals(dS,null)?(du.warn("Filling non-existent text hole",dz),null):(dS.parentNode.replaceChild(new a.Text(dR),dS),{$:1,$0:dS.getAttribute("ws-replace")});}function dK(dQ,dR,dS){while(true)if(dQ.hasChildNodes())dS=dR.insertBefore(dQ.lastChild,dS);else return null;}function dL(dQ,dR,dS){var dT,dU,dV,dW,dY,dZ,d0,d1,d2,d3,d4,d5,d6,d7,d8,d9,d_,d$,ea,eb,ec,ed,ee,ef,eg,eh;function dX(ei){}while(true)switch(dQ){case 0:dY=b7.string(dR.nodeName,{$:1,$0:3},null).toLowerCase();dZ=(dT=dY.indexOf("."),dT===-1?[dy,dY]:[b7.string(dY,null,{$:1,$0:dT-1}),b7.string(dY,{$:1,$0:dT+1},null)]);d0=dZ[1];d1=dZ[0];if(!ck.LoadedTemplates().ContainsKey(d1))return du.warn("Instantiating non-loaded template",d0);else{d2=ck.LoadedTemplates().get_Item(d1);if(!d2.ContainsKey(d0))return du.warn("Instantiating non-loaded template",d0);else{d3=d2.get_Item(d0);d4=d3.cloneNode(true);d5=new cn.New$3();d6=new cm.New$5();d7=dR.attributes;for(d8=0,d9=d7.length-1;d8<=d9;d8++){d_=d7.item(d8).name.toLowerCase();d6.set_Item(d_,(d$=d7.item(d8).nodeValue,d$===""?d_:d$.toLowerCase()));!d5.Add(d_)?du.warn("Hole mapped twice",d_):void 0;}for(ea=0,eb=dR.childNodes.length-1;ea<=eb;ea++){ec=dR.childNodes[ea];bc.Equals(ec.nodeType,bF.ELEMENT_NODE)?!d5.Add(ec.nodeName.toLowerCase())?du.warn("Hole filled twice",d0):void 0:void 0;}ed=dR.childNodes.length===1&&bc.Equals(dR.firstChild.nodeType,bF.TEXT_NODE);if(ed){dV=dJ(d4,dR.firstChild.textContent);((function(ei){return function(ej){if(ej!=null)ei(ej.$0);};}((dW=function(ei){return function(ej){return ei.Add(ej);};}(d5),function(ei){return dX(dW(ei));})))(dV));}dI(d4,d5);if(!ed){for(ee=0,ef=dR.childNodes.length-1;ee<=ef;ee++){eg=dR.childNodes[ee];bc.Equals(eg.nodeType,bF.ELEMENT_NODE)?eg.hasAttributes()?dH(d4,eg):dM(d4,eg):void 0;}}dG(d4,d6);(((function(ei){function ej(ek,el){return dK(ei,ek,el);}return function(ek){return function(el){return ej(ek,el);};};}(d4))(dR.parentNode))(dR));dR.parentNode.removeChild(dR);return;}}break;case 1:if(dS!==null){eh=dS.nextSibling;if(bc.Equals(dS.nodeType,bF.TEXT_NODE))dF(dS);else if(bc.Equals(dS.nodeType,bF.ELEMENT_NODE))dO(dS);dS=eh;}else return null;break;}}function dM(dQ,dR){var dS,dU,dV;function dT(dW,dX){var dY,dZ,d0;if(dU==="title"&&dR.hasChildNodes()){dY=dt.parseHTML(dR.textContent);dR.removeChild(dR.firstChild);for(dZ=0,d0=dY.length-1;dZ<=d0;dZ++)dR.appendChild(I.get(dY,dZ));}else null;dO(dR);return dK(dR,dW,dX);}dU=dR.nodeName.toLowerCase();bM.IterSelector(dQ,"[ws-attr-holes]",function(dW){var dX,dY,dZ,d0,d1;dX=ce.SplitChars(dW.getAttribute("ws-attr-holes"),[" "],1);for(dY=0,dZ=dX.length-1;dY<=dZ;dY++){d0=I.get(dX,dY);dW.setAttribute(d0,(d1=new a.RegExp("\\${"+dU+"}","ig"),dW.getAttribute(d0).replace(d1,dR.textContent)));}});dV=dQ.querySelector("[ws-hole="+dU+"]");if(bc.Equals(dV,null)){dS=dQ.querySelector("[ws-replace="+dU+"]");return bc.Equals(dS,null)?null:(dT(dS.parentNode,dS),void dS.parentNode.removeChild(dS));}else{while(dV.hasChildNodes())dV.removeChild(dV.lastChild);dV.removeAttribute("ws-hole");return dT(dV,null);}}function dN(dQ){return dL(0,dQ);}function dO(dQ){var dR,dS;if(ce.StartsWith(dQ.nodeName.toLowerCase(),"ws-")&&!dQ.hasAttribute("ws-template"))dN(dQ);else{dE(dQ);dR=dQ.getAttribute("ws-template");if(dR===null){dS=dQ.getAttribute("ws-children-template");if(dS===null)dP(dQ,dQ.firstChild);else{dQ.removeAttribute("ws-children-template");_4.PrepareTemplate(dy,{$:1,$0:dS},function(){return bM.ChildrenArray(dQ);});while(dQ.hasChildNodes())dQ.removeChild(dQ.lastChild);}}else _4.PrepareSingleTemplate(dy,{$:1,$0:dR},dQ);}}function dP(dQ,dR){return dL(1,dQ,dR);}dC=dB!=null&&dB.$==1?dB.$0:_4.FakeRoot(dA);dD=(dz==null?"":dz.$0).toLowerCase();ck.LoadedTemplateFile(dy).set_Item(dD,dC);I.length(dA)>0?dP(dC,I.get(dA,0)):void 0;};_4.ConvertBy=function(dy,dz,dA){return _4.Flatten(bb.MapSeqCachedBy(dy,dz,dA));};_4.PasswordBox=function(dy,dz){return _4.InputInternal("input",function(){return bx.append(dy,[bG.Value(dz),bd.Create("type","password")]);});};_4.ChildrenTemplate=function(dy,dz){var dA,dB,dC,dD,dE;dA=_4.InlineTemplate(dy,dz);dB=dA[1];dC=dA[0];dD=dC.Els;return!bc.Equals(dD,null)&&dD.length===1&&(I.get(dD,0)instanceof bF&&(bc.Equals(I.get(dD,0).nodeType,bF.ELEMENT_NODE)&&(dE=I.get(dD,0),true)))?cK.TreeNode(dC,dB):_4.Mk({$:6,$0:dC},dB);};_4.FakeRoot=function(dy){var dz,dA,dB;dz=a.document.createElement("div");for(dA=0,dB=dy.length-1;dA<=dB;dA++)dz.appendChild(I.get(dy,dA));return dz;};_4.Flatten=function(dy){return _4.EmbedView(bb.Map(_4.Concat,dy));};_4.InlineTemplate=function(dy,dz){var dA,dB,dE,dF,dG,dH,dI,dJ,dK;function dC(dL,dM){var dN,dO,dP;dN=bN.Insert(dL,dM);dF.push(bN.Updates(dN));dG.push([dL,dN]);dO=dw.GetOptional(dN.OnAfterRender);return dO==null?null:(dP=dO.$0,void dH.push(function(){dP(dL);}));}function dD(dL){var dM,dN;dM=(dN=null,[dI.TryGetValue(dL,{get:function(){return dN;},set:function(dO){dN=dO;}}),dN]);return dM[0]?dM[1].$==0?{$:1,$0:dM[1].$1}:dM[1].$==1?{$:1,$0:_4.TextNode(dM[1].$1)}:dM[1].$==2?{$:1,$0:_4.TextView(dM[1].$1)}:dM[1].$==8?{$:1,$0:_4.TextView(dM[1].$1.get_View())}:dM[1].$==9?{$:1,$0:_4.TextView(bb.Map(ds,dM[1].$1.get_View()))}:dM[1].$==10?{$:1,$0:_4.TextView(bb.Map(function(dO){return dO.get_Input();},dM[1].$1.get_View()))}:dM[1].$==11?{$:1,$0:_4.TextView(bb.Map(ds,dM[1].$1.get_View()))}:dM[1].$==12?{$:1,$0:_4.TextView(bb.Map(function(dO){return dO.get_Input();},dM[1].$1.get_View()))}:dM[1].$==13?{$:1,$0:_4.TextView(bb.Map(ds,dM[1].$1.get_View()))}:(du.warn("Content hole filled with attribute data",dL),null):null;}dE=[];dF=[];dG=[];dH=[];dI=new cm.New$5();dJ=ca.Get(dz);try{while(dJ.MoveNext()){dK=dJ.Current();dI.set_Item(dK.$0,dK);}}finally{if("Dispose"in dJ)dJ.Dispose();}dA=bM.ChildrenArray(dy);bM.IterSelector(dy,"[ws-hole]",function(dL){var dM,dN,dO;dO=dL.getAttribute("ws-hole");dL.removeAttribute("ws-hole");while(dL.hasChildNodes())dL.removeChild(dL.lastChild);dM=dD(dO);dM!=null&&dM.$==1?(dN=dM.$0,ck.LinkElement(dL,dN.docNode),dE.push(cI.New(bN.Empty(dL),dN.docNode,null,dL,cg.Int(),null)),dF.push(dN.updates)):void 0;});bM.IterSelector(dy,"[ws-replace]",function(dL){var dM,dN,dO,dP,dQ,dR;dM=dD(dL.getAttribute("ws-replace"));dM!=null&&dM.$==1?(dN=dM.$0,dO=dL.parentNode,dP=a.document.createTextNode(""),dO.replaceChild(dP,dL),dQ=ck.InsertBeforeDelim(dP,dN.docNode),dR=I.tryFindIndex(function(dS){return dL===dS;},dA),dR==null?void 0:I.set(dA,dR.$0,dN.docNode),dE.push(cI.New(bN.Empty(dO),dN.docNode,{$:1,$0:[dQ,dP]},dO,cg.Int(),null)),dF.push(dN.updates)):void 0;});bM.IterSelector(dy,"[ws-attr]",function(dL){var dM,dN,dO;dM=dL.getAttribute("ws-attr");dL.removeAttribute("ws-attr");dN=(dO=null,[dI.TryGetValue(dM,{get:function(){return dO;},set:function(dP){dO=dP;}}),dO]);dN[0]?dN[1].$==3?dC(dL,dN[1].$1):du.warn("Attribute hole filled with non-attribute data",dM):void 0;});bM.IterSelector(dy,"[ws-on]",function(dL){dC(dL,bd.Concat(I.choose(function(dM){var dN,dO,dP;dN=ce.SplitChars(dM,[":"],1);dO=(dP=null,[dI.TryGetValue(I.get(dN,1),{get:function(){return dP;},set:function(dQ){dP=dQ;}}),dP]);return dO[0]?dO[1].$==4?{$:1,$0:bG.Handler(I.get(dN,0),dO[1].$1)}:dO[1].$==5?{$:1,$0:bd.Handler(I.get(dN,0),dO[1].$2)}:(du.warn("Event hole on"+I.get(dN,0)+" filled with non-event data",I.get(dN,1)),null):null;},ce.SplitChars(dL.getAttribute("ws-on"),[" "],1))));dL.removeAttribute("ws-on");});bM.IterSelector(dy,"[ws-onafterrender]",function(dL){var dM,dN,dO;dM=dL.getAttribute("ws-onafterrender");dN=(dO=null,[dI.TryGetValue(dM,{get:function(){return dO;},set:function(dP){dO=dP;}}),dO]);dN[0]?dN[1].$==6?(dL.removeAttribute("ws-onafterrender"),dC(dL,bG.OnAfterRender(dN[1].$1))):dN[1].$==7?(dL.removeAttribute("ws-onafterrender"),dC(dL,bG.OnAfterRender(dN[1].$1))):du.warn("onafterrender hole filled with non-onafterrender data",dM):void 0;});bM.IterSelector(dy,"[ws-var]",function(dL){var dM,dN,dO;dM=dL.getAttribute("ws-var");dL.removeAttribute("ws-var");dN=(dO=null,[dI.TryGetValue(dM,{get:function(){return dO;},set:function(dP){dO=dP;}}),dO]);dN[0]?dN[1].$==8?dC(dL,bG.Value(dN[1].$1)):dN[1].$==9?dC(dL,bG.Checked(dN[1].$1)):dN[1].$==10?dC(dL,bG.IntValue(dN[1].$1)):dN[1].$==11?dC(dL,bG.IntValueUnchecked(dN[1].$1)):dN[1].$==12?dC(dL,bG.FloatValue(dN[1].$1)):dN[1].$==13?dC(dL,bG.FloatValueUnchecked(dN[1].$1)):du.warn("Var hole filled with non-Var data",dM):void 0;});bM.IterSelector(dy,"[ws-attr-holes]",function(dL){var dM,dN,dO,dP;dM=new a.RegExp(ck.TextHoleRE(),"g");dN=ce.SplitChars(dL.getAttribute("ws-attr-holes"),[" "],1);dL.removeAttribute("ws-attr-holes");for(dO=0,dP=dN.length-1;dO<=dP;dO++)(function(){var dQ,dR,dS,dT,dU,dV,dW,dX,dY,dZ,d0,d1,d2;dZ=I.get(dN,dO);d0=dL.getAttribute(dZ);dQ=null;dR=0;d1=[];while(dQ=dM.exec(d0),dQ!==null){d2=b7.string(d0,{$:1,$0:dR},{$:1,$0:dM.lastIndex-I.get(dQ,0).length-1});dR=dM.lastIndex;d1.push([d2,I.get(dQ,1)]);}dT=b7.string(d0,{$:1,$0:dR},null);dM.lastIndex=0;dU=I.foldBack(function(d3,d4){return(function(d5){var d6,d7;d6=d5[0];d7=d5[1];return function(d8){var d9,d_,d$,ea,eb;d9=d8[0];d_=d8[1];d$=(ea=(eb=null,[dI.TryGetValue(d7,{get:function(){return eb;},set:function(ec){eb=ec;}}),eb]),ea[0]?ea[1].$==1?{$:0,$0:ea[1].$1}:ea[1].$==2?{$:1,$0:ea[1].$1}:ea[1].$==8?{$:1,$0:ea[1].$1.get_View()}:ea[1].$==9?{$:1,$0:bb.Map(ds,ea[1].$1.get_View())}:ea[1].$==10?{$:1,$0:bb.Map(function(ec){return ec.get_Input();},ea[1].$1.get_View())}:ea[1].$==11?{$:1,$0:bb.Map(ds,ea[1].$1.get_View())}:ea[1].$==12?{$:1,$0:bb.Map(function(ec){return ec.get_Input();},ea[1].$1.get_View())}:ea[1].$==13?{$:1,$0:bb.Map(ds,ea[1].$1.get_View())}:(du.warn("Attribute value hole filled with non-text data",d7),{$:0,$0:""}):{$:0,$0:""});return d$.$==1?[d6,new H({$:1,$0:d9===""?d$.$0:bb.Map(function(ec){return ec+d9;},d$.$0),$1:d_})]:[d6+d$.$0+d9,d_];};}(d3))(d4);},d1,[dT,H.Empty]);return dC(dL,dU[1].$==1?dU[1].$1.$==1?dU[1].$1.$1.$==1?dU[1].$1.$1.$1.$==0?(dV=dU[0],bG.Dynamic(dZ,bb.Map3(function(d3,d4,d5){return dV+d3+d4+d5;},dU[1].$0,dU[1].$1.$0,dU[1].$1.$1.$0))):(dW=dU[0],bG.Dynamic(dZ,bb.Map(function(d3){return dW+ce.concat("",d3);},bb.Sequence(dU[1])))):(dX=dU[0],bG.Dynamic(dZ,bb.Map2(function(d3,d4){return dX+d3+d4;},dU[1].$0,dU[1].$1.$0))):dU[0]===""?bG.Dynamic(dZ,dU[1].$0):(dY=dU[0],bG.Dynamic(dZ,bb.Map(function(d3){return dY+d3;},dU[1].$0))):bd.Create(dZ,dU[0]));}());});return[dw.DeleteEmptyFields({Els:dA,Dirty:true,Holes:dE,Attrs:dG,Render:(dB=dH.length==0?null:{$:1,$0:function(dL){I.iter(function(dM){dM(dL);},dH);}},dB?dB.$0:void 0)},["Render"]),ci.TreeReduce(bb.Const(),bb.Map2Unit,dF)];};_4.New=dw.Ctor(function(dy,dz){this.docNode=dy;this.updates=dz;},_4);_5.New=function(dy,dz,dA,dB){return{Name:dy,ImgURL:dz,Description:dA,URLs:dB};};_6.cls=function(dy){return bG.Class(dy);};_6.divc=function(dy,dz){return _4.Element("div",f.ofArray([_6.cls(dy)]),dz);};_6.sty=function(dy,dz){return bG.Style(dy,dz);};_6.href=function(dy,dz){return _4.Element("a",f.ofArray([bd.Create("href",dz)]),f.ofArray([_4.TextNode(dy)]));};_8=_7.attr=dw.Class({},G,_8);x.SamplesDefault=function(){bH.$cctor();return bH.SamplesDefault;};x.Build=function(dy){return x.Routed(function(){return dy;},null,function(dz){return bc.Equals(dz,dy)?{$:1,$0:null}:null;});};x.Routed=function(dy,dz,dA){return be.New(dz,dy,dA,function(){return _4.Empty();},function(){return _4.Empty();},bK.New("Unknown.fs",H.Empty,"Unknown"));};x.Render=function(dy,dz,dA,dB,dC){return _4.Element("section",[_6.cls("block-small")],[_6.divc("container",[_6.divc("row",[x.Sidebar(dy,dC),x.RenderContent(dz,dA,dB)])])]);};x.Sidebar=function(dy,dz){return _6.divc("col-md-3",[_4.Element("h4",[],[_4.TextNode("Samples")]),_4.Concat(f.map(function(dA){var dB;dB=bG.DynamicClassPred("active",bb.Map(function(dC){return dC.$==2&&dA.IsThis(dC.$0);},dy.get_View()));return _4.Link(dA.Meta.Title,[_6.cls("list-group-item"),dB],function(){E.Set(dy,{$:2,$0:dA.DefaultPage});});},dz))]);};x.RenderContent=function(dy,dz,dA){return _6.divc("samples col-md-9",[_4.Element("div",[],[_6.divc("row",[_4.Element("h1",[],[_4.TextNode(dy.Title)]),_4.Element("div",[],[_4.Element("p",[],[dA]),_4.Element("p",[],[_4.Element("a",[bd.Create("href","https://github.com/intellifactory/websharper.ui.next.samples/blob/master/src/"+dy.FileName)],[_4.TextNode("View Source")])])])]),_6.divc("row",[_4.Element("p",[],[dz])])])]);};_9.New=function(dy,dz,dA,dB){return{Page:dy,IsThis:dz,Meta:dA,DefaultPage:dB};};_.Sample=function(){bL.$cctor();return bL.Sample;};_.SimpleAnimation=function(dy,dz){return _.DelayedAnimation(0,dy,dz);};_.SimpleTransition=function(){bL.$cctor();return bL.SimpleTransition;};_.LoadFromCSV=function(dy){return cW.FromContinuations(function(dz){dt.get(dy,new G.New(),function(dA){dz(_.ParseCSV(dA));});});};_.Main=function(dy){var dz,dA;dz=E.Create$1(cL.ByLetter);dA=bb.Map2(_.ViewData,bb.Map(f.ofSeq,_.LoadData()),dz.get_View());return _4.Element("div",[],[_4.Select([],_.ShowOrdering,f.ofArray([cL.ByLetter,cL.ByFrequency]),dz),_.DisplayGraph(dA)]);};_.Description=function(dy){return _4.Element("div",[],[_4.TextNode("This sample show-cases animation and data display.")]);};_.DelayedAnimation=function(dy,dz,dA){return bo.Delayed(bm.get_Double(),bn.get_CubicInOut(),300,dy,dz,dA);};_.ParseCSV=function(dy){return I.map(function(dz){return _.mkEntry(ce.SplitChars(dz,[","],0));},b7.array(I.filter(function(dz){return dz!=="";},ce.SplitChars(dy,["\r","\n"],0)),{$:1,$0:1},null));};_.LoadData=function(){bL.$cctor();return bL.LoadData;};_.ViewData=function(dy,dz){var dA,dB,dC;dA=f.length(dy);dB=bx.fold(function(dD,dE){return dE.DataValue>dD?dE.DataValue:dD;},0,dy);dC=dz.$==1?function(dD){return function(dE){return dE.DataValue<dD.DataValue?-1:dD.DataValue===dE.DataValue?0:1;};}:function(dD){return function(dE){return bc.Compare(dD.DataLabel,dE.DataLabel);};};return f.mapi(function(dD,dE){return c3.New(dE.DataLabel,dE.DataValue,dD,dB,dA);},f.sortWith(function(dD,dE){return(dC(dD))(dE);},f.ofSeq(dy)));};_.ShowOrdering=function(dy){return dy.$==1?"By Frequency":"By Letter";};_.DisplayGraph=function(dy){return _4.Element("div",[],[_4.SvgElement("svg",[bd.Create("width",ds(_.Width())),bd.Create("height",ds(_.Height()))],[_4.EmbedView(bb.Map(_4.Concat,bb.MapSeqCachedViewBy(function(dz){return dz.Label;},_.Render,dy)))])]);};_.mkEntry=function(dy){var dz;return c2.New(I.get(dy,0),(dz=a.Number(I.get(dy,1)),a.isNaN(dz)?new dc.New("Input string was not in a correct format."):dz));};_.Width=function(){bL.$cctor();return bL.Width;};_.Height=function(){bL.$cctor();return bL.Height;};_.Render=function(dy,dz){function dA(dD,dE){return bG.Dynamic(dD,bb.Map(function(dF){return ds(dE(dF));},dz));}function dB(dD){return _.Width()/+dD.NumData-_.Spacing();}function dC(dD){return dD.Value/dD.MaxValue*_.Height();}return _4.SvgElement("g",[bG.Style("fill","steelblue")],[_4.SvgElement("rect",[dA("width",dB),dA("height",dC),bG.Animated("x",_.BarTransition(),bb.Map(function(dD){return(dB(dD)+_.Spacing())*+dD.Rank;},dz),ds),dA("y",function(dD){return _.Height()-dC(dD);})],[])]);};_.Spacing=function(){bL.$cctor();return bL.Spacing;};_.BarTransition=function(){bL.$cctor();return bL.BarTransition;};ba.NewFromSeq=function(dy){var dz,dA,dB;dz={};dA=ca.Get(dy);try{while(dA.MoveNext()){dB=dA.Current();dz[dB[0]]=dB[1];}}finally{if("Dispose"in dA)dA.Dispose();}return dz;};bb.Map=function(dy,dz){return bb.CreateLazy(function(){return bE.Map(dy,dz());});};bb.Map2=function(dy,dz,dA){return bb.CreateLazy(function(){return bE.Map2(dy,dz(),dA());});};bb.Sink=function(dy,dz){function dA(){bE.WhenRun(dz(),dy,function(){cW.scheduler().Fork(dA);});}cW.scheduler().Fork(dA);};bb.CreateLazy=function(dy){var dz;dz={c:null,o:dy};return function(){var dA,dB;dA=dz.c;return dA===null?(dA=dz.o(),dz.c=dA,(dB=dA.s,dB!=null&&dB.$==0)?dz.o=null:bE.WhenObsoleteRun(dA,function(){dz.c=null;}),dA):dA;};};bb.Const=function(dy){var dz;dz=bE.New({$:0,$0:dy});return function(){return dz;};};bb.MapSeqCachedViewBy=function(dy,dz,dA){var dB;dB=[new cm.New$5()];return bb.Map(function(dC){var dD,dE,dF;dD=dB[0];dE=new cm.New$5();dF=ci.mapInPlace(function(dG){var dH,dI,dJ;dH=dy(dG);dI=dD.ContainsKey(dH)?(dJ=dD.get_Item(dH),(E.Set(dJ.r,dG),dJ)):bb.ConvertSeqNode(function(dK){return dz(dH,dK);},dG);dE.set_Item(dH,dI);return dI.e;},I.ofSeq(dC));dB[0]=dE;return dF;},dA);};bb.UpdateWhile=function(dy,dz,dA){var dB;dB=[dy];return bb.BindInner(function(dC){return dC?bb.Map(function(dD){dB[0]=dD;return dD;},dA):bb.Const(dB[0]);},dz);};bb.SnapshotOn=function(dy,dz,dA){var dB;dB=bE.New({$:2,$0:dy,$1:[]});return bb.CreateLazy(function(){return dB.s==null?bE.SnapshotOn(dz(),dA()):(bE.WhenObsolete(dz(),dB),dB);});};bb.MapAsync=function(dy,dz){return bb.CreateLazy(function(){return bE.MapAsync(dy,dz());});};bb.Bind=function(dy,dz){return bb.Join(bb.Map(dy,dz));};bb.ConvertSeqNode=function(dy,dz){var dA,dB;dA=E.Create$1(dz);dB=dA.get_View();return{e:dy(dB),r:dA,w:dB};};bb.BindInner=function(dy,dz){return bb.JoinInner(bb.Map(dy,dz));};bb.Map2Unit=function(dy,dz){return bb.CreateLazy(function(){return bE.Map2Unit(dy(),dz());});};bb.Join=function(dy){return bb.CreateLazy(function(){return bE.Join(dy());});};bb.JoinInner=function(dy){return bb.CreateLazy(function(){return bE.JoinInner(dy());});};bb.MapSeqCachedBy=function(dy,dz,dA){var dB;dB=[new cm.New$5()];return bb.Map(function(dC){var dD,dE,dF;dD=dB[0];dE=new cm.New$5();dF=ci.mapInPlace(function(dG){var dH,dI;dH=dy(dG);dI=dD.ContainsKey(dH)?dD.get_Item(dH):dz(dG);dE.set_Item(dH,dI);return dI;},I.ofSeq(dC));dB[0]=dE;return dF;},dA);};bb.Map3=function(dy,dz,dA,dB){return bb.CreateLazy(function(){return bE.Map3(dy,dz(),dA(),dB());});};bb.Sequence=function(dy){return bb.CreateLazy(function(){return bE.Sequence(bx.map(function(dz){return dz();},dy));});};bc.Equals=function(dy,dz){var dA,dB,dC,dD;if(dy===dz)return true;else{dA=typeof dy;if(dA=="object"){if(dy===null||dy===void 0||dz===null||dz===void 0)return false;else if("Equals"in dy)return dy.Equals(dz);else if(dy instanceof a.Array&&dz instanceof a.Array)return bc.arrayEquals(dy,dz);else if(dy instanceof a.Date&&dz instanceof a.Date)return bc.dateEquals(dy,dz);else{dB=[true];for(var dE in dy)if(function(dF){dB[0]=!dy.hasOwnProperty(dF)||dz.hasOwnProperty(dF)&&bc.Equals(dy[dF],dz[dF]);return!dB[0];}(dE))break;if(dB[0]){for(var dF in dz)if(function(dG){dB[0]=!dz.hasOwnProperty(dG)||dy.hasOwnProperty(dG);return!dB[0];}(dF))break;}return dB[0];}}else return dA=="function"&&("$Func"in dy?dy.$Func===dz.$Func&&dy.$Target===dz.$Target:"$Invokes"in dy&&"$Invokes"in dz&&bc.arrayEquals(dy.$Invokes,dz.$Invokes));}};bc.arrayEquals=function(dy,dz){var dA,dB;if(I.length(dy)===I.length(dz)){dA=true;dB=0;while(dA&&dB<I.length(dy)){!bc.Equals(I.get(dy,dB),I.get(dz,dB))?dA=false:void 0;dB=dB+1;}return dA;}else return false;};bc.dateEquals=function(dy,dz){return dy.getTime()===dz.getTime();};bc.Compare=function(dy,dz){var dA,dB,dC,dD,dE,dF;if(dy===dz)return 0;else{dB=typeof dy;switch(dB=="function"?1:dB=="boolean"?2:dB=="number"?2:dB=="string"?2:dB=="object"?3:0){case 0:return typeof dz=="undefined"?0:-1;break;case 1:return F.FailWith("Cannot compare function values.");break;case 2:return dy<dz?-1:1;break;case 3:if(dy===null)dC=-1;else if(dz===null)dC=1;else if("CompareTo"in dy)dC=dy.CompareTo(dz);else if("CompareTo0"in dy)dC=dy.CompareTo0(dz);else if(dy instanceof a.Array&&dz instanceof a.Array)dC=bc.compareArrays(dy,dz);else if(dy instanceof a.Date&&dz instanceof a.Date)dC=bc.compareDates(dy,dz);else{dD=[0];for(var dG in dy)if(function(dH){return!dy.hasOwnProperty(dH)?false:!dz.hasOwnProperty(dH)?(dD[0]=1,true):(dD[0]=bc.Compare(dy[dH],dz[dH]),dD[0]!==0);}(dG))break;if(dD[0]===0){for(var dH in dz)if(function(dI){return!dz.hasOwnProperty(dI)?false:!dy.hasOwnProperty(dI)&&(dD[0]=-1,true);}(dH))break;}dC=dD[0];}return dC;break;}}};bc.Hash=function(dy){var dz;dz=typeof dy;return dz=="function"?0:dz=="boolean"?dy?1:0:dz=="number"?dy:dz=="string"?bc.hashString(dy):dz=="object"?dy==null?0:dy instanceof a.Array?bc.hashArray(dy):bc.hashObject(dy):0;};bc.compareArrays=function(dy,dz){var dA,dB;if(I.length(dy)<I.length(dz))return -1;else if(I.length(dy)>I.length(dz))return 1;else{dA=0;dB=0;while(dA===0&&dB<I.length(dy)){dA=bc.Compare(I.get(dy,dB),I.get(dz,dB));dB=dB+1;}return dA;}};bc.compareDates=function(dy,dz){return bc.Compare(dy.getTime(),dz.getTime());};bc.hashString=function(dy){var dz,dA,dB;if(dy===null)return 0;else{dz=5381;for(dA=0,dB=dy.length-1;dA<=dB;dA++)dz=bc.hashMix(dz,dy[dA].charCodeAt());return dz;}};bc.hashArray=function(dy){var dz,dA,dB;dz=-34948909;for(dA=0,dB=I.length(dy)-1;dA<=dB;dA++)dz=bc.hashMix(dz,bc.Hash(I.get(dy,dA)));return dz;};bc.hashObject=function(dy){var dz,dA;if("GetHashCode"in dy)return dy.GetHashCode();else{dz=[0];for(var dB in dy)if(function(dC){dz[0]=bc.hashMix(bc.hashMix(dz[0],bc.hashString(dC)),bc.Hash(dy[dC]));return false;}(dB))break;return dz[0];}};bc.hashMix=function(dy,dz){return(dy<<5)+dy+dz;};bd=c.AttrProxy=dw.Class({},null,bd);bd.Create=function(dy,dz){return bN.Static(function(dA){bM.SetAttr(dA,dy,dz);});};bd.Concat=function(dy){var dz;dz=ci.ofSeqNonCopying(dy);return ci.TreeReduce(bN.EmptyAttr(),bd.Append,dz);};bd.Append=function(dy,dz){return bN.AppendTree(dy,dz);};bd.Handler=function(dy,dz){return bd.HandlerImpl(dy,dz);};bd.HandlerImpl=function(dy,dz){return bN.Static(function(dA){dA.addEventListener(dy,function(dB){return(dz(dA))(dB);},false);});};be=x.Builder=dw.Class({Create:function(){var dy,dz,dA;function dB(dC){return dC!=null;}dy=this;return _9.New((dz=null,function(dC){return function(dD){var dE,dF;return dz==null?(dE=E.Lens(dC,function(dG){var dH;return dG.$==2?(dH=dy.Unwrap(dG.$0),dH==null?dy.DefaultPage:dH.$0):dy.DefaultPage;},function(dG,dH){return{$:2,$0:dy.Wrap(dH)};}),(dF=x.Render(dC,dy.Meta,dy.Body(dE),dy.Description(dE),dD),(dz={$:1,$0:dF},dF))):dz.$0;};}),(dA=this.Unwrap,function(dC){return dB(dA(dC));}),this.Meta,this.Wrap(this.DefaultPage));},RenderDescription:function(dy){return be.New(this.DefaultPage,this.Wrap,this.Unwrap,this.Body,dy,this.Meta);},Render:function(dy){return be.New(this.DefaultPage,this.Wrap,this.Unwrap,dy,this.Description,this.Meta);},Keywords:function(dy){var dz;return be.New(this.DefaultPage,this.Wrap,this.Unwrap,this.Body,this.Description,(dz=this.Meta,bK.New(dz.FileName,dy,dz.Title)));},FileName:function(dy){var dz;return be.New(this.DefaultPage,this.Wrap,this.Unwrap,this.Body,this.Description,(dz=this.Meta,bK.New(dy,dz.Keywords,dz.Title)));},Id:function(dy){var dz;return be.New(this.DefaultPage,this.Wrap,this.Unwrap,this.Body,this.Description,(dz=this.Meta,bK.New(dz.FileName,dz.Keywords,dy)));}},null,be);be.New=function(dy,dz,dA,dB,dC,dD){return new be({DefaultPage:dy,Wrap:dz,Unwrap:dA,Body:dB,Description:dC,Meta:dD});};bf.New=function(dy,dz){return{FirstName:dy,LastName:dz};};bg.Create=function(dy,dz){return bg.New(dy,dz);};bg.New=function(dy,dz){return{Name:dy,Age:dz};};bh.New=function(dy,dz,dA){return{Memory:dy,Operand:dz,Operation:dA};};bi.Add={$:0};bi.Sub={$:1};bi.Mul={$:2};bi.Div={$:3};bj.Define=function(dy){return new bj.New(function(dz){return dy(function(dA){dz(dA);});});};bj.get_Do=function(){return new bX.New();};bj.Static=function(dy){return new bj.New$1(function(dz){return function(dA){E.Set(dz,dy);return dA();};});};bj.Embed=function(dy){var dz;dz=E.Create$1(_4.Empty());((dy.get_Render())(dz))(a.ignore);return _4.EmbedView(dz.get_View());};bj.Bind=function(dy,dz){return new bj.New$1(function(dA){return function(dB){return((dy.get_Render())(dA))(function(dC){((dz(dC).get_Render())(dA))(dB);});};});};bk.New=function(dy,dz){return{Name:dy,Address:dz};};bl.EmailTy={$:0};bl.PhoneTy={$:1};bm.get_Double=function(){return bY.DoubleInterpolation;};bn=c.Easing=dw.Class({TransformTime:function(dy){return this.transformTime(dy);}},G,bn);bn.get_CubicInOut=function(){return bZ.CubicInOut();};bn.Custom=function(dy){return new bn.New(dy);};bn.New=dw.Ctor(function(dy){this.transformTime=dy;},bn);bo.Simple=function(dy,dz,dA,dB,dC){return{Compute:function(dD){return dy.Interpolate(dz.TransformTime(dD/dA),dB,dC);},Duration:dA};};bo.Const=function(dy){return cT.Const(dy);};bo.get_UseAnimations=function(){return cT.UseAnimations();};bo.Delayed=function(dy,dz,dA,dB,dC,dD){return{Compute:function(dE){return dE<=dB?dC:dy.Interpolate(dz.TransformTime((dE-dB)/dA),dC,dD);},Duration:dA+dB};};bo.Play=function(dy){var dz;dz=null;return cW.Delay(function(){return cW.Bind(bo.Run(a.ignore,cT.Actions(dy)),function(){cT.Finalize(dy);return cW.Return(null);});});};bo.Append=function(dy,dz){return{$:0,$0:dd.Append(dy.$0,dz.$0)};};bo.Concat=function(dy){return{$:0,$0:dd.Concat(bx.map(cT.List,dy))};};bo.Run=function(dy,dz){var dA;function dB(dC){function dD(dE,dF){var dG;dG=dF-dE;dz.Compute(dG);dy();return dG<=dA?void a.requestAnimationFrame(function(dH){dD(dE,dH);}):dC();}a.requestAnimationFrame(function(dE){dD(dE,dE);});}dA=dz.Duration;return dA===0?cW.Zero():cW.FromContinuations(function(dC,dD,dE){return dB.apply(null,[dC,dD,dE]);});};bo.Map=function(dy,dz){var dA;return cT.Def(dz.Duration,(dA=dz.Compute,function(dB){return dy(dA(dB));}));};bo.Pack=function(dy){return{$:0,$0:dd.Single({$:1,$0:dy})};};bo.get_Empty=function(){return{$:0,$0:dd.Empty()};};bo.WhenDone=function(dy,dz){return bo.Append({$:0,$0:dd.Single({$:0,$0:dy})},dz);};bp.Create=function(dy){return new bp.New$1(dy);};bp.Enter=function(dy,dz){return dz.Copy(null,{$:1,$0:dy},null,{$:1,$0:dz.get_TFlags()|2});};bp.Exit=function(dy,dz){return dz.Copy(null,null,{$:1,$0:dy},{$:1,$0:dz.get_TFlags()|4});};bp.CanAnimateEnter=function(dy){var dz,dA;dz=dy.get_TFlags();dA=2;return(dz&dA)===dA;};bp.CanAnimateExit=function(dy){var dz,dA;dz=dy.get_TFlags();dA=4;return(dz&dA)===dA;};bp.AnimateChange=function(dy,dz,dA){return dy.TChange(dz,dA);};bp.AnimateEnter=function(dy,dz){return(dy.get_TEnter())(dz);};bp.AnimateExit=function(dy,dz){return(dy.get_TExit())(dz);};bq.New=function(dy,dz){return{Name:dy,Address:dz};};br.EmailTy={$:0};br.PhoneTy={$:1};bt.TryFind=function(dy,dz){return dz.TryFind(dy);};bt.OfArray=function(dy){return new b0.New$1(cD.OfSeq(bx.map(function(dz){return cF.New(dz[0],dz[1]);},dy)));};bt.FoldBack=function(dy,dz,dA){return bx.fold(function(dB,dC){return dy(dC.Key,dC.Value,dB);},dA,cD.Enumerate(true,dz.get_Tree()));};bt.ToSeq=function(dy){return bx.map(function(dz){return[dz.Key,dz.Value];},cD.Enumerate(false,dy.get_Tree()));};bu.BobsleighHome={$:0};bu.BobsleighHistory={$:1};bu.BobsleighGovernance={$:2};bu.BobsleighTeam={$:3};bw.get_KeysPressed=function(){bv.ActivateKeyListener();return bv.KeyListenerState().KeysPressed.get_View();};bw.get_LastPressed=function(){bv.ActivateKeyListener();return bv.KeyListenerState().LastPressed.get_View();};bw.IsPressed=function(dy){function dz(dA){return dA===dy;}bv.ActivateKeyListener();return bb.Map(function(dA){return f.exists(dz,dA);},bv.KeyListenerState().KeysPressed.get_View());};bx.tryFindIndex=function(dy,dz){var dA,dB,dC;dA=ca.Get(dz);try{dB=true;dC=0;while(dB&&dA.MoveNext())if(dy(dA.Current()))dB=false;else dC=dC+1;return dB?null:{$:1,$0:dC};}finally{if("Dispose"in dA)dA.Dispose();}};bx.iteri=function(dy,dz){var dA,dB;dA=0;dB=ca.Get(dz);try{while(dB.MoveNext()){dy(dA,dB.Current());dA=dA+1;}}finally{if("Dispose"in dB)dB.Dispose();}};bx.indexed=function(dy){return bx.mapi(function(dz,dA){return[dz,dA];},dy);};bx.map=function(dy,dz){return{GetEnumerator:function(){var dA;dA=ca.Get(dz);return new cc.New(null,null,function(dB){return dA.MoveNext()&&(dB.c=dy(dA.Current()),true);},function(){dA.Dispose();});}};};bx.collect=function(dy,dz){return bx.concat(bx.map(dy,dz));};bx.append=function(dy,dz){return{GetEnumerator:function(){var dA,dB;dA=ca.Get(dy);dB=[true];return new cc.New(dA,null,function(dC){var dD;return dC.s.MoveNext()?(dC.c=dC.s.Current(),true):(dD=dC.s,!bc.Equals(dD,null)?dD.Dispose():void 0,dC.s=null,dB[0]&&(dB[0]=false,dC.s=ca.Get(dz),dC.s.MoveNext()?(dC.c=dC.s.Current(),true):(dC.s.Dispose(),dC.s=null,false)));},function(dC){var dD;dD=dC.s;!bc.Equals(dD,null)?dD.Dispose():void 0;});}};};bx.tryPick=function(dy,dz){var dA,dB;dA=ca.Get(dz);try{dB=null;while(bc.Equals(dB,null)&&dA.MoveNext())dB=dy(dA.Current());return dB;}finally{if("Dispose"in dA)dA.Dispose();}};bx.mapi=function(dy,dz){return bx.map2(dy,bx.initInfinite(a.id),dz);};bx.concat=function(dy){return{GetEnumerator:function(){var dz;dz=ca.Get(dy);return new cc.New(null,null,function(dA){var dB;while(true){dB=dA.s;if(bc.Equals(dB,null)){if(dz.MoveNext()){dA.s=ca.Get(dz.Current());dA=dA;}else{dz.Dispose();return false;}}else if(dB.MoveNext()){dA.c=dB.Current();return true;}else{dA.Dispose();dA.s=null;dA=dA;}}},function(dA){var dB;dB=dA.s;!bc.Equals(dB,null)?dB.Dispose():void 0;!bc.Equals(dz,null)?dz.Dispose():void 0;});}};};bx.fold=function(dy,dz,dA){var dB,dC;dB=dz;dC=ca.Get(dA);try{while(dC.MoveNext())dB=dy(dB,dC.Current());return dB;}finally{if("Dispose"in dC)dC.Dispose();}};bx.map2=function(dy,dz,dA){return{GetEnumerator:function(){var dB,dC;dB=ca.Get(dz);dC=ca.Get(dA);return new cc.New(null,null,function(dD){return dB.MoveNext()&&dC.MoveNext()&&(dD.c=dy(dB.Current(),dC.Current()),true);},function(){dB.Dispose();dC.Dispose();});}};};bx.initInfinite=function(dy){return{GetEnumerator:function(){return new cc.New(0,null,function(dz){dz.c=dy(dz.s);dz.s=dz.s+1;return true;},void 0);}};};bx.filter=function(dy,dz){return{GetEnumerator:function(){var dA;dA=ca.Get(dz);return new cc.New(null,null,function(dB){var dC,dD,dE;dC=dA.MoveNext();dD=dA.Current();dE=false;while(dC)if(dy(dD)){dB.c=dD;dE=true;dC=false;}else if(dA.MoveNext())dD=dA.Current();else dC=false;return dE;},function(){dA.Dispose();});}};};bx.delay=function(dy){return{GetEnumerator:function(){return ca.Get(dy());}};};bx.distinctBy=function(dy,dz){return{GetEnumerator:function(){var dA,dB;dA=ca.Get(dz);dB=new cn.New$3();return new cc.New(null,null,function(dC){var dD,dE;if(dA.MoveNext()){dD=dA.Current();dE=dB.Add(dy(dD));while(!dE&&dA.MoveNext()){dD=dA.Current();dE=dB.Add(dy(dD));}return dE&&(dC.c=dD,true);}else return false;},function(){dA.Dispose();});}};};bx.forall2=function(dy,dz,dA){return!bx.exists2(function(dB,dC){return!dy(dB,dC);},dz,dA);};bx.exists2=function(dy,dz,dA){var dB,dC,dD,dE;dB=ca.Get(dz);try{dD=ca.Get(dA);try{dE=false;while(!dE&&dB.MoveNext()&&dD.MoveNext())dE=dy(dB.Current(),dD.Current());dC=dE;}finally{if("Dispose"in dD)dD.Dispose();}return dC;}finally{if("Dispose"in dB)dB.Dispose();}};bx.findIndex=function(dy,dz){var dA;dA=bx.tryFindIndex(dy,dz);return dA==null?F.FailWith("KeyNotFoundException"):dA.$0;};bx.compareWith=function(dy,dz,dA){var dB,dC,dD,dE,dF;dB=ca.Get(dz);try{dD=ca.Get(dA);try{dE=0;dF=true;while(dF&&dE===0)if(dB.MoveNext())dE=dD.MoveNext()?dy(dB.Current(),dD.Current()):1;else if(dD.MoveNext())dE=-1;else dF=false;dC=dE;}finally{if("Dispose"in dD)dD.Dispose();}return dC;}finally{if("Dispose"in dB)dB.Dispose();}};bx.distinct=function(dy){return bx.distinctBy(a.id,dy);};bx.iter=function(dy,dz){var dA;dA=ca.Get(dz);try{while(dA.MoveNext())dy(dA.Current());}finally{if("Dispose"in dA)dA.Dispose();}};bx.nth=function(dy,dz){var dA,dB;if(dy<0)F.FailWith("negative index requested");dA=-1;dB=ca.Get(dz);try{while(dA<dy){!dB.MoveNext()?bx.insufficient():void 0;dA=dA+1;}return dB.Current();}finally{if("Dispose"in dB)dB.Dispose();}};bx.unfold=function(dy,dz){return{GetEnumerator:function(){return new cc.New(dz,null,function(dA){var dB;dB=dy(dA.s);return dB==null?false:(dA.c=dB.$0[0],dA.s=dB.$0[1],true);},void 0);}};};bx.max=function(dy){var dz,dA,dB;dz=ca.Get(dy);try{if(!dz.MoveNext())bx.seqEmpty();dA=dz.Current();while(dz.MoveNext()){dB=dz.Current();bc.Compare(dB,dA)===1?dA=dB:void 0;}return dA;}finally{if("Dispose"in dz)dz.Dispose();}};bx.seqEmpty=function(){return F.FailWith("The input sequence was empty.");};bx.forall=function(dy,dz){return!bx.exists(function(dA){return!dy(dA);},dz);};bx.exists=function(dy,dz){var dA,dB;dA=ca.Get(dz);try{dB=false;while(!dB&&dA.MoveNext())dB=dy(dA.Current());return dB;}finally{if("Dispose"in dA)dA.Dispose();}};I.init=function(dy,dz){var dA,dB,dC;dy<0?F.FailWith("Negative size given."):null;dA=new a.Array(dy);for(dB=0,dC=dy-1;dB<=dC;dB++)dA[dB]=dz(dB);return dA;};I.ofList=function(dy){var dz,dA;dA=[];dz=dy;while(!(dz.$==0)){dA.push(f.head(dz));dz=f.tail(dz);}return dA;};I.map2=function(dy,dz,dA){var dB,dC,dD;I.checkLength(dz,dA);dB=new a.Array(dA.length);for(dC=0,dD=dA.length-1;dC<=dD;dC++)dB[dC]=dy(dz[dC],dA[dC]);return dB;};I.forall=function(dy,dz){var dA,dB,dC,dD;dA=true;dB=0;dD=I.length(dz);while(dA&&dB<dD)if(dy(dz[dB]))dB=dB+1;else dA=false;return dA;};I.checkLength=function(dy,dz){if(dy.length!==dz.length)F.FailWith("The arrays have different lengths.");};I.choose=function(dy,dz){var dA,dB,dC,dD;dA=[];for(dB=0,dC=dz.length-1;dB<=dC;dB++){dD=dy(dz[dB]);dD==null?void 0:dA.push(dD.$0);}return dA;};I.map=function(dy,dz){var dA,dB,dC;dA=new a.Array(dz.length);for(dB=0,dC=dz.length-1;dB<=dC;dB++)dA[dB]=dy(dz[dB]);return dA;};I.max=function(dy){var dz,dA,dB,dC;I.nonEmpty(dy);dz=dy[0];for(dA=1,dB=dy.length-1;dA<=dB;dA++){dC=dy[dA];bc.Compare(dC,dz)===1?dz=dC:void 0;}return dz;};I.mapi=function(dy,dz){var dA,dB,dC;dA=new a.Array(dz.length);for(dB=0,dC=dz.length-1;dB<=dC;dB++)dA[dB]=dy(dB,dz[dB]);return dA;};I.sortInPlaceWith=function(dy,dz){dz.sort(dy);};I.sortInPlace=function(dy){I.mapInPlace(function(dz){return dz[0];},I.mapiInPlace(function(dz,dA){return[dA,dz];},dy).sort(bc.Compare));};I.sortBy=function(dy,dz){return I.map(function(dA){return dA[0];},I.mapi(function(dA,dB){return[dB,[dy(dB),dA]];},dz).sort(function(dA,dB){return bc.Compare(dA[1],dB[1]);}));};I.nonEmpty=function(dy){if(dy.length===0)F.FailWith("The input array was empty.");};I.ofSeq=function(dy){var dz,dA;if(dy instanceof a.Array)return dy.slice();else if(dy instanceof H)return I.ofList(dy);else{dz=[];dA=ca.Get(dy);try{while(dA.MoveNext())dz.push(dA.Current());return dz;}finally{if("Dispose"in dA)dA.Dispose();}}};I.exists=function(dy,dz){var dA,dB,dC,dD;dA=false;dB=0;dD=I.length(dz);while(!dA&&dB<dD)if(dy(dz[dB]))dA=true;else dB=dB+1;return dA;};I.filter=function(dy,dz){var dA,dB,dC;dA=[];for(dB=0,dC=dz.length-1;dB<=dC;dB++)if(dy(dz[dB]))dA.push(dz[dB]);return dA;};I.foldBack=function(dy,dz,dA){var dB,dC,dD,dE,dF;dB=dA;dD=dz.length;for(dE=1,dF=dD;dE<=dF;dE++)dB=dy(dz[dD-dE],dB);return dB;};I.tryFindIndex=function(dy,dz){var dA,dB;dA=null;dB=0;while(dB<dz.length&&dA==null){dy(dz[dB])?dA={$:1,$0:dB}:void 0;dB=dB+1;}return dA;};I.findIndex=function(dy,dz){var dA;dA=I.tryFindIndex(dy,dz);return dA==null?F.FailWith("KeyNotFoundException"):dA.$0;};I.pick=function(dy,dz){var dA;dA=I.tryPick(dy,dz);return dA==null?F.FailWith("KeyNotFoundException"):dA.$0;};I.iter=function(dy,dz){var dA,dB;for(dA=0,dB=dz.length-1;dA<=dB;dA++)dy(dz[dA]);};I.tryPick=function(dy,dz){var dA,dB,dC;dA=null;dB=0;while(dB<dz.length&&dA==null){dC=dy(dz[dB]);dC!=null&&dC.$==1?dA=dC:void 0;dB=dB+1;}return dA;};I.concat=function(dy){return a.Array.prototype.concat.apply([],I.ofSeq(dy));};I.create=function(dy,dz){var dA,dB,dC;dA=new a.Array(dy);for(dB=0,dC=dy-1;dB<=dC;dB++)dA[dB]=dz;return dA;};by.GetFieldValues=function(dy){var dz,dA;dz=[];for(var dB in dy)dz.push(dy[dB]);return dz;};bz.New$1=function(dy,dz){return{Parse:dy,Write:dz};};bA.startsWith=function(dy,dz){var dA;switch(dy.$==1?dz.$==1?bc.Equals(dy.$0,dz.$0)?(dA=[dz.$0,dz.$1,dy.$0,dy.$1],1):2:2:0){case 0:return{$:1,$0:dz};break;case 1:return bA.startsWith(dA[3],dA[1]);break;case 2:return null;break;}};bC.toSafe=function(dy){return dy==null?"":dy;};bD=c.ConcreteVar=dw.Class({get_View:function(){return this.view;},Set:function(dy){if(this.isConst)(function(dz){return dz("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal");}(function(dz){du.log(dz);}));else{bE.Obsolete(this.snap);this.current=dy;this.snap=bE.New({$:2,$0:dy,$1:[]});}},Get:function(){return this.current;},Update:function(dy){this.Set(dy(this.Get()));},UpdateMaybe:function(dy){var dz;dz=dy(this.Get());dz!=null&&dz.$==1?this.Set(dz.$0):void 0;},get_Id:function(){return"uinref"+ds(this.id);}},E,bD);bD.New=dw.Ctor(function(dy,dz,dA){var dB;dB=this;E.New.call(this);this.isConst=dy;this.current=dA;this.snap=dz;this.view=function(){return dB.snap;};this.id=cg.Int();},bD);bE.Map=function(dy,dz){var dA,dB;dA=dz.s;return dA!=null&&dA.$==0?bE.New({$:0,$0:dy(dA.$0)}):(dB=bE.New({$:3,$0:[],$1:[]}),(bE.When(dz,function(dC){bE.MarkDone(dB,dz,dy(dC));},dB),dB));};bE.Map2=function(dy,dz,dA){var dB,dC,dD;function dE(dF){var dG,dH,dI;if(!(dG=dD.s,dG!=null&&dG.$==0||dG!=null&&dG.$==2)){dH=bE.ValueAndForever(dz);dI=bE.ValueAndForever(dA);dH!=null&&dH.$==1?dI!=null&&dI.$==1?dH.$0[1]&&dI.$0[1]?bE.MarkForever(dD,dy(dH.$0[0],dI.$0[0])):bE.MarkReady(dD,dy(dH.$0[0],dI.$0[0])):void 0:void 0;}}dB=dz.s;dC=dA.s;return dB!=null&&dB.$==0?dC!=null&&dC.$==0?bE.New({$:0,$0:dy(dB.$0,dC.$0)}):bE.Map2Opt1(dy,dB.$0,dA):dC!=null&&dC.$==0?bE.Map2Opt2(dy,dC.$0,dz):(dD=bE.New({$:3,$0:[],$1:[]}),(bE.When(dz,dE,dD),bE.When(dA,dE,dD),dD));};bE.WhenRun=function(dy,dz,dA){var dB;dB=dy.s;dB==null?dA():dB!=null&&dB.$==2?(dB.$1.push(dA),dz(dB.$0)):dB!=null&&dB.$==3?(dB.$0.push(dz),dB.$1.push(dA)):dz(dB.$0);};bE.WhenObsoleteRun=function(dy,dz){var dA;dA=dy.s;dA==null?dz():dA!=null&&dA.$==2?dA.$1.push(dz):dA!=null&&dA.$==3?dA.$1.push(dz):void 0;};bE.When=function(dy,dz,dA){var dB;dB=dy.s;dB==null?bE.Obsolete(dA):dB!=null&&dB.$==2?(bE.EnqueueSafe(dB.$1,dA),dz(dB.$0)):dB!=null&&dB.$==3?(dB.$0.push(dz),bE.EnqueueSafe(dB.$1,dA)):dz(dB.$0);};bE.MarkDone=function(dy,dz,dA){var dB;if(dB=dz.s,dB!=null&&dB.$==0)bE.MarkForever(dy,dA);else bE.MarkReady(dy,dA);};bE.Map2Opt1=function(dy,dz,dA){return bE.Map(function(dB){return dy(dz,dB);},dA);};bE.Map2Opt2=function(dy,dz,dA){return bE.Map(function(dB){return dy(dB,dz);},dA);};bE.ValueAndForever=function(dy){var dz;dz=dy.s;return dz!=null&&dz.$==0?{$:1,$0:[dz.$0,true]}:dz!=null&&dz.$==2?{$:1,$0:[dz.$0,false]}:null;};bE.MarkForever=function(dy,dz){var dA,dB,dC,dD;dA=dy.s;if(dA!=null&&dA.$==3){dy.s={$:0,$0:dz};dB=dA.$0;for(dC=0,dD=I.length(dB)-1;dC<=dD;dC++)(I.get(dB,dC))(dz);}else void 0;};bE.MarkReady=function(dy,dz){var dA,dB,dC,dD;dA=dy.s;if(dA!=null&&dA.$==3){dy.s={$:2,$0:dz,$1:dA.$1};dB=dA.$0;for(dC=0,dD=I.length(dB)-1;dC<=dD;dC++)(I.get(dB,dC))(dz);}else void 0;};bE.SnapshotOn=function(dy,dz){var dA;function dB(dC){var dD,dE,dF;if(!(dD=dA.s,dD!=null&&dD.$==0||dD!=null&&dD.$==2)){dE=bE.ValueAndForever(dy);dF=bE.ValueAndForever(dz);dE!=null&&dE.$==1?dF!=null&&dF.$==1?dE.$0[1]||dF.$0[1]?bE.MarkForever(dA,dF.$0[0]):bE.MarkReady(dA,dF.$0[0]):void 0:void 0;}}dA=bE.New({$:3,$0:[],$1:[]});bE.When(dy,dB,dA);bE.WhenReady(dz,dB);return dA;};bE.WhenObsolete=function(dy,dz){var dA;dA=dy.s;dA==null?bE.Obsolete(dz):dA!=null&&dA.$==2?bE.EnqueueSafe(dA.$1,dz):dA!=null&&dA.$==3?bE.EnqueueSafe(dA.$1,dz):void 0;};bE.MapAsync=function(dy,dz){var dA;dA=bE.New({$:3,$0:[],$1:[]});bE.When(dz,function(dB){ch.StartTo(dy(dB),function(dC){bE.MarkDone(dA,dz,dC);});},dA);return dA;};bE.EnqueueSafe=function(dy,dz){var dA,dB,dC,dD;dy.push(dz);if(dy.length%20===0){dA=dy.slice(0);de.Clear(dy);for(dB=0,dC=I.length(dA)-1;dB<=dC;dB++){dD=I.get(dA,dB);typeof dD=="object"?function(dE){if(dE.s)dy.push(dE);}(dD):function(dE){dy.push(dE);}(dD);}}else void 0;};bE.WhenReady=function(dy,dz){var dA,dB;dB=dy.s;switch(dB!=null&&dB.$==2?(dA=dB.$0,0):dB==null?1:dB!=null&&dB.$==3?2:(dA=dB.$0,0)){case 0:dz(dA);break;case 1:null;break;case 2:dB.$0.push(dz);break;}};bE.Map2Unit=function(dy,dz){var dA,dB,dC;function dD(){var dE,dF,dG;if(!(dE=dC.s,dE!=null&&dE.$==0||dE!=null&&dE.$==2)){dF=bE.ValueAndForever(dy);dG=bE.ValueAndForever(dz);dF!=null&&dF.$==1?dG!=null&&dG.$==1?dF.$0[1]&&dG.$0[1]?bE.MarkForever(dC,null):bE.MarkReady(dC,null):void 0:void 0;}}dA=dy.s;dB=dz.s;return dA!=null&&dA.$==0?dB!=null&&dB.$==0?bE.New({$:0,$0:null}):dz:dB!=null&&dB.$==0?dy:(dC=bE.New({$:3,$0:[],$1:[]}),(bE.When(dy,dD,dC),bE.When(dz,dD,dC),dC));};bE.Join=function(dy){var dz;dz=bE.New({$:3,$0:[],$1:[]});bE.When(dy,function(dA){var dB;dB=dA();bE.When(dB,function(dC){var dD,dE;if((dD=dB.s,dD!=null&&dD.$==0)&&(dE=dy.s,dE!=null&&dE.$==0))bE.MarkForever(dz,dC);else bE.MarkReady(dz,dC);},dz);},dz);return dz;};bE.JoinInner=function(dy){var dz;dz=bE.New({$:3,$0:[],$1:[]});bE.When(dy,function(dA){var dB;dB=dA();bE.When(dB,function(dC){var dD,dE;if((dD=dB.s,dD!=null&&dD.$==0)&&(dE=dy.s,dE!=null&&dE.$==0))bE.MarkForever(dz,dC);else bE.MarkReady(dz,dC);},dz);bE.WhenObsolete(dy,dB);},dz);return dz;};bE.Copy=function(dy){var dz,dA,dB;dz=dy.s;return dz==null?dy:dz!=null&&dz.$==2?(dA=bE.New({$:2,$0:dz.$0,$1:[]}),(bE.WhenObsolete(dy,dA),dA)):dz!=null&&dz.$==3?(dB=bE.New({$:3,$0:[],$1:[]}),(bE.When(dy,function(dC){bE.MarkDone(dB,dy,dC);},dB),dB)):dy;};bE.Map3=function(dy,dz,dA,dB){var dC,dD,dE,dF;function dG(dH){var dI,dJ,dK,dL;if(!(dI=dF.s,dI!=null&&dI.$==0||dI!=null&&dI.$==2)){dJ=bE.ValueAndForever(dz);dK=bE.ValueAndForever(dA);dL=bE.ValueAndForever(dB);dJ!=null&&dJ.$==1?dK!=null&&dK.$==1?dL!=null&&dL.$==1?dJ.$0[1]&&dK.$0[1]&&dL.$0[1]?bE.MarkForever(dF,dy(dJ.$0[0],dK.$0[0],dL.$0[0])):bE.MarkReady(dF,dy(dJ.$0[0],dK.$0[0],dL.$0[0])):void 0:void 0:void 0;}}dC=dz.s;dD=dA.s;dE=dB.s;return dC!=null&&dC.$==0?dD!=null&&dD.$==0?dE!=null&&dE.$==0?bE.New({$:0,$0:dy(dC.$0,dD.$0,dE.$0)}):bE.Map3Opt1(dy,dC.$0,dD.$0,dB):dE!=null&&dE.$==0?bE.Map3Opt2(dy,dC.$0,dE.$0,dA):bE.Map3Opt3(dy,dC.$0,dA,dB):dD!=null&&dD.$==0?dE!=null&&dE.$==0?bE.Map3Opt4(dy,dD.$0,dE.$0,dz):bE.Map3Opt5(dy,dD.$0,dz,dB):dE!=null&&dE.$==0?bE.Map3Opt6(dy,dE.$0,dz,dA):(dF=bE.New({$:3,$0:[],$1:[]}),(bE.When(dz,dG,dF),bE.When(dA,dG,dF),bE.When(dB,dG,dF),dF));};bE.Sequence=function(dy){var dz,dA,dB;function dC(dD){var dE;if(dB[0]===0){dE=I.map(function(dF){var dG;dG=dF.s;return dG!=null&&dG.$==0?dG.$0:dG!=null&&dG.$==2?dG.$0:F.FailWith("value not found by View.Sequence");},dz);I.forall(function(dF){var dG;dG=dF.s;return dG!=null&&dG.$==0;},dz)?bE.MarkForever(dA,dE):bE.MarkReady(dA,dE);}else dB[0]--;}dz=I.ofSeq(dy);return dz.length==0?bE.New({$:0,$0:[]}):(dA=bE.New({$:3,$0:[],$1:[]}),(dB=[I.length(dz)-1],(I.iter(function(dD){bE.When(dD,dC,dA);},dz),dA)));};bE.Map3Opt1=function(dy,dz,dA,dB){return bE.Map(function(dC){return dy(dz,dA,dC);},dB);};bE.Map3Opt2=function(dy,dz,dA,dB){return bE.Map(function(dC){return dy(dz,dC,dA);},dB);};bE.Map3Opt3=function(dy,dz,dA,dB){return bE.Map2(function(dC,dD){return dy(dz,dC,dD);},dA,dB);};bE.Map3Opt4=function(dy,dz,dA,dB){return bE.Map(function(dC){return dy(dC,dz,dA);},dB);};bE.Map3Opt5=function(dy,dz,dA,dB){return bE.Map2(function(dC,dD){return dy(dC,dz,dD);},dA,dB);};bE.Map3Opt6=function(dy,dz,dA,dB){return bE.Map2(function(dC,dD){return dy(dC,dD,dz);},dA,dB);};bG.Class=function(dy){return bG.ClassPred(dy,true);};bG.Style=function(dy,dz){return bN.Static(function(dA){bM.SetStyle(dA,dy,dz);});};bG.AnimatedStyle=function(dy,dz,dA,dB){return bN.Animated(dz,dA,function(dC){return function(dD){return bM.SetStyle(dC,dy,dB(dD));};});};bG.ClassPred=function(dy,dz){return bN.Static(function(dA){if(dz)bM.AddClass(dA,dy);else bM.RemoveClass(dA,dy);});};bG.Value=function(dy){function dz(dA){return{$:1,$0:dA};}return bG.CustomValue(dy,a.id,function(dA){return dz(a.id(dA));});};bG.DynamicStyle=function(dy,dz){return bN.Dynamic(dz,function(dA){return function(dB){return bM.SetStyle(dA,dy,dB);};});};bG.Animated=function(dy,dz,dA,dB){return bN.Animated(dz,dA,function(dC){return function(dD){return bM.SetAttr(dC,dy,dB(dD));};});};bG.DynamicClassPred=function(dy,dz){return bN.Dynamic(dz,function(dA){return function(dB){return dB?bM.AddClass(dA,dy):bM.RemoveClass(dA,dy);};});};bG.CustomValue=function(dy,dz,dA){return bG.CustomVar(dy,function(dB,dC){dB.value=dz(dC);},function(dB){return dA(dB.value);});};bG.DynamicProp=function(dy,dz){return bN.Dynamic(dz,function(dA){return function(dB){dA[dy]=dB;};});};bG.CustomVar=function(dy,dz,dA){function dB(dD,dE){return dy.UpdateMaybe(function(dF){var dG,dH;dG=dA(dD);return dG!=null&&dG.$==1&&(!bc.Equals(dG.$0,dF)&&(dH=[dG,dG.$0],true))?dH[0]:null;});}function dC(dD,dE){var dF,dG;dF=dA(dD);return dF!=null&&dF.$==1&&(bc.Equals(dF.$0,dE)&&(dG=dF.$0,true))?null:dz(dD,dE);}return bd.Concat([bG.Handler("change",function(dD){return function(dE){return dB(dD,dE);};}),bG.Handler("input",function(dD){return function(dE){return dB(dD,dE);};}),bG.Handler("keypress",function(dD){return function(dE){return dB(dD,dE);};}),bG.DynamicCustom(function(dD){return function(dE){return dC(dD,dE);};},dy.get_View())]);};bG.Checked=function(dy){function dz(dA,dB){return!bc.Equals(dy.Get(),dA.checked)?dy.Set(dA.checked):null;}return bd.Concat([bG.DynamicProp("checked",dy.get_View()),bG.Handler("change",function(dA){return function(dB){return dz(dA,dB);};})]);};bG.DynamicCustom=function(dy,dz){return bN.Dynamic(dz,dy);};bG.OnAfterRender=function(dy){return new bd({$:4,$0:dy});};bG.Dynamic=function(dy,dz){return bN.Dynamic(dz,function(dA){return function(dB){return bM.SetAttr(dA,dy,dB);};});};bG.Handler=function(dy,dz){return bN.Static(function(dA){dA.addEventListener(dy,function(dB){return(dz(dA))(dB);},false);});};bG.IntValue=function(dy){return bG.CustomVar(dy,function(dz,dA){var dB;dB=dA.get_Input();return dz.value!==dB?void(dz.value=dB):null;},function(dz){var dA,dB,dC;dA=dz.value;return{$:1,$0:dp.isBlank(dA)?(dz.checkValidity?dz.checkValidity():true)?new dn({$:2,$0:dA}):new dn({$:1,$0:dA}):(dB=(dC=0,[cq.TryParseInt32(dA,{get:function(){return dC;},set:function(dD){dC=dD;}}),dC]),dB[0]?new dn({$:0,$0:dB[1],$1:dA}):new dn({$:1,$0:dA}))};});};bG.IntValueUnchecked=function(dy){return bG.CustomValue(dy,ds,function(dz){var dA;return dp.isBlank(dz)?{$:1,$0:0}:(dA=+dz,dA!==dA>>0?null:{$:1,$0:dA});});};bG.FloatValue=function(dy){return bG.CustomVar(dy,function(dz,dA){var dB;dB=dA.get_Input();return dz.value!==dB?void(dz.value=dB):null;},function(dz){var dA,dB;dA=dz.value;return{$:1,$0:dp.isBlank(dA)?(dz.checkValidity?dz.checkValidity():true)?new dn({$:2,$0:dA}):new dn({$:1,$0:dA}):(dB=+dA,a.isNaN(dB)?new dn({$:1,$0:dA}):new dn({$:0,$0:dB,$1:dA}))};});};bG.FloatValueUnchecked=function(dy){return bG.CustomValue(dy,ds,function(dz){var dA;return dp.isBlank(dz)?{$:1,$0:0}:(dA=+dz,a.isNaN(dA)?null:{$:1,$0:dA});});};bH.$cctor=function(){bH.$cctor=a.ignore;bH.SamplesDefault={$:2,$0:z.SimpleTextBox};};bI.$cctor=function(){var dy,dz,dA;bI.$cctor=a.ignore;bI.Entries=f.ofArray([e.mkEntry("Documentation","Official documentation on WebSharper UI, including the API reference and some discussion about the design decisions we made","files/gear.png",f.ofArray([_6.href("Tutorial","https://github.com/intellifactory/websharper.ui.next/blob/master/docs/Tutorial.md"),_6.href("API Reference","https://github.com/intellifactory/websharper.ui.next/blob/master/docs/API.md"),_6.href("Full Documentation","https://github.com/intellifactory/websharper.ui.next/blob/master/README.md")])),e.mkEntry("Articles","Articles written about UI, which provide more detailed discussions about various aspects of the library.","files/uinext-screen.png",f.ofArray([_6.href("WebSharper UI: An Introduction","http://www.websharper.com/blog-entry/3954"),_6.href("WebSharper UI: Declarative Animation","http://www.websharper.com/blog-entry/3964"),_6.href("Structuring Applications with WebSharper UI","http://www.websharper.com/blog-entry/3965")])),e.mkEntry("Presentations","Presentations about UI, providing an overview of the library and deeper insights into the thinking behind it.","files/anton-pres.png",f.ofArray([_6.href("Presentation: Tackle UI with Reactive DOM in F# and WebSharper","https://www.youtube.com/watch?v=wEkS09s3KBc")]))]);bI.NavExternalLinks=f.ofArray([["GitHub","http://www.github.com/IntelliFactory/websharper.ui.next"],["API Reference","https://github.com/intellifactory/websharper.ui.next/blob/master/docs/API.md"]]);bI.NavPages=f.ofArray([A.Home,A.About,x.SamplesDefault()]);bI.fadeTime=300;bI.Fade=(dy=bm.get_Double(),(dz=bn.get_CubicInOut(),(dA=e.fadeTime(),dw.Curried(bo.Simple,2,[dy,dz,dA]))));bI.FadeTransition=bp.Exit(function(){return((e.Fade())(1))(0);},bp.Enter(function(){return((e.Fade())(0))(1);},bp.Create(function(dB,dC){return((e.Fade())(dB))(dC);})));};bK.New=function(dy,dz,dA){return{FileName:dy,Keywords:dz,Title:dA};};bL.$cctor=function(){bL.$cctor=a.ignore;bL.Width=720;bL.Height=500;bL.Spacing=2;bL.SimpleTransition=bp.Create(_.SimpleAnimation);bL.BarTransition=bp.Enter(function(dy){return _.SimpleAnimation(0,dy);},_.SimpleTransition());bL.LoadData=bb.MapAsync(function(){return _.LoadFromCSV("AlphaFrequency.csv");},bb.Const());bL.Sample=x.Build(z.SortableBarChart).Id("SortableBarChart").FileName("SortableBarChart.fs").Keywords(f.ofArray(["animation"])).Render(_.Main).RenderDescription(_.Description).Create();};bM.Doc=function(){cj.$cctor();return cj.Doc;};bM.SetAttr=function(dy,dz,dA){dy.setAttribute(dz,dA);};bM.CreateElement=function(dy){return bM.Doc().createElement(dy);};bM.SetStyle=function(dy,dz,dA){bM.SetProperty(dy.style,dz,dA);};bM.CreateText=function(dy){return bM.Doc().createTextNode(dy);};bM.AddClass=function(dy,dz){dt(dy).addClass(dz);};bM.RemoveClass=function(dy,dz){dt(dy).removeClass(dz);};bM.SetProperty=function(dy,dz,dA){return dy.setProperty(dz,dA);};bM.CreateSvgElement=function(dy){return bM.Doc().createElementNS("http://www.w3.org/2000/svg",dy);};bM.ChildrenArray=function(dy){var dz,dA,dB;dz=[];for(dA=0,dB=dy.childNodes.length-1;dA<=dB;dA++)dz.push(dy.childNodes[dA]);return dz;};bM.InsertAt=function(dy,dz,dA){var dB;if(!(dA.parentNode===dy&&dz===(dB=dA.nextSibling,bc.Equals(dB,null)?null:dB)))dy.insertBefore(dA,dz);};bM.IterSelector=function(dy,dz,dA){var dB,dC,dD;dB=dy.querySelectorAll(dz);for(dC=0,dD=dB.length-1;dC<=dD;dC++)dA(dB[dC]);};bM.RemoveNode=function(dy,dz){if(dz.parentNode===dy)dy.removeChild(dz);};bN.EmptyAttr=function(){cl.$cctor();return cl.EmptyAttr;};bN.Static=function(dy){return new bd({$:3,$0:dy});};bN.Animated=function(dy,dz,dA){var dB,dC,dD;dB=new cU.New(dy,dz,dA);dC=4;bp.CanAnimateEnter(dy)?dC=dC|1:void 0;bp.CanAnimateExit(dy)?dC=dC|2:void 0;dD=new bd({$:1,$0:dB});bN.SetFlags(dD,dC);return dD;};bN.AppendTree=function(dy,dz){var dA;return dy===null?dz:dz===null?dy:(dA=new bd({$:2,$0:dy,$1:dz}),(bN.SetFlags(dA,bN.Flags(dy)|bN.Flags(dz)),dA));};bN.SetFlags=function(dy,dz){dy.flags=dz;};bN.Dynamic=function(dy,dz){return new bd({$:1,$0:new da.New(dy,dz)});};bN.Updates=function(dy){return ci.MapTreeReduce(function(dz){return dz.NChanged();},bb.Const(),bb.Map2Unit,dy.DynNodes);};bN.Flags=function(dy){return dy!==null&&dy.hasOwnProperty("flags")?dy.flags:0;};bN.Insert=function(dy,dz){var dA,dB,dC;function dD(dE){if(!(dE===null))if(dE!=null&&dE.$==1)dA.push(dE.$0);else if(dE!=null&&dE.$==2){dD(dE.$0);dD(dE.$1);}else if(dE!=null&&dE.$==3)dE.$0(dy);else if(dE!=null&&dE.$==4)dB.push(dE.$0);}dA=[];dB=[];dD(dz);dC=dA.slice(0);return c0.New(dy,bN.Flags(dz),dC,dB.length===0?null:{$:1,$0:function(dE){bx.iter(function(dF){dF(dE);},dB);}});};bN.HasChangeAnim=function(dy){var dz;dz=4;return(dy.DynFlags&dz)===dz;};bN.GetChangeAnim=function(dy){return bN.GetAnim(dy,function(dz,dA){return dz.NGetChangeAnim(dA);});};bN.HasEnterAnim=function(dy){var dz;dz=1;return(dy.DynFlags&dz)===dz;};bN.GetEnterAnim=function(dy){return bN.GetAnim(dy,function(dz,dA){return dz.NGetEnterAnim(dA);});};bN.HasExitAnim=function(dy){var dz;dz=2;return(dy.DynFlags&dz)===dz;};bN.GetExitAnim=function(dy){return bN.GetAnim(dy,function(dz,dA){return dz.NGetExitAnim(dA);});};bN.GetAnim=function(dy,dz){return bo.Concat(I.map(function(dA){return dz(dA,dy.DynElem);},dy.DynNodes));};bN.Sync=function(dy,dz){I.iter(function(dA){dA.NSync(dy);},dz.DynNodes);};bN.Empty=function(dy){return c0.New(dy,0,[],null);};bP.NewGuid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new a.RegExp("[xy]","g"),function(dy){var dz,dA;dz=dr.random()*16|0;dA=dy=="x"?dz:dz&3|8;return dA.toString(16);});};bT=bS.TemplateInstance=dw.Class({get_Doc:function(){return this.doc;}},G,bT);bT.New=dw.Ctor(function(dy,dz){this.doc=dz;this.allVars=dy.$==0?dy.$0:F.FailWith("Should not happen");},bT);bU.CompleteHoles=function(dy,dz,dA){var dC,dD,dE,dF,dG,dH;function dB(dI,dJ){var dK,dL,dM,dN;return dD.Contains(dI)?null:(dK=dJ===0?(dL=E.Create$1(""),[{$:8,$0:dI,$1:dL},dL]):dJ===1?(dM=E.Create$1(0),[{$:13,$0:dI,$1:dM},dM]):dJ===2?(dN=E.Create$1(false),[{$:9,$0:dI,$1:dN},dN]):F.FailWith("Invalid value type"),(dC.set_Item(dI,dK[1]),{$:1,$0:dK[0]}));}dC=new cm.New$5();dD=new cn.New$3();dE=ca.Get(dz);try{while(dE.MoveNext()){dF=dE.Current();(dF.$==8?(dG=[dF.$0,co.Box(dF.$1)],true):dF.$==11?(dG=[dF.$0,co.Box(dF.$1)],true):dF.$==10?(dG=[dF.$0,co.Box(dF.$1)],true):dF.$==13?(dG=[dF.$0,co.Box(dF.$1)],true):dF.$==12?(dG=[dF.$0,co.Box(dF.$1)],true):dF.$==9&&(dG=[dF.$0,co.Box(dF.$1)],true))?(dH=dG[0],dD.Add(dH),dC.set_Item(dH,dG[1])):void 0;}}finally{if("Dispose"in dE)dE.Dispose();}return[bx.append(dz,I.choose(function(dI){return dB(dI[0],dI[1]);},dA)),{$:0,$0:dC}];};bV.MatchesQuery=function(dy,dz){return dz.Name.indexOf(dy)!=-1||dz.Snippet.indexOf(dy)!=-1;};bV.Compare=function(dy,dz,dA){return dy.$==1?bc.Compare(dz.Age,dA.Age):bc.Compare(dz.Name,dA.Name);};bV.New=function(dy,dz,dA){return{Name:dy,Snippet:dz,Age:dA};};bW.Jelen={$:0};bW.Csiga={$:2};bW.Suszterinas={$:1};bW.Stex={$:3};bj=c.Flow=dw.Class({get_Render:function(){return this.render;}},G,bj);bj.New=dw.Ctor(function(dy){bj.New$1.call(this,function(dz){return function(dA){return E.Set(dz,dy(dA));};});},bj);bj.New$1=dw.Ctor(function(dy){this.render=dy;},bj);bX=c.FlowBuilder=dw.Class({Bind:function(dy,dz){return bj.Bind(dy,dz);},ReturnFrom:a.id},G,bX);bX.New=dw.Ctor(function(){},bX);bY=c.DoubleInterpolation=dw.Class({Interpolate:function(dy,dz,dA){return dz+dy*(dA-dz);}},null,bY);bY.DoubleInterpolation=new bY({$:0});bZ.CubicInOut=function(){cr.$cctor();return cr.CubicInOut;};bp=c.Trans=dw.Class({Copy:function(dy,dz,dA,dB){var dC,dD,dE,dF,dG;function dH(dI,dJ){return dC.TChange(dI,dJ);}dC=this;dD=dy==null?function(dI){return function(dJ){return dH(dI,dJ);};}:dy.$0;return new bp.New$3(function(dI,dJ){return(dD(dI))(dJ);},(dE=this.get_TEnter(),dz==null?dE:dz.$0),(dF=this.get_TExit(),dA==null?dF:dA.$0),(dG=this.get_TFlags(),dB==null?dG:dB.$0));},get_TFlags:function(){return this.flags;},TChange:function(dy,dz){return this.change(dy,dz);},get_TEnter:function(){return this.enter;},get_TExit:function(){return this.exit;}},G,bp);bp.New$1=dw.Ctor(function(dy){bp.New$3.call(this,dy,bo.Const,bo.Const,1);},bp);bp.New$3=dw.Ctor(function(dy,dz,dA,dB){this.change=dy;this.enter=dz;this.exit=dA;this.flags=dB;},bp);b0=bs.FSharpMap=dw.Class({Equals:function(dy){return this.get_Count()===dy.get_Count()&&bx.forall2(bc.Equals,this,dy);},get_Count:function(){var dy;dy=this.tree;return dy==null?0:dy.Count;},GetEnumerator$1:function(){return ca.Get(bx.map(function(dy){return{K:dy.Key,V:dy.Value};},cD.Enumerate(false,this.tree)));},Add:function(dy,dz){return new b0.New$1(cD.Add(cF.New(dy,dz),this.tree));},TryFind:function(dy){var dz;dz=cD.TryFind(cF.New(dy,void 0),this.tree);return dz==null?null:{$:1,$0:dz.$0.Value};},get_IsEmpty:function(){return this.tree==null;},GetHashCode:function(){return bc.Hash(I.ofSeq(this));},get_Tree:function(){return this.tree;},GetEnumerator:function(){return this.GetEnumerator$1();},CompareTo0:function(dy){return bx.compareWith(bc.Compare,this,dy);},GetEnumerator0:function(){return this.GetEnumerator$1();}},G,b0);b0.New=dw.Ctor(function(dy){b0.New$1.call(this,cs.fromSeq(dy));},b0);b0.New$1=dw.Ctor(function(dy){this.tree=dy;},b0);b1.ThreadList={$:2};b1.NewThread={$:0};b2.Create=function(){var dy,dz,dA;function dB(){dz.Set(true);}function dC(){dz.Set(false);}dy=E.Create$1(null);dz=E.Create$1(true);dA=_4.Element("div",[bG.DynamicStyle("display",bb.Map(function(dD){return dD?"none":"block";},dz.get_View()))],[b2.LoginForm(function(dD){dy.Set({$:1,$0:dD});dB();})]);return b4.New(dy.get_View(),dA,b2.StatusWidget(function(){dC();},function(){dy.Set(null);dB();},dy.get_View()),dB,dC);};b2.LoginForm=function(dy){var dz,dA,dB,dC;function dD(dE,dF,dG,dH){return _6.divc("form-group",[_4.Element("label",[bd.Create("for",dF),_6.cls("col-sm-2 control-label")],[_4.TextNode(dG)]),_6.divc("col-sm-2",[((dH?function(dI){return function(dJ){return _4.PasswordBox(dI,dJ);};}:function(dI){return function(dJ){return _4.Input(dI,dJ);};})(f.ofArray([_6.cls("form-control"),bd.Create("id",dF),bd.Create("placeholder",dG)])))(dE)])]);}dz=E.Create$1("");dA=E.Create$1("");dB=E.Create$1("");dC=_4.Element("div",[],[_4.Element("p",[_6.cls("bg-danger")],[_4.TextView(dB.get_View())])]);return _4.Element("div",[],[_4.Element("div",[],[_4.TextNode("Hint: TestUser/TestPass")]),dC,_4.Element("form",[_6.cls("form-horizontal"),bd.Create("role","form")],[dD(dz,"user","Username",false),dD(dA,"pass","Password",true),_6.divc("form-group",[_6.divc("col-sm-offset-2 col-sm-10",[_4.Button("Log In",[_6.cls("btn btn-primary")],function(){var dE;cW.Start((dE=null,cW.Delay(function(){return cW.Bind(cv.CheckLogin(dz.Get(),dA.Get()),function(dF){return dF==null?(E.Set(dB,"Invalid credentials."),cW.Zero()):(E.Set(dz,""),E.Set(dA,""),dy(dF.$0),cW.Zero());});})),null);})])])])]);};b2.StatusWidget=function(dy,dz,dA){return _4.EmbedView(bb.Map(function(dB){return dB==null?_4.Concat([_4.Element("li",[],[_4.Link("You are not logged in.",[],a.ignore)]),_4.Element("li",[],[_4.Link("Login",[],dy)])]):_4.Concat([_4.Element("li",[],[_4.Link("Welcome, "+dB.$0.Name+"!",[],a.ignore)]),_4.Element("li",[],[_4.Link("Logout",[],dz)])]);},dA));};b3.New=function(dy,dz,dA){return{Auth:dy,Threads:dz,Go:dA};};b4.New=function(dy,dz,dA,dB,dC){return{LoggedIn:dy,LoginForm:dz,StatusWidget:dA,HideForm:dB,ShowForm:dC};};b5.New=function(dy){return{Go:dy};};b6.New=function(dy){return{Go:dy};};b7.array=function(dy,dz,dA){return dz==null?dA!=null&&dA.$==1?dy.slice(0,dA.$0+1):[]:dA==null?dy.slice(dz.$0):dy.slice(dz.$0,dA.$0+1);};b7.string=function(dy,dz,dA){return dz==null?dA!=null&&dA.$==1?dy.slice(0,dA.$0+1):"":dA==null?dy.slice(dz.$0):dy.slice(dz.$0,dA.$0+1);};b8.LoadFromCSV=function(dy){return cW.FromContinuations(function(dz){dt.get(dy,new G.New(),function(dA){dz(b8.ParseCSV(dA));});});};b8.TopStatesByRatio=function(dy,dz){function dA(dB,dC){return-dC;}return b7.array(I.sortBy(function(dB){return dA(dB[0],dB[1]);},I.map(function(dB){return[dB,b8.Ratio(dy,dz,dB)];},dy.States)),{$:1,$0:0},{$:1,$0:9});};b8.ParseCSV=function(dy){var dz,dA,dB;function dC(dF){return I.findIndex(function(dG){return I.get(dG,0)===dF;},dB);}function dD(dF){return I.findIndex(function(dG){return bc.Equals(dF,dG);},dA);}function dE(dF,dG){return a.Number(I.get(I.get(dB,dC(dG.$0)),1+dD(dF)));}dz=I.filter(function(dF){return dF!=="";},ce.SplitChars(dy,["\r","\n"],0));dA=I.map(function(dF){return{$:0,$0:dF};},b7.array(ce.SplitChars(I.get(dz,0),[","],0),{$:1,$0:1},null));dB=I.map(function(dF){return ce.SplitChars(dF,[","],0);},I.sub(dz,1,I.length(dz)-1));return b8.New(dA,function(dF){return function(dG){return dE(dF,dG);};},I.map(function(dF){return{$:0,$0:I.get(dF,0)};},dB));};b8.Ratio=function(dy,dz,dA){return+(dy.Population(dz))(dA)/+(dy.Population({$:0,$0:"Total"}))(dA);};b8.New=function(dy,dz,dA){return{Brackets:dy,Population:dz,States:dA};};b9.New=function(dy,dz,dA,dB,dC){return{MaxValue:dy,Position:dz,State:dA,Total:dB,Value:dC};};b_.get_Position=function(){!bv.MousePosSt$1().Active?(a.document.addEventListener("mousemove",function(dy){E.Set(bv.MousePosSt$1().PosV,[dy.clientX,dy.clientY]);},false),bv.MousePosSt$1().Active=true):void 0;return bv.MousePosSt$1().PosV.get_View();};b_.get_LeftPressed=function(){bv.ActivateButtonListener();return bv.MouseBtnSt$1().Left.get_View();};b_.get_MiddlePressed=function(){bv.ActivateButtonListener();return bv.MouseBtnSt$1().Middle.get_View();};b_.get_RightPressed=function(){bv.ActivateButtonListener();return bv.MouseBtnSt$1().Right.get_View();};bv.ActivateKeyListener=function(){cC.$cctor();return cC.ActivateKeyListener;};bv.KeyListenerState=function(){cC.$cctor();return cC.KeyListenerState;};bv.MousePosSt$1=function(){cC.$cctor();return cC.MousePosSt;};bv.ActivateButtonListener=function(){cC.$cctor();return cC.ActivateButtonListener;};bv.MouseBtnSt$1=function(){cC.$cctor();return cC.MouseBtnSt;};b$.New=function(dy,dz,dA){return{KeysPressed:dy,KeyListenerActive:dz,LastPressed:dA};};ca.Get=function(dy){return dy instanceof a.Array?ca.ArrayEnumerator(dy):bc.Equals(typeof dy,"string")?ca.StringEnumerator(dy):dy.GetEnumerator();};ca.ArrayEnumerator=function(dy){return new cc.New(0,null,function(dz){var dA;dA=dz.s;return dA<I.length(dy)&&(dz.c=I.get(dy,dA),dz.s=dA+1,true);},void 0);};ca.StringEnumerator=function(dy){return new cc.New(0,null,function(dz){var dA;dA=dz.s;return dA<dy.length&&(dz.c=dy[dA],dz.s=dA+1,true);},void 0);};ca.Get0=function(dy){return dy instanceof a.Array?ca.ArrayEnumerator(dy):bc.Equals(typeof dy,"string")?ca.StringEnumerator(dy):"GetEnumerator0"in dy?dy.GetEnumerator0():dy.GetEnumerator();};cc=ca.T=dw.Class({MoveNext:function(){return this.n(this);},Current:function(){return this.c;},Dispose:function(){if(this.d)this.d(this);}},G,cc);cc.New=dw.Ctor(function(dy,dz,dA,dB){this.s=dy;this.c=dz;this.n=dA;this.d=dB;},cc);cd.CreateFromValue=function(dy){return cH.New(true,dy,cd.cachedLazy);};cd.cachedLazy=function(){return this.v;};cd.Create=function(dy){return cH.New(false,dy,cd.forceLazy);};cd.forceLazy=function(){var dy;dy=this.v();this.c=true;this.v=dy;this.f=cd.cachedLazy;return dy;};ce.StartsWith=function(dy,dz){return dy.substring(0,dz.length)==dz;};ce.ToCharArray=function(dy){return I.init(dy.length,function(dz){return dy[dz];});};ce.SplitChars=function(dy,dz,dA){return ce.Split(dy,new a.RegExp("["+ce.RegexEscape(dz.join(""))+"]"),dA);};ce.Substring=function(dy,dz,dA){return dy.substr(dz,dA);};ce.RegexEscape=function(dy){return dy.replace(new a.RegExp("[-\\/\\\\^$*+?.()|[\\]{}]","g"),"\\$&");};ce.Split=function(dy,dz,dA){return dA===1?I.filter(function(dB){return dB!=="";},ce.SplitWith(dy,dz)):ce.SplitWith(dy,dz);};ce.SplitWith=function(dy,dz){return dy.split(dz);};ce.concat=function(dy,dz){return I.ofSeq(dz).join(dy);};ce.IsNullOrEmpty=function(dy){return dy==null||dy=="";};ce.Join=function(dy,dz){return dz.join(dy);};ce.forall=function(dy,dz){return bx.forall(dy,ce.protect(dz));};ce.protect=function(dy){return dy===null?"":dy;};cg.Int=function(){cg.set_counter(cg.counter()+1);return cg.counter();};cg.Id=function(){cg.set_counter(cg.counter()+1);return"uid"+ds(cg.counter());};cg.set_counter=function(dy){cX.$cctor();cX.counter=dy;};cg.counter=function(){cX.$cctor();return cX.counter;};ch.StartTo=function(dy,dz){cW.StartWithContinuations(dy,dz,function(dA){ch.OnError(dA);},a.ignore,null);};ch.OnError=function(dy){return du.log("WebSharper UI: Uncaught asynchronous exception",dy);};bb=c.View=dw.Class({},null,bb);ci.ofSeqNonCopying=function(dy){var dz,dA;if(dy instanceof a.Array)return dy;else if(dy instanceof H)return I.ofList(dy);else if(dy===null)return[];else{dz=[];dA=ca.Get(dy);try{while(dA.MoveNext())dz.push(dA.Current());return dz;}finally{if("Dispose"in dA)dA.Dispose();}}};ci.TreeReduce=function(dy,dz,dA){var dB;function dC(dD,dE){var dF,dG;return dE<=0?dy:dE===1&&(dD>=0&&dD<dB)?I.get(dA,dD):(dG=dE/2>>0,dz(dC(dD,dG),dC(dD+dG,dE-dG)));}dB=I.length(dA);return dC(0,dB);};ci.mapInPlace=function(dy,dz){var dA,dB;for(dA=0,dB=dz.length-1;dA<=dB;dA++)dz[dA]=dy(dz[dA]);return dz;};ci.MapTreeReduce=function(dy,dz,dA,dB){var dC;function dD(dE,dF){var dG,dH;return dF<=0?dz:dF===1&&(dE>=0&&dE<dC)?dy(I.get(dB,dE)):(dH=dF/2>>0,dA(dD(dE,dH),dD(dE+dH,dF-dH)));}dC=I.length(dB);return dD(0,dC);};cj.$cctor=function(){cj.$cctor=a.ignore;cj.Doc=a.document;};ck.LinkElement=function(dy,dz){ck.InsertDoc(dy,dz,null);};ck.CreateEmbedNode=function(){return{Current:null,Dirty:false};};ck.UpdateEmbedNode=function(dy,dz){dy.Current=dz;dy.Dirty=true;};ck.LocalTemplatesLoaded=function(){c4.$cctor();return c4.LocalTemplatesLoaded;};ck.set_LocalTemplatesLoaded=function(dy){c4.$cctor();c4.LocalTemplatesLoaded=dy;};ck.InsertDoc=function(dy,dz,dA){var dB;return dz!=null&&dz.$==1?ck.InsertNode(dy,dz.$0.El,dA):dz!=null&&dz.$==2?(dB=dz.$0,(dB.Dirty=false,ck.InsertDoc(dy,dB.Current,dA))):dz==null?dA:dz!=null&&dz.$==4?ck.InsertNode(dy,dz.$0.Text,dA):dz!=null&&dz.$==5?ck.InsertNode(dy,dz.$0,dA):dz!=null&&dz.$==6?I.foldBack(function(dC,dD){return dC.constructor===cb?ck.InsertDoc(dy,dC,dD):ck.InsertNode(dy,dC,dD);},dz.$0.Els,dA):ck.InsertDoc(dy,dz.$0,ck.InsertDoc(dy,dz.$1,dA));};ck.CreateRunState=function(dy,dz){return c6.New(c7.get_Empty(),ck.CreateElemNode(dy,bN.EmptyAttr(),dz));};ck.PerformAnimatedUpdate=function(dy,dz,dA){var dB;return bo.get_UseAnimations()?(dB=null,cW.Delay(function(){var dC,dD,dE;dC=c7.FindAll(dA);dD=ck.ComputeChangeAnim(dz,dC);dE=ck.ComputeEnterAnim(dz,dC);return cW.Bind(bo.Play(bo.Append(dD,ck.ComputeExitAnim(dz,dC))),function(){return cW.Bind(ck.SyncElemNodesNextFrame(dy,dz),function(){return cW.Bind(bo.Play(dE),function(){dz.PreviousNodes=dC;return cW.Return(null);});});});})):ck.SyncElemNodesNextFrame(dy,dz);};ck.PerformSyncUpdate=function(dy,dz,dA){var dB;dB=c7.FindAll(dA);ck.SyncElemNode(dy,dz.Top);dz.PreviousNodes=dB;};ck.CreateTextNode=function(){return{Text:bM.CreateText(""),Dirty:false,Value:""};};ck.UpdateTextNode=function(dy,dz){dy.Value=dz;dy.Dirty=true;};ck.CreateElemNode=function(dy,dz,dA){var dB;ck.LinkElement(dy,dA);dB=bN.Insert(dy,dz);return cI.New(dB,dA,null,dy,cg.Int(),dw.GetOptional(dB.OnAfterRender));};ck.LoadedTemplateFile=function(dy){var dz,dA,dB;dz=(dA=null,[ck.LoadedTemplates().TryGetValue(dy,{get:function(){return dA;},set:function(dC){dA=dC;}}),dA]);return dz[0]?dz[1]:(dB=new cm.New$5(),(ck.LoadedTemplates().set_Item(dy,dB),dB));};ck.LoadedTemplates=function(){c4.$cctor();return c4.LoadedTemplates;};ck.InsertNode=function(dy,dz,dA){bM.InsertAt(dy,dA,dz);return dz;};ck.ComputeChangeAnim=function(dy,dz){var dA;function dB(dC){return bN.HasChangeAnim(dC.Attr);}dA=function(dC){return c7.Filter(dB,dC);};return bo.Concat(I.map(function(dC){return bN.GetChangeAnim(dC.Attr);},c7.ToArray(c7.Intersect(dA(dy.PreviousNodes),dA(dz)))));};ck.ComputeEnterAnim=function(dy,dz){return bo.Concat(I.map(function(dA){return bN.GetEnterAnim(dA.Attr);},c7.ToArray(c7.Except(dy.PreviousNodes,c7.Filter(function(dA){return bN.HasEnterAnim(dA.Attr);},dz)))));};ck.ComputeExitAnim=function(dy,dz){return bo.Concat(I.map(function(dA){return bN.GetExitAnim(dA.Attr);},c7.ToArray(c7.Except(dz,c7.Filter(function(dA){return bN.HasExitAnim(dA.Attr);},dy.PreviousNodes)))));};ck.SyncElemNodesNextFrame=function(dy,dz){function dA(dB){a.requestAnimationFrame(function(){ck.SyncElemNode(dy,dz.Top);dB();});}return cM.BatchUpdatesEnabled()?cW.FromContinuations(function(dB,dC,dD){return dA.apply(null,[dB,dC,dD]);}):(ck.SyncElemNode(dy,dz.Top),cW.Return(null));};ck.SyncElemNode=function(dy,dz){!dy?ck.SyncElement(dz):void 0;ck.Sync(dz.Children);ck.AfterRender(dz);};ck.SyncElement=function(dy){function dz(dA){function dB(dC){var dD,dE;return dC!=null&&dC.$==0?dB(dC.$0)||dB(dC.$1):dC!=null&&dC.$==2?(dD=dC.$0,dD.Dirty||dB(dD.Current)):dC!=null&&dC.$==6&&(dE=dC.$0,dE.Dirty||I.exists(dz,dE.Holes));}return dB(dA.Children);}bN.Sync(dy.El,dy.Attr);dz(dy)?ck.DoSyncElement(dy):void 0;};ck.Sync=function(dy){var dz,dA;if(dy!=null&&dy.$==1)ck.SyncElemNode(false,dy.$0);else if(dy!=null&&dy.$==2)ck.Sync(dy.$0.Current);else if(dy==null);else if(dy!=null&&dy.$==5);else if(dy!=null&&dy.$==4){dz=dy.$0;dz.Dirty?(dz.Text.nodeValue=dz.Value,dz.Dirty=false):void 0;}else if(dy!=null&&dy.$==6){dA=dy.$0;I.iter(function(dB){ck.SyncElemNode(false,dB);},dA.Holes);I.iter(function(dB){bN.Sync(dB[0],dB[1]);},dA.Attrs);ck.AfterRender(dA);}else{ck.Sync(dy.$0);ck.Sync(dy.$1);}};ck.AfterRender=function(dy){var dz;dz=dw.GetOptional(dy.Render);dz!=null&&dz.$==1?(dz.$0(dy.El),dw.SetOptional(dy,"Render",null)):void 0;};ck.TextHoleRE=function(){c4.$cctor();return c4.TextHoleRE;};ck.DoSyncElement=function(dy){var dz,dA,dB;function dC(dD,dE){var dF,dG;return dD!=null&&dD.$==1?dD.$0.El:dD!=null&&dD.$==2?(dF=dD.$0,dF.Dirty?(dF.Dirty=false,ck.InsertDoc(dz,dF.Current,dE)):dC(dF.Current,dE)):dD==null?dE:dD!=null&&dD.$==4?dD.$0.Text:dD!=null&&dD.$==5?dD.$0:dD!=null&&dD.$==6?(dG=dD.$0,(dG.Dirty?dG.Dirty=false:void 0,I.foldBack(function(dH,dI){return dH.constructor===cb?dC(dH,dI):dH;},dG.Els,dE))):dC(dD.$0,dC(dD.$1,dE));}dz=dy.El;dm.Iter((dA=dy.El,function(dD){bM.RemoveNode(dA,dD);}),dm.Except(dm.DocChildren(dy),dm.Children(dy.El,dw.GetOptional(dy.Delimiters))));dC(dy.Children,(dB=dw.GetOptional(dy.Delimiters),dB!=null&&dB.$==1?dB.$0[1]:null));};ck.InsertBeforeDelim=function(dy,dz){var dA,dB;dA=dy.parentNode;dB=a.document.createTextNode("");dA.insertBefore(dB,dy);ck.LinkPrevElement(dy,dz);return dB;};ck.LinkPrevElement=function(dy,dz){ck.InsertDoc(dy.parentNode,dz,dy);};cl.$cctor=function(){cl.$cctor=a.ignore;cl.EmptyAttr=null;};bE.Obsolete=function(dy){var dz,dA,dB,dC,dD;dA=dy.s;if(dA==null||(dA!=null&&dA.$==2?(dz=dA.$1,false):dA!=null&&dA.$==3?(dz=dA.$1,false):true))void 0;else{dy.s=null;for(dB=0,dC=I.length(dz)-1;dB<=dC;dB++){dD=I.get(dz,dB);typeof dD=="object"?function(dE){bE.Obsolete(dE);}(dD):dD();}}};bE.New=function(dy){return{s:dy};};cm=bs.Dictionary=dw.Class({set_Item:function(dy,dz){this.set(dy,dz);},ContainsKey:function(dy){var dz,dA;dz=this;dA=this.data[this.hash(dy)];return dA&&I.exists(function(dB){return dz.equals.apply(null,[(F.KeyValue(dB))[0],dy]);},dA);},get_Item:function(dy){return this.get(dy);},set:function(dy,dz){var dA,dB,dC,dD;dA=this;dB=this.hash(dy);dC=this.data[dB];dC?(dD=I.tryFindIndex(function(dE){return dA.equals.apply(null,[(F.KeyValue(dE))[0],dy]);},dC),dD==null?(this.count=this.count+1,dC.push({K:dy,V:dz})):dC[dD.$0]={K:dy,V:dz}):(this.count=this.count+1,this.data[dB]=new a.Array({K:dy,V:dz}));},get:function(dy){var dz,dA;dz=this;dA=this.data[this.hash(dy)];return dA?I.pick(function(dB){var dC;dC=F.KeyValue(dB);return dz.equals.apply(null,[dC[0],dy])?{$:1,$0:dC[1]}:null;},dA):cO.notPresent();},TryGetValue:function(dy,dz){var dA,dB,dC;dA=this;dB=this.data[this.hash(dy)];return dB&&(dC=I.tryPick(function(dD){var dE;dE=F.KeyValue(dD);return dA.equals.apply(null,[dE[0],dy])?{$:1,$0:dE[1]}:null;},dB),dC!=null&&dC.$==1&&(dz.set(dC.$0),true));},Remove:function(dy){return this.remove(dy);},remove:function(dy){var dz,dA,dB,dC;dz=this;dA=this.hash(dy);dB=this.data[dA];return dB&&(dC=I.filter(function(dD){return!dz.equals.apply(null,[(F.KeyValue(dD))[0],dy]);},dB),I.length(dC)<dB.length&&(this.count=this.count-1,this.data[dA]=dC,true));},GetEnumerator:function(){return ca.Get0(this);},GetEnumerator0:function(){return ca.Get0(I.concat(by.GetFieldValues(this.data)));}},G,cm);cm.New$5=dw.Ctor(function(){cm.New$6.call(this,[],bc.Equals,bc.Hash);},cm);cm.New$6=dw.Ctor(function(dy,dz,dA){var dB,dC;this.equals=dz;this.hash=dA;this.count=0;this.data=[];dB=ca.Get(dy);try{while(dB.MoveNext()){dC=dB.Current();this.set(dC.K,dC.V);}}finally{if("Dispose"in dB)dB.Dispose();}},cm);cn=bs.HashSet=dw.Class({Add:function(dy){return this.add(dy);},Contains:function(dy){var dz;dz=this.data[this.hash(dy)];return dz==null?false:this.arrContains(dy,dz);},add:function(dy){var dz,dA;dz=this.hash(dy);dA=this.data[dz];return dA==null?(this.data[dz]=[dy],this.count=this.count+1,true):this.arrContains(dy,dA)?false:(dA.push(dy),this.count=this.count+1,true);},arrContains:function(dy,dz){var dA,dB,dC,dD;dA=true;dB=0;dD=dz.length;while(dA&&dB<dD)if(this.equals.apply(null,[dz[dB],dy]))dA=false;else dB=dB+1;return!dA;},IntersectWith:function(dy){var dz,dA,dB,dC,dD;dz=new cn.New$4(dy,this.equals,this.hash);dA=dj.concat(this.data);for(dB=0,dC=dA.length-1;dB<=dC;dB++){dD=dA[dB];!dz.Contains(dD)?this.Remove(dD):void 0;}},get_Count:function(){return this.count;},CopyTo:function(dy){var dz,dA,dB,dC;dz=0;dA=dj.concat(this.data);for(dB=0,dC=dA.length-1;dB<=dC;dB++)I.set(dy,dB,dA[dB]);},ExceptWith:function(dy){var dz;dz=ca.Get(dy);try{while(dz.MoveNext())this.Remove(dz.Current());}finally{if("Dispose"in dz)dz.Dispose();}},Remove:function(dy){var dz;dz=this.data[this.hash(dy)];return dz==null?false:this.arrRemove(dy,dz)&&(this.count=this.count-1,true);},arrRemove:function(dy,dz){var dA,dB,dC,dD;dA=true;dB=0;dD=dz.length;while(dA&&dB<dD)if(this.equals.apply(null,[dz[dB],dy])){dz.splice.apply(dz,[dB,1]);dA=false;}else dB=dB+1;return!dA;},GetEnumerator:function(){return ca.Get(dj.concat(this.data));},GetEnumerator0:function(){return ca.Get(dj.concat(this.data));}},G,cn);cn.New$3=dw.Ctor(function(){cn.New$4.call(this,[],bc.Equals,bc.Hash);},cn);cn.New$4=dw.Ctor(function(dy,dz,dA){var dB;this.equals=dz;this.hash=dA;this.data=[];this.count=0;dB=ca.Get(dy);try{while(dB.MoveNext())this.add(dB.Current());}finally{if("Dispose"in dB)dB.Dispose();}},cn);cn.New$2=dw.Ctor(function(dy){cn.New$4.call(this,dy,bc.Equals,bc.Hash);},cn);co.Box=a.id;cp.Newest={$:1};cp.Show=function(dy){return dy.$==1?"Newest":"Alphabetical";};cp.Alphabetical={$:0};cq.TryParseInt32=function(dy,dz){return cq.TryParse(dy,-2147483648,2147483647,dz);};cr.$cctor=function(){cr.$cctor=a.ignore;cr.CubicInOut=bn.Custom(function(dy){var dz;dz=dy*dy;return 3*dz-2*(dz*dy);});cr.UseAnimations=true;};cs.fromSeq=function(dy){var dz;dz=I.ofSeq(bx.delay(function(){return bx.collect(function(dA){return[cF.New(dA[0],dA[1])];},bx.distinctBy(function(dA){return dA[0];},dy));}));I.sortInPlace(dz);return cD.Build(dz,0,dz.length-1);};ct.CreateThread=function(dy,dz){return cw.New(cV.Int(),dz,dy,E.Create$1(H.Empty));};ct.CreatePost=function(dy,dz){return cx.New(cV.Int(),dy.Name,dz);};cu.New=function(dy,dz){return{Name:dy,Password:dz};};cv.AddThread=function(dy){var dz;dz=null;return cW.Delay(function(){cv.set_threads(f.append(cv.threads(),f.ofArray([dy])));cv.set_posts(cv.posts().Add(dy.ThreadId,H.Empty));return cW.Return(null);});};cv.AddPost=function(dy,dz){var dA;dA=null;return cW.Delay(function(){var dB,dC,dD;dB=bt.TryFind(dy.ThreadId,cv.posts());return dB==null?(cv.set_posts((dC=f.ofArray([dz]),cv.posts().Add(dy.ThreadId,dC))),cW.Return(null)):(cv.set_posts((dD=f.append(dB.$0,f.ofArray([dz])),cv.posts().Add(dy.ThreadId,dD))),cW.Return(null));});};cv.GetThreads=function(){var dy;dy=null;return cW.Delay(function(){return cW.Bind(cW.Sleep(cv.DELAY()),function(){return cW.Return(cv.threads());});});};cv.GetPosts=function(dy){var dz;dz=null;return cW.Delay(function(){var dA;dA=bt.TryFind(dy.ThreadId,cv.posts());return dA==null?cW.Return(H.Empty):cW.Return(dA.$0);});};cv.set_threads=function(dy){T.$cctor();T.threads=dy;};cv.threads=function(){T.$cctor();return T.threads;};cv.set_posts=function(dy){T.$cctor();T.posts=dy;};cv.posts=function(){T.$cctor();return T.posts;};cv.CheckLogin=function(dy,dz){var dA;dA=null;return cW.Delay(function(){return cW.Bind(cW.Sleep(cv.DELAY()),function(){return cW.Return(cv.CheckCredentials(dy,dz));});});};cv.DELAY=function(){T.$cctor();return T.DELAY;};cv.CheckCredentials=function(dy,dz){var dA;return dy==="TestUser"&&dz==="TestPass"?{$:1,$0:cu.New(dy,dz)}:null;};cw.New=function(dy,dz,dA,dB){return{ThreadId:dy,Title:dz,ThreadAuthorName:dA,Posts:dB};};cx.New=function(dy,dz,dA){return{PostId:dy,PostAuthorName:dz,Content:dA};};cy.New=function(dy,dz){return{Active:dy,PosV:dz};};cB.New=function(dy,dz,dA,dB){return{Active:dy,Left:dz,Middle:dA,Right:dB};};cC.$cctor=function(){cC.$cctor=a.ignore;function dy(dz,dA){var dB;dB=dz.button;return dB===0?E.Set(bv.MouseBtnSt$1().Left,dA):dB===1?E.Set(bv.MouseBtnSt$1().Middle,dA):dB===2?E.Set(bv.MouseBtnSt$1().Right,dA):null;}cC.MousePosSt=cy.New(false,E.Create$1([0,0]));cC.MouseBtnSt=cB.New(false,E.Create$1(false),E.Create$1(false),E.Create$1(false));cC.ActivateButtonListener=!bv.MouseBtnSt$1().Active?(bv.MouseBtnSt$1().Active=true,a.document.addEventListener("mousedown",function(dz){return dy(dz,true);},false),a.document.addEventListener("mouseup",function(dz){return dy(dz,false);},false)):null;cC.KeyListenerState=b$.New(E.Create$1(H.Empty),false,E.Create$1(-1));cC.ActivateKeyListener=!bv.KeyListenerState().KeyListenerActive?(dt(a.document).keydown(function(dz){var dA,dB;dA=dz.which;E.Set(bv.KeyListenerState().LastPressed,dA);dB=bv.KeyListenerState().KeysPressed.Get();return!f.exists(function(dC){return dC===dA;},dB)?bv.KeyListenerState().KeysPressed.Set(f.append(dB,f.ofArray([dA]))):null;}),void dt(a.document).keyup(function(dz){var dA;function dB(dC){return dC!==dA;}dA=dz.which;return E.Update(bv.KeyListenerState().KeysPressed,function(dC){return f.filter(dB,dC);});})):null;};cE.New=function(dy,dz,dA,dB,dC){return{Node:dy,Left:dz,Right:dA,Height:dB,Count:dC};};cF=bs.Pair=dw.Class({Equals:function(dy){return bc.Equals(this.Key,dy.Key);},GetHashCode:function(){return bc.Hash(this.Key);},CompareTo0:function(dy){return bc.Compare(this.Key,dy.Key);}},null,cF);cF.New=function(dy,dz){return new cF({Key:dy,Value:dz});};cH.New=function(dy,dz,dA){return{c:dy,v:dz,f:dA};};cI=c.DocElemNode=dw.Class({Equals:function(dy){return this.ElKey===dy.ElKey;},GetHashCode:function(){return this.ElKey;}},null,cI);cI.New=function(dy,dz,dA,dB,dC,dD){var dE;return new cI((dE={Attr:dy,Children:dz,El:dB,ElKey:dC},(dw.SetOptional(dE,"Delimiters",dA),dw.SetOptional(dE,"Render",dD),dE)));};cK=c.Elt=dw.Class({},_4,cK);cK.New=function(dy,dz,dA){var dB,dC;dB=ck.CreateElemNode(dy,dz,dA.docNode);dC=c1.Create(dA.updates);return new cK.New$1({$:1,$0:dB},bb.Map2Unit(bN.Updates(dB.Attr),dC.v),dy,dC);};cK.TreeNode=function(dy,dz){var dA,dB;function dC(dD){return dD[1];}dA=c1.Create(dz);return new cK.New$1({$:6,$0:dy},bb.Map2Unit((dB=I.map(function(dD){return bN.Updates(dC(dD));},dy.Attrs),ci.TreeReduce(bb.Const(),bb.Map2Unit,dB)),dA.v),I.get(dy.Els,0),dA);};cK.New$1=dw.Ctor(function(dy,dz,dA,dB){_4.New.call(this,dy,dz);this.docNode$1=dy;this.updates$1=dz;this.elt=dA;this.rvUpdates=dB;},cK);cL.ByLetter={$:0};cL.ByFrequency={$:1};cM.BatchUpdatesEnabled=function(){c4.$cctor();return c4.BatchUpdatesEnabled;};cN.StartProcessor=function(dy){var dz;function dA(){var dB;dB=null;return cW.Delay(function(){return cW.Bind(dy,function(){var dC;dC=dz[0];return dC===1?(dz[0]=0,cW.Zero()):dC===2?(dz[0]=1,dA()):cW.Zero();});});}dz=[0];return function(){var dB;dB=dz[0];dB===0?(dz[0]=1,cW.Start(dA(),null)):dB===1?dz[0]=2:void 0;};};cO.notPresent=function(){return F.FailWith("The given key was not present in the dictionary.");};cP.New=function(dy){return{Items:dy};};cQ.Create=function(dy){var dz;dz=c8.Fresh();return cQ.New(E.Create$1(false),dz,dy);};cQ.New=function(dy,dz,dA){return{Done:dy,Key:dz,TodoText:dA};};cR.Create=function(dy,dz){return cR.CreateWithStorage(dy,c9.InMemory(I.ofSeq(dz)));};cR.CreateWithStorage=function(dy,dz){return new cR.New(dy,dz);};cS.input=function(dy){return _4.Input([bd.Create("class","form-control")],dy);};cS.button=function(dy,dz){return _4.Button(dy,[bd.Create("class","btn btn-default")],dz);};cR=c.ListModel=dw.Class({Remove:function(dy){var dz,dA,dB,dC;dz=this;dA=this["var"].Get();dg.Contains(dz.key,dy,dA)?(dB=dz.key,dC=dB(dy),this["var"].Set(this.storage.SRemoveIf(function(dD){return bc.Equals(dB(dD),dC);},dA)),this.ObsoleteKey(dC)):void 0;},Append:function(dy){var dz,dA,dB,dC;dz=this;dA=this["var"].Get();dB=this.key(dy);dC=I.tryFindIndex(function(dD){return bc.Equals(dz.key(dD),dB);},dA);dC!=null&&dC.$==1?this["var"].Set(this.storage.SSetAt(dC.$0,dy,dA)):this["var"].Set(this.storage.SAppend(dy,dA));this.ObsoleteKey(dB);},ObsoleteKey:function(dy){var dz,dA;dz=(dA=null,[this.it.TryGetValue(dy,{get:function(){return dA;},set:function(dB){dA=dB;}}),dA]);dz[0]?(bE.Obsolete(dz[1]),this.it.Remove(dy)):void 0;},GetEnumerator:function(){return ca.Get(this["var"].Get());},GetEnumerator0:function(){return ca.Get0(this["var"].Get());}},G,cR);cR.New=dw.Ctor(function(dy,dz){cR.New$3.call(this,dy,E.Create$1(I.ofSeq(bx.distinctBy(dy,dz.SInit()))),dz);},cR);cR.New$3=dw.Ctor(function(dy,dz,dA){this.key=dy;this["var"]=dz;this.storage=dA;this.v=bb.Map(function(dB){return dB.slice();},this["var"].get_View());this.it=new cm.New$5();},cR);cT.Const=function(dy){return cT.Def(0,function(){return dy;});};cT.UseAnimations=function(){cr.$cctor();return cr.UseAnimations;};cT.Def=function(dy,dz){return{Compute:dz,Duration:dy};};cT.Actions=function(dy){return cT.ConcatActions(I.choose(function(dz){return dz.$==1?{$:1,$0:dz.$0}:null;},dd.ToArray(dy.$0)));};cT.Finalize=function(dy){I.iter(function(dz){if(dz.$==0)dz.$0();},dd.ToArray(dy.$0));};cT.List=function(dy){return dy.$0;};cT.ConcatActions=function(dy){var dz,dA,dB,dC;dz=ci.ofSeqNonCopying(dy);dA=I.length(dz);return dA===0?cT.Const():dA===1?I.get(dz,0):(dB=bx.max(bx.map(function(dD){return dD.Duration;},dz)),(dC=I.map(function(dD){return cT.Prolong(dB,dD);},dz),cT.Def(dB,function(dD){I.iter(function(dE){dE.Compute(dD);},dC);})));};cT.Prolong=function(dy,dz){var dA,dB,dC;dA=dz.Compute;dB=dz.Duration;dC=cd.Create(function(){return dz.Compute(dz.Duration);});return{Compute:function(dD){return dD>=dB?dC.f():dA(dD);},Duration:dy};};cU=c.AnimatedAttrNode=dw.Class({pushVisible:function(dy,dz){this.visible={$:1,$0:dz};this.dirty=true;(this.push(dy))(dz);},sync:function(dy){var dz;if(this.dirty){dz=this.logical;dz==null?void 0:(this.push(dy))(dz.$0);this.visible=this.logical;this.dirty=false;}},NChanged:function(){return this.updates;},NGetChangeAnim:function(dy){var dz,dA,dB,dC;dz=this;return bo.WhenDone(function(){dz.sync(dy);},(dA=this.visible,(dB=this.logical,dA!=null&&dA.$==1&&(dB!=null&&dB.$==1&&(this.dirty&&(dC=[dB.$0,dA.$0],true)))?bo.Pack(bo.Map(function(dD){dz.pushVisible(dy,dD);},bp.AnimateChange(this.tr,dC[1],dC[0]))):bo.get_Empty())));},NGetEnterAnim:function(dy){var dz,dA,dB,dC,dD;dz=this;return bo.WhenDone(function(){dz.sync(dy);},(dA=this.visible,(dB=this.logical,dA!=null&&dA.$==1&&(dB!=null&&dB.$==1&&(this.dirty&&(dC=[dB.$0,dA.$0],true)))?bo.Pack(bo.Map(function(dE){dz.pushVisible(dy,dE);},bp.AnimateChange(this.tr,dC[1],dC[0]))):dA==null&&(dB!=null&&dB.$==1)?bo.Pack(bo.Map(function(dE){dz.pushVisible(dy,dE);},bp.AnimateEnter(this.tr,dB.$0))):bo.get_Empty())));},NGetExitAnim:function(dy){var dz,dA;dz=this;return bo.WhenDone(function(){dz.dirty=true;dz.visible=null;},(dA=this.visible,dA!=null&&dA.$==1?bo.Pack(bo.Map(function(dB){dz.pushVisible(dy,dB);},bp.AnimateExit(this.tr,dA.$0))):bo.get_Empty()));},NSync:a.ignore},G,cU);cU.New=dw.Ctor(function(dy,dz,dA){var dB;dB=this;this.tr=dy;this.push=dA;this.logical=null;this.visible=null;this.dirty=true;this.updates=bb.Map(function(dC){dB.logical={$:1,$0:dC};dB.dirty=true;},dz);},cU);cD.Build=function(dy,dz,dA){var dB,dC,dD;return dA-dz+1<=0?null:(dB=(dz+dA)/2>>0,(dC=cD.Build(dy,dz,dB-1),(dD=cD.Build(dy,dB+1,dA),cD.Branch(I.get(dy,dB),dC,dD))));};cD.OfSeq=function(dy){var dz;dz=I.ofSeq(bx.distinct(dy));I.sortInPlace(dz);return cD.Build(dz,0,dz.length-1);};cD.Branch=function(dy,dz,dA){var dB,dC;return cE.New(dy,dz,dA,1+(dB=dz==null?0:dz.Height,(dC=dA==null?0:dA.Height,bc.Compare(dB,dC)===1?dB:dC)),1+(dz==null?0:dz.Count)+(dA==null?0:dA.Count));};cD.Add=function(dy,dz){return cD.Put(function(dA,dB){return dB;},dy,dz);};cD.TryFind=function(dy,dz){var dA;dA=(cD.Lookup(dy,dz))[0];return dA==null?null:{$:1,$0:dA.Node};};cD.Enumerate=function(dy,dz){function dA(dB,dC){var dD;while(true)if(dB==null)return dC.$==1?{$:1,$0:[dC.$0[0],[dC.$0[1],dC.$1]]}:null;else if(dy){dD=dB;dB=dD.Right;dC=new H({$:1,$0:[dD.Node,dD.Left],$1:dC});}else{dD=dB;dB=dD.Left;dC=new H({$:1,$0:[dD.Node,dD.Right],$1:dC});}}return bx.unfold(function(dB){return dA(dB[0],dB[1]);},[dz,H.Empty]);};cD.Put=function(dy,dz,dA){var dB,dC;dB=cD.Lookup(dz,dA);dC=dB[0];return dC==null?cD.Rebuild(dB[1],cD.Branch(dz,null,null)):cD.Rebuild(dB[1],cD.Branch(dy(dC.Node,dz),dC.Left,dC.Right));};cD.Lookup=function(dy,dz){var dA,dB,dC,dD;dA=[];dB=dz;dC=true;while(dC)if(dB==null)dC=false;else{dD=bc.Compare(dy,dB.Node);dD===0?dC=false:dD===1?(dA.unshift([true,dB.Node,dB.Left]),dB=dB.Right):(dA.unshift([false,dB.Node,dB.Right]),dB=dB.Left);}return[dB,dA];};cD.Rebuild=function(dy,dz){var dA,dC,dD,dE,dF,dG,dH,dI,dJ,dK;function dB(dL){return dL==null?0:dL.Height;}dA=dz;for(dC=0,dD=I.length(dy)-1;dC<=dD;dC++){dA=(dE=I.get(dy,dC),dE[0]?(dF=dE[1],(dG=dE[2],dB(dA)>dB(dG)+1?dB(dA.Left)===dB(dA.Right)+1?(dH=dA.Left,cD.Branch(dH.Node,cD.Branch(dF,dG,dH.Left),cD.Branch(dA.Node,dH.Right,dA.Right))):cD.Branch(dA.Node,cD.Branch(dF,dG,dA.Left),dA.Right):cD.Branch(dF,dG,dA))):(dI=dE[1],(dJ=dE[2],dB(dA)>dB(dJ)+1?dB(dA.Right)===dB(dA.Left)+1?(dK=dA.Right,cD.Branch(dK.Node,cD.Branch(dA.Node,dA.Left,dK.Left),cD.Branch(dI,dK.Right,dJ))):cD.Branch(dA.Node,dA.Left,cD.Branch(dI,dA.Right,dJ)):cD.Branch(dI,dA,dJ))));}return dA;};cV.Int=function(){cV.set_i(cV.i()+1);return cV.i();};cV.set_i=function(dy){T.$cctor();T.i=dy;};cV.i=function(){T.$cctor();return T.i;};cW.Delay=function(dy){return function(dz){try{(dy(null))(dz);}catch(dA){dz.k({$:1,$0:dA});}};};cW.Bind=function(dy,dz){return cW.checkCancel(function(dA){dy(c_.New(function(dB){var dC;if(dB.$==0){dC=dB.$0;cW.scheduler().Fork(function(){try{(dz(dC))(dA);}catch(dD){dA.k({$:1,$0:dD});}});}else cW.scheduler().Fork(function(){dA.k(dB);});},dA.ct));});};cW.Return=function(dy){return function(dz){dz.k({$:0,$0:dy});};};cW.Start=function(dy,dz){var dA,dB;dA=(dB=(cW.defCTS())[0],dz==null?dB:dz.$0);cW.scheduler().Fork(function(){if(!dA.c)dy(c_.New(function(dC){if(dC.$==1)cW.UncaughtAsyncError(dC.$0);},dA));});};cW.Zero=function(){db.$cctor();return db.Zero;};cW.FromContinuations=function(dy){return function(dz){var dA;function dB(dC){if(dA[0])F.FailWith("A continuation provided by Async.FromContinuations was invoked multiple times");else{dA[0]=true;cW.scheduler().Fork(dC);}}dA=[false];dy(function(dC){dB(function(){dz.k({$:0,$0:dC});});},function(dC){dB(function(){dz.k({$:1,$0:dC});});},function(dC){dB(function(){dz.k({$:2,$0:dC});});});};};cW.checkCancel=function(dy){return function(dz){if(dz.ct.c)cW.cancel(dz);else dy(dz);};};cW.defCTS=function(){db.$cctor();return db.defCTS;};cW.UncaughtAsyncError=function(dy){du.log("WebSharper: Uncaught asynchronous exception",dy);};cW.Sleep=function(dy){return function(dz){var dA,dB;dA=void 0;dB=void 0;dA=a.setTimeout(function(){dB.Dispose();cW.scheduler().Fork(function(){dz.k({$:0,$0:null});});},dy);dB=cW.Register(dz.ct,function(){a.clearTimeout(dA);cW.scheduler().Fork(function(){cW.cancel(dz);});});};};cW.cancel=function(dy){dy.k({$:2,$0:new dl.New(dy.ct)});};cW.scheduler=function(){db.$cctor();return db.scheduler;};cW.Register=function(dy,dz){var dA;return dy===cW.noneCT()?{Dispose:function(){return null;}}:(dA=dy.r.push(dz)-1,{Dispose:function(){return I.set(dy.r,dA,a.ignore);}});};cW.StartWithContinuations=function(dy,dz,dA,dB,dC){var dD,dE;dD=(dE=(cW.defCTS())[0],dC==null?dE:dC.$0);!dD.c?dy(c_.New(function(dF){if(dF.$==1)dA(dF.$0);else if(dF.$==2)dB(dF.$0);else dz(dF.$0);},dD)):void 0;};cW.noneCT=function(){db.$cctor();return db.noneCT;};cX.$cctor=function(){cX.$cctor=a.ignore;cX.counter=0;};cY.WriteLink=function(dy,dz){var dA;dA=dz.get_IsEmpty()?"":"?"+cY.WriteQuery(dz);return"/"+cY.Concat(dy)+dA;};cY.WriteQuery=function(dy){function dz(dA,dB){return dA+"="+dB;}return ce.concat("&",bx.map(function(dA){return dz(dA[0],dA[1]);},bt.ToSeq(dy)));};cY.Concat=function(dy){var dz,dA;dz=[];dA=true;f.iter(function(dB){if(!ce.IsNullOrEmpty(dB)){dA?dA=false:dz.push("/");dz.push(dB);}},dy);return ce.Join("",I.ofSeq(dz));};c0.New=function(dy,dz,dA,dB){var dC;dC={DynElem:dy,DynFlags:dz,DynNodes:dA};dw.SetOptional(dC,"OnAfterRender",dB);return dC;};c1=c.Updates=dw.Class({},null,c1);c1.Create=function(dy){var dz;dz=null;dz=c1.New(dy,null,function(){var dA;dA=dz.s;return dA===null?(dA=bE.Copy(dz.c()),dz.s=dA,bE.WhenObsoleteRun(dA,function(){dz.s=null;}),dA):dA;});return dz;};c1.New=function(dy,dz,dA){return new c1({c:dy,s:dz,v:dA});};c2.New=function(dy,dz){return{DataLabel:dy,DataValue:dz};};c3.New=function(dy,dz,dA,dB,dC){return{Label:dy,Value:dz,Rank:dA,MaxValue:dB,NumData:dC};};c4.$cctor=function(){c4.$cctor=a.ignore;c4.BatchUpdatesEnabled=true;c4.LoadedTemplates=new cm.New$5();c4.LocalTemplatesLoaded=false;c4.TextHoleRE="\\${([^}]+)}";};c6.New=function(dy,dz){return{PreviousNodes:dy,Top:dz};};c7.get_Empty=function(){return{$:0,$0:new cn.New$3()};};c7.FindAll=function(dy){var dz;function dA(dC){if(dC!=null&&dC.$==0){dA(dC.$0);dA(dC.$1);}else if(dC!=null&&dC.$==1)dB(dC.$0);else if(dC!=null&&dC.$==2)dA(dC.$0.Current);else if(dC!=null&&dC.$==6)I.iter(dB,dC.$0.Holes);}function dB(dC){dz.push(dC);dA(dC.Children);}dz=[];dA(dy);return{$:0,$0:new cn.New$2(dz)};};c7.Filter=function(dy,dz){return{$:0,$0:dk.Filter(dy,dz.$0)};};c7.Intersect=function(dy,dz){return{$:0,$0:dk.Intersect(dy.$0,dz.$0)};};c7.ToArray=function(dy){return dk.ToArray(dy.$0);};c7.Except=function(dy,dz){return{$:0,$0:dk.Except(dy.$0,dz.$0)};};c8.Fresh=function(){return{$:0,$0:cg.Int()};};c9.InMemory=function(dy){return new df.New(dy);};I.mapiInPlace=function(dy,dz){var dA,dB;for(dA=0,dB=dz.length-1;dA<=dB;dA++)dz[dA]=dy(dA,dz[dA]);return dz;};I.mapInPlace=function(dy,dz){var dA,dB;for(dA=0,dB=dz.length-1;dA<=dB;dA++)dz[dA]=dy(dz[dA]);};bx.insufficient=function(){return F.FailWith("The input sequence has an insufficient number of elements.");};c_.New=function(dy,dz){return{k:dy,ct:dz};};c$.New=function(dy,dz){return{c:dy,r:dz};};da=c.DynamicAttrNode=dw.Class({NChanged:function(){return this.updates;},NGetChangeAnim:function(dy){return bo.get_Empty();},NGetEnterAnim:function(dy){return bo.get_Empty();},NGetExitAnim:function(dy){return bo.get_Empty();},NSync:function(dy){if(this.dirty){(this.push(dy))(this.value);this.dirty=false;}}},G,da);da.New=dw.Ctor(function(dy,dz){var dA;dA=this;this.push=dz;this.value=void 0;this.dirty=false;this.updates=bb.Map(function(dB){dA.value=dB;dA.dirty=true;},dy);},da);db.$cctor=function(){db.$cctor=a.ignore;db.noneCT=c$.New(false,[]);db.scheduler=new dh.New();db.defCTS=[new di.New()];db.Zero=cW.Return();db.GetCT=function(dy){dy.k({$:0,$0:dy.ct});};};dc=b.FormatException=dw.Class({},null,dc);dc.New=dw.Ctor(function(){dc.New$1.call(this,"One of the identified items was in an invalid format.");},dc);dc.New$1=dw.Ctor(function(dy){this.message=dy;},dc);dd.Append=function(dy,dz){return dy.$==0?dz:dz.$==0?dy:{$:2,$0:dy,$1:dz};};dd.Concat=function(dy){var dz;dz=ci.ofSeqNonCopying(dy);return ci.TreeReduce(dd.Empty(),dd.Append,dz);};dd.ToArray=function(dy){var dz;function dA(dB){if(dB.$==1)dz.push(dB.$0);else if(dB.$==2){dA(dB.$0);dA(dB.$1);}else if(dB.$==3)I.iter(function(dC){dz.push(dC);},dB.$0);}dz=[];dA(dy);return dz.slice(0);};dd.Empty=function(){_do.$cctor();return _do.Empty;};dd.Single=function(dy){return{$:1,$0:dy};};de.Clear=function(dy){dy.splice(0,I.length(dy));};df=c9.ArrayStorage=dw.Class({SRemoveIf:function(dy,dz){return I.filter(function(dA){return!dy(dA);},dz);},SSetAt:function(dy,dz,dA){I.set(dA,dy,dz);return dA;},SAppend:function(dy,dz){dz.push(dy);return dz;},SInit:function(){return this.init;}},G,df);df.New=dw.Ctor(function(dy){this.init=dy;},df);dg.Contains=function(dy,dz,dA){var dB;dB=dy(dz);return I.exists(function(dC){return bc.Equals(dy(dC),dB);},dA);};dh=cW.Scheduler=dw.Class({Fork:function(dy){var dz;dz=this;this.robin.push(dy);this.idle?(this.idle=false,a.setTimeout(function(){dz.tick();},0)):void 0;},tick:function(){var dy,dz,dA;dz=this;dA=dx.now();dy=true;while(dy)if(this.robin.length===0){this.idle=true;dy=false;}else{(this.robin.shift())();dx.now()-dA>40?(a.setTimeout(function(){dz.tick();},0),dy=false):void 0;}}},G,dh);dh.New=dw.Ctor(function(){this.idle=true;this.robin=[];},dh);di=b.CancellationTokenSource=dw.Class({},G,di);di.New=dw.Ctor(function(){this.c=false;this.pending=null;this.r=[];this.init=1;},di);dj.concat=function(dy){var dz,dA;dz=[];for(var dB in dy)dz.push.apply(dz,dy[dB]);return dz;};dk.Filter=function(dy,dz){return new cn.New$2(I.filter(dy,dk.ToArray(dz)));};dk.Intersect=function(dy,dz){var dA;dA=new cn.New$2(dk.ToArray(dy));dA.IntersectWith(dk.ToArray(dz));return dA;};dk.ToArray=function(dy){var dz;dz=I.create(dy.get_Count(),void 0);dy.CopyTo(dz);return dz;};dk.Except=function(dy,dz){var dA;dA=new cn.New$2(dk.ToArray(dz));dA.ExceptWith(dk.ToArray(dy));return dA;};dl=b.OperationCanceledException=dw.Class({},null,dl);dl.New=dw.Ctor(function(dy){dl.New$1.call(this,"The operation was canceled.",null,dy);},dl);dl.New$1=dw.Ctor(function(dy,dz,dA){this.message=dy;this.inner=dz;this.ct=dA;},dl);dm.DocChildren=function(dy){var dz;function dA(dB){if(dB!=null&&dB.$==2)dA(dB.$0.Current);else if(dB!=null&&dB.$==1)dz.push(dB.$0.El);else if(dB==null);else if(dB!=null&&dB.$==5)dz.push(dB.$0);else if(dB!=null&&dB.$==4)dz.push(dB.$0.Text);else if(dB!=null&&dB.$==6)I.iter(function(dC){if(dC.constructor===cb)dA(dC);else dz.push(dC);},dB.$0.Els);else{dA(dB.$0);dA(dB.$1);}}dz=[];dA(dy.Children);return{$:0,$0:ci.ofSeqNonCopying(dz)};};dm.Children=function(dy,dz){var dA,dB,dC;if(dz!=null&&dz.$==1){dC=[];dA=dz.$0[0].nextSibling;while(dA!==dz.$0[1]){dC.push(dA);dA=dA.nextSibling;}return{$:0,$0:dC};}else return{$:0,$0:I.init(dy.childNodes.length,(dB=dy.childNodes,function(dD){return dB[dD];}))};};dm.Except=function(dy,dz){var dA;dA=dy.$0;return{$:0,$0:I.filter(function(dB){return I.forall(function(dC){return!(dB===dC);},dA);},dz.$0)};};dm.Iter=function(dy,dz){I.iter(dy,dz.$0);};dn=c.CheckedInput=dw.Class({get_Input:function(){return this.$==1?this.$0:this.$==2?this.$0:this.$1;}},null,dn);_do.$cctor=function(){_do.$cctor=a.ignore;_do.Empty={$:0};};dp.isBlank=function(dy){return ce.forall(dq.IsWhiteSpace,dy);};dq.IsWhiteSpace=function(dy){return dy.match(new a.RegExp("\\s"))!==null;};cq.TryParse=function(dy,dz,dA,dB){var dC,dD;dC=+dy;dD=dC===dC-dC%1&&dC>=dz&&dC<=dA;dD?dB.set(dC):void 0;return dD;};dw.OnLoad(function(){d.Main();});}());


if (typeof IntelliFactory !=='undefined')
  IntelliFactory.Runtime.Start();
